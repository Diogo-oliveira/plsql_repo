-- CHANGED BY: Elisabete Bugalho
-- CHANGE DATE: 07/04/2011 14:06
-- CHANGE REASON: [ALERT-171724] Trials
CREATE TABLE PAT_TRIAL_HIST (
  ID_PAT_TRIAL_HIST   NUMBER(24) NOT NULL ,
  ID_PAT_TRIAL        NUMBER(24) NOT NULL,
  ID_PATIENT          NUMBER(24) NOT NULL,
  ID_EPISODE          NUMBER(24) NOT NULL,
  ID_TRIAL            NUMBER(24) NOT NULL,
  DT_RECORD           TIMESTAMP(6) WITH LOCAL TIME ZONE,
  ID_PROF_RECORD      NUMBER(24),
  DT_TRIAL_BEGIN      TIMESTAMP(6) WITH LOCAL TIME ZONE,
  FLG_STATUS          VARCHAR2(1 CHAR) NOT NULL,
  DT_START            TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DT_END              TIMESTAMP(6) WITH LOCAL TIME ZONE,
  ID_INSTITUTION      NUMBER(24),
  ID_CANCEL_INFO_DET  NUMBER(24),
  CREATE_USER         VARCHAR2(24 CHAR),
  CREATE_TIME         TIMESTAMP(6) WITH LOCAL TIME ZONE,
  CREATE_INSTITUTION  NUMBER(24),
  UPDATE_USER         VARCHAR2(24 CHAR),
  UPDATE_TIME         TIMESTAMP(6) WITH LOCAL TIME ZONE,
  UPDATE_INSTITUTION  NUMBER(24)
);  
  
COMMENT ON TABLE PAT_TRIAL_HIST IS 'Table for register the history of a patient that are participating in clinical trials';
COMMENT ON COLUMN PAT_TRIAL_HIST.ID_PAT_TRIAL_HIST IS 'ID trail';
COMMENT ON COLUMN PAT_TRIAL_HIST.ID_PAT_TRIAL IS 'ID pat_trail';
COMMENT ON COLUMN PAT_TRIAL_HIST.ID_PATIENT IS 'ID patient';
COMMENT ON COLUMN PAT_TRIAL_HIST.ID_EPISODE IS 'ID episode';
COMMENT ON COLUMN PAT_TRIAL_HIST.ID_TRIAL IS 'ID trial';
COMMENT ON COLUMN PAT_TRIAL_HIST.DT_RECORD IS 'Trial creation date';
COMMENT ON COLUMN PAT_TRIAL_HIST.ID_PROF_RECORD IS 'Professional that creates the Trial';
COMMENT ON COLUMN PAT_TRIAL_HIST.DT_TRIAL_BEGIN IS 'Date when the patient is added to the trial';
COMMENT ON COLUMN PAT_TRIAL_HIST.FLG_STATUS IS 'Trial status: A - active(ongoing), C - cancel, F - conclude(finished), D - descontinued, R - resume, H - hold, E - edit';
COMMENT ON COLUMN PAT_TRIAL_HIST.DT_START IS 'Date when the patient starts the participation in the trial';
COMMENT ON COLUMN PAT_TRIAL_HIST.DT_END IS 'Date when the patient ends the participation in the trial';
COMMENT ON COLUMN PAT_TRIAL_HIST.ID_INSTITUTION IS 'Institution where the Trial is created';
COMMENT ON COLUMN PAT_TRIAL_HIST.ID_CANCEL_INFO_DET IS 'Cancel information details.';
COMMENT ON COLUMN PAT_TRIAL_HIST.CREATE_USER IS 'Creation User';
COMMENT ON COLUMN PAT_TRIAL_HIST.CREATE_TIME IS 'Creation Time';
COMMENT ON COLUMN PAT_TRIAL_HIST.CREATE_INSTITUTION IS 'Creation Institution';
COMMENT ON COLUMN PAT_TRIAL_HIST.UPDATE_USER IS 'Update User';
COMMENT ON COLUMN PAT_TRIAL_HIST.UPDATE_TIME IS 'Update Time';
COMMENT ON COLUMN PAT_TRIAL_HIST.UPDATE_INSTITUTION IS 'Update Institution';
-- CHANGE END: Elisabete Bugalho

-- CHANGED BY: Elisabete Bugalho
-- CHANGE DATE: 19/01/2016 10:34
-- CHANGE REASON: [ALERT-317933] Database model documentation and comments corretions
--                
-- Add comments to the columns 
comment on column PAT_TRIAL_HIST.id_pat_trial_hist
  is 'ID trial';
comment on column PAT_TRIAL_HIST.id_pat_trial
  is 'ID pat_trial';  
-- CHANGE END: Elisabete Bugalho