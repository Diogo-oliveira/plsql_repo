-- CHANGED BY: Ariel Machado
-- CHANGE DATE: 18/07/2014 16:34
-- CHANGE REASON: [ALERT-290969] Nursing Care Plan: NANDA, NIC, NOC - Data Model
BEGIN
  pk_frmw_objects.insert_into_frmw_objects(i_owner => 'ALERT', i_obj_name => 'NAN_DIAGNOSIS', i_obj_type => 'TABLE', i_flg_category => 'CNT', i_flg_alert_default => 'N', i_delete_script => '', i_flg_default_child => 'N', i_flg_nzd => 'N', i_responsible_team => 'NURSING');
END;
/
CREATE TABLE NAN_DIAGNOSIS
  (
    ID_NAN_DIAGNOSIS       NUMBER (24) NOT NULL ,
    ID_TERMINOLOGY_VERSION NUMBER (24) NOT NULL ,
    DIAGNOSIS_CODE         NUMBER (24) NOT NULL ,
    CODE_NAME              VARCHAR2 (200 CHAR) AS ( 'NAN_DIAGNOSIS.CODE_NAME.'
    ||TO_CHAR(ID_NAN_DIAGNOSIS) ) VIRTUAL NOT NULL ,
    CODE_DEFINITION VARCHAR2 (200 CHAR) AS ( 'NAN_DIAGNOSIS.CODE_DEFINITION.'
    ||TO_CHAR(ID_NAN_DIAGNOSIS) ) VIRTUAL NOT NULL ,
    YEAR_APPROVED VARCHAR2 (4 CHAR) ,
    YEAR_REVISED  VARCHAR2 (4 CHAR) ,
    LOE           VARCHAR2 (3 CHAR) ,
    REFERENCES CLOB ,
    ID_INST_OWNER      NUMBER (24) ,
    ID_CONCEPT_VERSION NUMBER (24) ,
    ID_CONCEPT_TERM    NUMBER (24) ,
    ID_NAN_CLASS       NUMBER (24) NOT NULL ,
    CREATE_USER        VARCHAR2 (30 CHAR) ,
    CREATE_TIME        TIMESTAMP WITH LOCAL TIME ZONE ,
    CREATE_INSTITUTION NUMBER (24) ,
    UPDATE_USER        VARCHAR2 (30 CHAR) ,
    UPDATE_TIME        TIMESTAMP WITH LOCAL TIME ZONE ,
    UPDATE_INSTITUTION NUMBER (24)
  )
  TABLESPACE ALERT_DATA LOB
  (
    REFERENCES
  )
  STORE AS
  (
    TABLESPACE ALERT_LOB PCTVERSION 10 ENABLE STORAGE IN ROW NOCACHE
  ) ;
COMMENT ON TABLE NAN_DIAGNOSIS
IS
  'NANDA - Nursing Diagnoses' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.ID_NAN_DIAGNOSIS
IS
  'Diagnosis ID (surrogate key)' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.ID_TERMINOLOGY_VERSION
IS
  'NANDA Version ID' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.DIAGNOSIS_CODE
IS
  'NANDA Diagnosis code in the standardized classification of nursing diagnoses' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.CODE_NAME
IS
  'Translation code for NANDA Diagnosis label' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.CODE_DEFINITION
IS
  'Translation code for NANDA Diagnosis definition' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.YEAR_APPROVED
IS
  'Year diagnosis was approved into terminology' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.YEAR_REVISED
IS
  'Year diagnosis was revised into terminology' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.LOE
IS
  'Level of Evidence Criteria' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.REFERENCES
IS
  'Citation References related with the NANDA Diagnosis' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.ID_INST_OWNER
IS
  'Institution owner of the concept. 0 - ALERT' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.ID_CONCEPT_VERSION
IS
  'Concept version ID' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.ID_CONCEPT_TERM
IS
  'Concept term ID' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.ID_NAN_CLASS
IS
  'Class ID (surrogate key)' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.CREATE_USER
IS
  'Creation User' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.CREATE_TIME
IS
  'Creation Time' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.CREATE_INSTITUTION
IS
  'Creation Institution' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.UPDATE_USER
IS
  'Update User' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.UPDATE_TIME
IS
  'Update Time' ;
  COMMENT ON COLUMN NAN_DIAGNOSIS.UPDATE_INSTITUTION
IS
  'Update Institution' ;
  
-- CHANGE END: Ariel Machado