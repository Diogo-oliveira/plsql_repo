CREATE TABLE EHR_ACCESS_REASON
 (ID_EHR_ACCESS_REASON NUMBER(24) NOT NULL
 ,CODE_EHR_ACCESS_REASON VARCHAR2(200) NOT NULL
 ,ID_EHR_ACCESS_CONTEXT NUMBER(24) NOT NULL
 ,FLG_AVAILABLE VARCHAR2(1) NOT NULL
 ,FLG_VISIBLE VARCHAR2(1) DEFAULT 'Y' NOT NULL
 ,FLG_DEFAULT VARCHAR2(1) NOT NULL
 ,RANK NUMBER(6)
 ,ID_INSTITUTION NUMBER(24) NOT NULL
 ,ID_SOFTWARE NUMBER(24) NOT NULL
 ,ID_PROFILE_TEMPLATE NUMBER(12)
 );

COMMENT ON COLUMN EHR_ACCESS_REASON.ID_EHR_ACCESS_REASON IS 'Rule function identification';
COMMENT ON COLUMN EHR_ACCESS_REASON.CODE_EHR_ACCESS_REASON IS 'Description code for access reason';
COMMENT ON COLUMN EHR_ACCESS_REASON.ID_EHR_ACCESS_CONTEXT IS 'Access context identification';
COMMENT ON COLUMN EHR_ACCESS_REASON.FLG_AVAILABLE IS 'Is Available? (Y)es, (N)o';
COMMENT ON COLUMN EHR_ACCESS_REASON.FLG_DEFAULT IS 'Is default? (Y)es, (N)o';
COMMENT ON COLUMN EHR_ACCESS_REASON.RANK IS 'Sort order';
COMMENT ON COLUMN EHR_ACCESS_REASON.ID_INSTITUTION IS 'Professional''s institution identification';
COMMENT ON COLUMN EHR_ACCESS_REASON.ID_SOFTWARE IS 'Professional''s software identification';
COMMENT ON COLUMN EHR_ACCESS_REASON.ID_PROFILE_TEMPLATE IS 'Professional profile template';



-- CHANGED BY: Sérgio Santos
-- CHANGE DATE: 21/12/2010 12:43
-- CHANGE REASON: [ALERT-139534] 
DECLARE
    e_generic EXCEPTION;
    
    PRAGMA EXCEPTION_INIT(e_generic, -01430); 
BEGIN
   BEGIN
        EXECUTE IMMEDIATE 'alter table ehr_access_reason add  (
  FLG_NOTES_MANDATORY     VARCHAR2(1) default ''N'')';
    EXCEPTION
        WHEN e_generic THEN
            dbms_output.put_line('WARNING: Operation already performed.');
    END;
end;
/

comment on column ehr_access_reason.FLG_NOTES_MANDATORY
  is 'Indicates if an option requires the completion of notes';
-- CHANGE END: Sérgio Santos