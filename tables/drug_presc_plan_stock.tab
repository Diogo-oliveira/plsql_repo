-- CHANGED BY: Sérgio Cunha
-- CHANGE DATE: 11/09/2009 20:13
-- CHANGE REASON: [ALERT-42984] 
  CREATE TABLE ALERT.DRUG_PRESC_PLAN_STOCK
   (ID_DRUG_PRESC_PLAN_STOCK NUMBER(24,0),
      ID_DRUG_PRESC_PLAN NUMBER(24,0),
      ID_DRUG VARCHAR2(255),
      VERSION VARCHAR2(255),
      QTY_DISP NUMBER(24,2),
      ID_UNIT_DISP NUMBER(24,0),
      ORIGIN NUMBER(24,0),
      LOT_NUMBER VARCHAR2(200 CHAR),
      BAR_CODE VARCHAR2(30 CHAR),
      DT_EXPIRATION DATE,
      CREATE_USER VARCHAR2(24),
      CREATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
      CREATE_INSTITUTION NUMBER(24,0),
      UPDATE_USER VARCHAR2(24),
      UPDATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
      UPDATE_INSTITUTION NUMBER(24,0)
   ) ;


   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.ID_DRUG_PRESC_PLAN_STOCK IS 'Drug_presc_plan_stock primary key';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.ID_DRUG_PRESC_PLAN IS 'Drug_presc_plan foreign key';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.ID_DRUG IS 'Drug identification';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.VERSION IS 'Version';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.QTY_DISP IS 'Dispense quantity';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.ID_UNIT_DISP IS 'Dispense unit measure identification';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.QTY_UNIT_DOSE IS 'Take unit measure quantity';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.ID_UNIT_DOSE IS 'Take unit measure identification';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.ORIGIN IS 'Drug origin';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.LOT_NUMBER IS 'Lot number';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.BAR_CODE IS 'Bar code';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.DT_EXPIRATION IS 'Expiration date';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.CREATE_USER IS 'Creation User';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.CREATE_TIME IS 'Creation Time';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.CREATE_INSTITUTION IS 'Creation Institution';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.UPDATE_USER IS 'Update User';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.UPDATE_TIME IS 'Update Time';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.UPDATE_INSTITUTION IS 'Update Institution';
   COMMENT ON TABLE ALERT.DRUG_PRESC_PLAN_STOCK  IS 'Stock prescription information';
-- CHANGE END: Sérgio Cunha


-- CHANGED BY: Sérgio Cunha
-- CHANGE DATE: 14/09/2009
-- CHANGE REASON: [ALERT-42984] 
  CREATE TABLE ALERT.DRUG_PRESC_PLAN_STOCK
   (ID_DRUG_PRESC_PLAN_STOCK NUMBER(24,0),
      ID_DRUG_PRESC_PLAN NUMBER(24,0),
      ID_DRUG VARCHAR2(255),
      VERSION VARCHAR2(255),
      QTY_DISP NUMBER(24,2),
      ID_UNIT_DISP NUMBER(24,0),
      ORIGIN NUMBER(24,0),
      LOT_NUMBER VARCHAR2(200 CHAR),
      BAR_CODE VARCHAR2(30 CHAR),
      DT_EXPIRATION DATE,
      CREATE_USER VARCHAR2(24),
      CREATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
      CREATE_INSTITUTION NUMBER(24,0),
      UPDATE_USER VARCHAR2(24),
      UPDATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
      UPDATE_INSTITUTION NUMBER(24,0)
   ) ;


   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.ID_DRUG_PRESC_PLAN_STOCK IS 'Drug_presc_plan_stock primary key';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.ID_DRUG_PRESC_PLAN IS 'Drug_presc_plan foreign key';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.ID_DRUG IS 'Drug identification';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.VERSION IS 'Version';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.QTY_DISP IS 'Dispense quantity';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.ID_UNIT_DISP IS 'Dispense unit measure identification';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.ORIGIN IS 'Drug origin';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.LOT_NUMBER IS 'Lot number';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.BAR_CODE IS 'Bar code';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.DT_EXPIRATION IS 'Expiration date';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.CREATE_USER IS 'Creation User';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.CREATE_TIME IS 'Creation Time';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.CREATE_INSTITUTION IS 'Creation Institution';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.UPDATE_USER IS 'Update User';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.UPDATE_TIME IS 'Update Time';
   COMMENT ON COLUMN ALERT.DRUG_PRESC_PLAN_STOCK.UPDATE_INSTITUTION IS 'Update Institution';
   COMMENT ON TABLE ALERT.DRUG_PRESC_PLAN_STOCK  IS 'Stock prescription information';
-- CHANGE END: Sérgio Cunha



-- CHANGED BY: Sérgio Cunha
-- CHANGE DATE: 15/09/2009 08:47
-- CHANGE REASON: [ALERT-42984] 
alter table DRUG_PRESC_PLAN_STOCK add ID_OTHER_PRODUCT NUMBER(24);

comment on column DRUG_PRESC_PLAN_STOCK.ID_OTHER_PRODUCT is 'Other product identification';
-- CHANGE END: Sérgio Cunha

-- CHANGED BY: Nelson Canastro
-- CHANGE DATE: 14/06/2010 12:15
-- CHANGE REASON: [ALERT-86150] 
ALTER TABLE drug_presc_plan_stock add barcode VARCHAR2(200 CHAR);
ALTER TABLE drug_presc_plan_stock add summary VARCHAR2(30 CHAR);
ALTER TABLE drug_presc_plan_stock add reason VARCHAR2(4000 CHAR);

COMMENT ON column drug_presc_plan_stock.barcode IS 'Barcode scanned at administration validation';
COMMENT ON column drug_presc_plan_stock.summary IS 'Result of barcode validation';
COMMENT ON column drug_presc_plan_stock.reason IS 'Reason for proceading with administration when validation fails';
-- CHANGE END: Nelson Canastro


-- CHANGED BY: Sofia Mendes
-- CHANGE DATE: 20/01/2016 11:36
-- CHANGE REASON: [ALERT-317981 ] Old Medication - deprecated tables: Database model documentation and comments corretions
COMMENT ON TABLE DRUG_PRESC_PLAN_STOCK IS 'Stock prescription information [DEPRECATED]';
-- CHANGE END: Sofia Mendes