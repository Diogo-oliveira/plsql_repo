

  CREATE TABLE SCH_RESOURCE
   (	ID_SCH_RESOURCE NUMBER(24,0) NOT NULL ENABLE,
	ID_SCHEDULE NUMBER(24,0) NOT NULL ENABLE,
	ID_INSTITUTION NUMBER(12,0) DEFAULT 2 NOT NULL ENABLE,
	ID_PROFESSIONAL NUMBER(24,0) NOT NULL ENABLE,
	DT_SCH_RESOURCE DATE DEFAULT SYSDATE NOT NULL ENABLE
   );

COMMENT ON COLUMN SCH_RESOURCE.ID_SCH_RESOURCE IS 'Resource identifier';
COMMENT ON COLUMN SCH_RESOURCE.ID_SCHEDULE IS 'Appointment identifier';
COMMENT ON COLUMN SCH_RESOURCE.DT_SCH_RESOURCE IS 'Record creation date';
COMMENT ON COLUMN SCH_RESOURCE.ID_PROFESSIONAL IS 'Professional identifier';
COMMENT ON COLUMN SCH_RESOURCE.ID_INSTITUTION IS 'Institution identifier';
COMMENT ON TABLE SCH_RESOURCE IS 'Contains the association between professionals and appointments.';

ALTER TABLE SCH_RESOURCE ADD DT_SCH_RESOURCE_TSTZ TIMESTAMP WITH LOCAL TIME ZONE DEFAULT CURRENT_TIMESTAMP;	
COMMENT ON COLUMN SCH_RESOURCE.DT_SCH_RESOURCE_TSTZ IS 'Record creation date';

-- CHANGED BY: Telmo Castro
-- CHANGE DATE: 23-09-2008
-- CHANGE REASON: igualar datatype a institution.id_institution
alter table SCH_RESOURCE modify ID_INSTITUTION NUMBER(24);
--END



-- José Brito 22/09/2008 Eliminar colunas DATE
alter table sch_resource drop column dt_sch_resource;




-- CHANGED BY: Nuno Ferreira
-- CHANGE DATE: 18/06/2009
-- CHANGE REASON: [ALERT-32069] 
ALTER TABLE SCH_RESOURCE
ADD FLG_LEADER VARCHAR2(1);

COMMENT ON COLUMN SCH_RESOURCE.FLG_LEADER IS 'Professional leader flag - (Y)es / (N)o';

-- CHANGE END: Nuno Ferreira


-- CHANGED BY: Nuno Ferreira
-- CHANGE DATE: 08/07/2009
-- CHANGE REASON: [ALERT-32069] 
ALTER TABLE SCH_RESOURCE
ADD ID_SCH_CONSULT_VACANCY NUMBER(24);

COMMENT ON COLUMN SCH_RESOURCE.ID_SCH_CONSULT_VACANCY
IS 'Vacancy coupled to this schedule, unless this schedule was created outside work hours. Cannot have fk due to possible existing external system interface';

-- CHANGE END: Nuno Ferreira

-- CHANGED BY:  jose.m.silva
-- CHANGE DATE: 15/01/2016 17:24
-- CHANGE REASON: [ALERT-317730] 
COMMENT ON TABLE SCH_RESOURCE IS 'Relates the schedule with an institution and professional';
COMMENT ON COLUMN SCH_RESOURCE.ID_INSTITUTION IS 'Institution ID';
COMMENT ON COLUMN SCH_RESOURCE.ID_SCHEDULE IS 'Schedule ID';
COMMENT ON COLUMN SCH_RESOURCE.ID_SCH_RESOURCE IS 'Primary key';
COMMENT ON COLUMN SCH_RESOURCE.ID_PROFESSIONAL IS 'Professional ID';
-- CHANGE END:  jose.m.silva