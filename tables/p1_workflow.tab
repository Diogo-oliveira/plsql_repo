-- CHANGED BY: Joana Barroso
-- CHANGE DATE: 21/05/2012 15:00
-- CHANGE REASON: [ALERT-230623 ] 
DECLARE
    l_var PLS_INTEGER;
BEGIN

    SELECT COUNT(1)
      INTO l_var
      FROM user_tables ut
     WHERE ut.table_name = 'P1_WORKFLOW';

    IF l_var != 1
    THEN
        EXECUTE IMMEDIATE '
CREATE TABLE "P1_WORKFLOW"(
CODE_WORKFLOW VARCHAR2(800) NOT NULL,
DESC_WORKFLOW VARCHAR2(4000) NOT NULL,
FLG_AVAILABLE VARCHAR2(4) NOT NULL,
CREATE_USER VARCHAR2(120) ,
CREATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE ,
CREATE_INSTITUTION NUMBER(24,0) ,
UPDATE_USER VARCHAR2(120) ,
UPDATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE ,
UPDATE_INSTITUTION NUMBER(24,0) )';
    END IF;
END;
/

COMMENT ON COLUMN "P1_WORKFLOW"."CODE_WORKFLOW" IS 'Configuration Code';
COMMENT ON COLUMN "P1_WORKFLOW"."DESC_WORKFLOW" IS 'Description of CODE_WORKFLOW';
COMMENT ON COLUMN "P1_WORKFLOW"."FLG_AVAILABLE" IS 'Availability of this record Y - Yes, N - No';
COMMENT ON COLUMN "P1_WORKFLOW"."CREATE_USER" IS 'Creation User';
COMMENT ON COLUMN "P1_WORKFLOW"."CREATE_TIME" IS 'Creation Time';
COMMENT ON COLUMN "P1_WORKFLOW"."CREATE_INSTITUTION" IS 'Creation Institution';
COMMENT ON COLUMN "P1_WORKFLOW"."UPDATE_USER" IS 'Update User';
COMMENT ON COLUMN "P1_WORKFLOW"."UPDATE_TIME" IS 'Update Time';
COMMENT ON COLUMN "P1_WORKFLOW"."UPDATE_INSTITUTION" IS 'Update Institution';
COMMENT ON TABLE "P1_WORKFLOW"  IS 'Table with all referral workflow configurations';
-- CHANGE END: Joana Barroso

-- CHANGED BY: Joao Sa
-- ISSUE: ALERT-317695 Database model documentation and comments corretions
comment on table P1_WORKFLOW
  is 'Referral workflow configurations';
