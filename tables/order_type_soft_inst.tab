-- CHANGED BY: Sérgio Cunha
-- CHANGE DATE: 05/03/2010 15:09
-- CHANGE REASON: [ALERT-78201] 
DECLARE
    l_count    PLS_INTEGER;
    l_sql_stat VARCHAR2(4000) := 'CREATE TABLE ORDER_TYPE_SOFT_INST
   (  ID_ORDER_TYPE NUMBER(24,0),
      ID_SOFTWARE NUMBER(24,0),
      ID_INSTITUTION NUMBER(24,0),
      FLG_AVAILABLE VARCHAR2(1 CHAR),
      CREATE_USER VARCHAR2(24 CHAR),
      CREATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
      CREATE_INSTITUTION NUMBER(24,0),
      UPDATE_USER VARCHAR2(24),
      UPDATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
      UPDATE_INSTITUTION NUMBER(24,0)
   )';

BEGIN

    SELECT COUNT(1)
      INTO l_count
      FROM all_tables
     WHERE table_name = 'ORDER_TYPE_SOFT_INST'
       AND owner = 'ALERT';

    IF l_count = 0
    THEN
        EXECUTE IMMEDIATE (l_sql_stat);
    END IF;

END;
/


   COMMENT ON COLUMN ORDER_TYPE_SOFT_INST.ID_ORDER_TYPE IS 'Order type id';
   COMMENT ON COLUMN ORDER_TYPE_SOFT_INST.ID_SOFTWARE IS 'Software id';
   COMMENT ON COLUMN ORDER_TYPE_SOFT_INST.ID_INSTITUTION IS 'Institution id';
   COMMENT ON COLUMN ORDER_TYPE_SOFT_INST.FLG_AVAILABLE IS 'Availability of the record';
   COMMENT ON COLUMN ORDER_TYPE_SOFT_INST.CREATE_USER IS 'Creation User';
   COMMENT ON COLUMN ORDER_TYPE_SOFT_INST.CREATE_TIME IS 'Creation Time';
   COMMENT ON COLUMN ORDER_TYPE_SOFT_INST.CREATE_INSTITUTION IS 'Creation Institution';
   COMMENT ON COLUMN ORDER_TYPE_SOFT_INST.UPDATE_USER IS 'Update User';
   COMMENT ON COLUMN ORDER_TYPE_SOFT_INST.UPDATE_TIME IS 'Update Time';
   COMMENT ON COLUMN ORDER_TYPE_SOFT_INST.UPDATE_INSTITUTION IS 'Update Institution';
   COMMENT ON TABLE ORDER_TYPE_SOFT_INST  IS 'Order type configuration by software and institution';
-- CHANGE END: Sérgio Cunha