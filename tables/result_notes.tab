-- CHANGED BY: Vanessa Barsottelli
-- CHANGE DATE: 17/02/2012 15:19
-- CHANGE REASON: [ALERT-217230]
 
CREATE TABLE RESULT_NOTES
 (ID_RESULT_NOTES NUMBER(24) NOT NULL
 ,CODE_RESULT_NOTES VARCHAR2(200 CHAR) NOT NULL
 ,FLG_ABNORMALITY VARCHAR2(1 CHAR) NOT NULL
 ,FLG_FREE_TEXT VARCHAR2(1 CHAR) NOT NULL
 ,ID_CONTENT VARCHAR2(200 CHAR) NOT NULL
 ,CREATE_USER VARCHAR2(24 CHAR)
 ,CREATE_TIME TIMESTAMP WITH LOCAL TIME ZONE
 ,CREATE_INSTITUTION NUMBER(24)
 ,UPDATE_USER VARCHAR2(24 CHAR)
 ,UPDATE_TIME TIMESTAMP WITH LOCAL TIME ZONE
 ,UPDATE_INSTITUTION NUMBER(24)
 );

COMMENT ON TABLE RESULT_NOTES IS 'Result notes parameterization';
COMMENT ON COLUMN RESULT_NOTES.ID_RESULT_NOTES IS 'Result notes ID';
COMMENT ON COLUMN RESULT_NOTES.CODE_RESULT_NOTES IS 'Description code';
COMMENT ON COLUMN RESULT_NOTES.FLG_ABNORMALITY IS 'Indicates if the result note has abnormality';
COMMENT ON COLUMN RESULT_NOTES.FLG_FREE_TEXT IS 'Indicates if the result note is free text type';
COMMENT ON COLUMN RESULT_NOTES.ID_CONTENT IS 'Unique content ID';
COMMENT ON COLUMN RESULT_NOTES.CREATE_USER IS 'Create user';
COMMENT ON COLUMN RESULT_NOTES.CREATE_TIME IS 'Create time';
COMMENT ON COLUMN RESULT_NOTES.CREATE_INSTITUTION IS 'Create institution';
COMMENT ON COLUMN RESULT_NOTES.UPDATE_USER IS 'Update user';
COMMENT ON COLUMN RESULT_NOTES.UPDATE_TIME IS 'Update time';
COMMENT ON COLUMN RESULT_NOTES.UPDATE_INSTITUTION IS 'Update institution';

-- CHANGE END: Vanessa Barsottelli

-- CHANGED BY: Vanessa Barsottelli
-- CHANGE DATE: 01/03/2012 15:10
-- CHANGE REASON: [ALERT-221190]
 
CREATE TABLE RESULT_NOTES
 (ID_RESULT_NOTES NUMBER(24) NOT NULL
 ,CODE_RESULT_NOTES VARCHAR2(200 CHAR) NOT NULL
 ,FLG_ABNORMALITY VARCHAR2(1 CHAR) NOT NULL
 ,FLG_FREE_TEXT VARCHAR2(1 CHAR) NOT NULL
 ,ID_CONTENT VARCHAR2(200 CHAR) NOT NULL
 ,CREATE_USER VARCHAR2(24 CHAR)
 ,CREATE_TIME TIMESTAMP WITH LOCAL TIME ZONE
 ,CREATE_INSTITUTION NUMBER(24)
 ,UPDATE_USER VARCHAR2(24 CHAR)
 ,UPDATE_TIME TIMESTAMP WITH LOCAL TIME ZONE
 ,UPDATE_INSTITUTION NUMBER(24)
 );

COMMENT ON TABLE RESULT_NOTES IS 'Result notes parameterization';
COMMENT ON COLUMN RESULT_NOTES.ID_RESULT_NOTES IS 'Result notes ID';
COMMENT ON COLUMN RESULT_NOTES.CODE_RESULT_NOTES IS 'Description code';
COMMENT ON COLUMN RESULT_NOTES.FLG_ABNORMALITY IS 'Indicates if the result note has abnormality';
COMMENT ON COLUMN RESULT_NOTES.FLG_FREE_TEXT IS 'Indicates if the result note is free text type';
COMMENT ON COLUMN RESULT_NOTES.ID_CONTENT IS 'Unique content ID';
COMMENT ON COLUMN RESULT_NOTES.CREATE_USER IS 'Create user';
COMMENT ON COLUMN RESULT_NOTES.CREATE_TIME IS 'Create time';
COMMENT ON COLUMN RESULT_NOTES.CREATE_INSTITUTION IS 'Create institution';
COMMENT ON COLUMN RESULT_NOTES.UPDATE_USER IS 'Update user';
COMMENT ON COLUMN RESULT_NOTES.UPDATE_TIME IS 'Update time';
COMMENT ON COLUMN RESULT_NOTES.UPDATE_INSTITUTION IS 'Update institution';

-- CHANGE END: Vanessa Barsottelli

-- CHANGED BY:  Rui Gomes
-- CHANGE DATE: 17/05/2012 14:13
-- CHANGE REASON: [ALERT-230496] 
DECLARE
    e_column_already_there EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_column_already_there, -01430);
BEGIN
    BEGIN
        EXECUTE IMMEDIATE 'ALTER TABLE result_notes add flg_available VARCHAR2(1 CHAR) default ''Y'' not null';
    EXCEPTION
        WHEN e_column_already_there THEN
            dbms_output.put_line('Column already exists');
    END;   
END;
/
-- CHANGE END:  Rui Gomes