CREATE TABLE DOC_OPERATION 
( 
       ID_DOC_OPERATION         NUMBER(24), 
       CODE_DOC_OPERATION       VARCHAR2(200 CHAR) NOT NULL, 
       OPERATION_NAME           VARCHAR2(200 CHAR) NOT NULL, 
       FLG_AVAILABLE            VARCHAR2(1 CHAR) NOT NULL, 
			 CREATE_USER              VARCHAR2(24 CHAR), 
			 CREATE_TIME              TIMESTAMP WITH LOCAL TIME ZONE, 
			 CREATE_INSTITUTION       NUMBER(24), 
			 UPDATE_USER              VARCHAR2(24 CHAR), 
			 UPDATE_TIME              TIMESTAMP WITH LOCAL TIME ZONE, 
			 UPDATE_INSTITUTION       NUMBER(24) 
) TABLESPACE ALERT_DATA; 
 
-- Table comments 
COMMENT ON TABLE ALERT.DOC_OPERATION IS 'Table that stores all possible operations that can be done on documents'; 
 
-- Column comments 
COMMENT ON COLUMN ALERT.DOC_OPERATION.ID_DOC_OPERATION       IS 'Primary key'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CODE_DOC_OPERATION     IS 'Code action translation'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.OPERATION_NAME         IS 'Internal operation name'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.FLG_AVAILABLE          IS 'Operation availability'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_USER            IS 'Creation User'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_TIME            IS 'Creation Time'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_INSTITUTION     IS 'Creation Institution'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_USER            IS 'Update User'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_TIME            IS 'Update Time'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_INSTITUTION     IS 'Update Institution'; 

CREATE TABLE DOC_OPERATION 
( 
       ID_DOC_OPERATION         NUMBER(24), 
       CODE_DOC_OPERATION       VARCHAR2(200 CHAR) NOT NULL, 
       OPERATION_NAME           VARCHAR2(200 CHAR) NOT NULL, 
       FLG_AVAILABLE            VARCHAR2(1 CHAR) NOT NULL, 
			 CREATE_USER              VARCHAR2(24 CHAR), 
			 CREATE_TIME              TIMESTAMP WITH LOCAL TIME ZONE, 
			 CREATE_INSTITUTION       NUMBER(24), 
			 UPDATE_USER              VARCHAR2(24 CHAR), 
			 UPDATE_TIME              TIMESTAMP WITH LOCAL TIME ZONE, 
			 UPDATE_INSTITUTION       NUMBER(24) 
) TABLESPACE ALERT_DATA; 
 
-- Table comments 
COMMENT ON TABLE ALERT.DOC_OPERATION IS 'Table that stores all possible operations that can be done on documents'; 
 
-- Column comments 
COMMENT ON COLUMN ALERT.DOC_OPERATION.ID_DOC_OPERATION       IS 'Primary key'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CODE_DOC_OPERATION     IS 'Code action translation'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.OPERATION_NAME         IS 'Internal operation name'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.FLG_AVAILABLE          IS 'Operation availability'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_USER            IS 'Creation User'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_TIME            IS 'Creation Time'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_INSTITUTION     IS 'Creation Institution'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_USER            IS 'Update User'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_TIME            IS 'Update Time'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_INSTITUTION     IS 'Update Institution'; 


CREATE TABLE DOC_OPERATION 
( 
       ID_DOC_OPERATION         NUMBER(24), 
       CODE_DOC_OPERATION       VARCHAR2(200 CHAR) NOT NULL, 
       OPERATION_NAME           VARCHAR2(200 CHAR) NOT NULL, 
       FLG_AVAILABLE            VARCHAR2(1 CHAR) NOT NULL, 
			 CREATE_USER              VARCHAR2(24 CHAR), 
			 CREATE_TIME              TIMESTAMP WITH LOCAL TIME ZONE, 
			 CREATE_INSTITUTION       NUMBER(24), 
			 UPDATE_USER              VARCHAR2(24 CHAR), 
			 UPDATE_TIME              TIMESTAMP WITH LOCAL TIME ZONE, 
			 UPDATE_INSTITUTION       NUMBER(24) 
) TABLESPACE ALERT_DATA; 
 
-- Table comments 
COMMENT ON TABLE ALERT.DOC_OPERATION IS 'Table that stores all possible operations that can be done on documents'; 
 
-- Column comments 
COMMENT ON COLUMN ALERT.DOC_OPERATION.ID_DOC_OPERATION       IS 'Primary key'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CODE_DOC_OPERATION     IS 'Code action translation'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.OPERATION_NAME         IS 'Internal operation name'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.FLG_AVAILABLE          IS 'Operation availability'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_USER            IS 'Creation User'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_TIME            IS 'Creation Time'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_INSTITUTION     IS 'Creation Institution'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_USER            IS 'Update User'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_TIME            IS 'Update Time'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_INSTITUTION     IS 'Update Institution';

CREATE TABLE DOC_OPERATION TABLESPACE ALERT_DATA AS(
  SELECT do.operation_name      OPERATION_NAME,
         do.create_user         CREATE_USER,
         do.create_time         CREATE_TIME,
         do.create_institution  CREATE_INSTITUTION,
         do.update_user         UPDATE_USER,
         do.update_time         UPDATE_TIME,
         do.update_institution  UPDATE_INSTITUTION       
  FROM doc_operation do);.
  
-- Table comments 
COMMENT ON TABLE ALERT.DOC_OPERATION IS 'Table that stores all possible operations that can be done on documents'; 
 
-- Column comments 
COMMENT ON COLUMN ALERT.DOC_OPERATION.OPERATION_NAME         IS 'Internal operation name'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.FLG_AVAILABLE          IS 'Operation availability'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_USER            IS 'Creation User'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_TIME            IS 'Creation Time'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.CREATE_INSTITUTION     IS 'Creation Institution'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_USER            IS 'Update User'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_TIME            IS 'Update Time'; 
COMMENT ON COLUMN ALERT.DOC_OPERATION.UPDATE_INSTITUTION     IS 'Update Institution';

ALTER TABLE doc_operation MODIFY OPERATION_NAME VARCHAR2(30 CHAR);
ALTER TABLE DOC_ACT_ENTITY ADD CODE_OPERATION VARCHAR(200 CHAR) GENERATED ALWAYS AS ('DOC_OPERATION.CODE_OPERATION.' || operation_name) VIRTUAL;


COMMENT ON COLUMN ALERT.DOC_OPERATION.CODE_DOC_OPERATION     IS 'Code action translation'; 


ALTER TABLE doc_operation MODIFY OPERATION_NAME VARCHAR2(30 CHAR);
ALTER TABLE doc_operation ADD CODE_OPERATION VARCHAR(200 CHAR) GENERATED ALWAYS AS ('DOC_OPERATION.CODE_OPERATION.' || operation_name) VIRTUAL;


COMMENT ON COLUMN ALERT.DOC_OPERATION.CODE_OPERATION     IS 'Code action translation'; 