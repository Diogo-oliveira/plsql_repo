-- CHANGED BY: Patrícia Neto
-- CHANGED DATE: 2009-MAR-28
-- CHANGING REASON: OVERDOSAGE MODULE
CREATE TABLE PRESC_ADVERSE_DOSAGE_HIST
 (ID_PRESC_ADVERSE_DOSAGE_HIST NUMBER(24) NOT NULL
 ,ID_PRESC_ADVERSE_DOSAGE NUMBER(24) NOT NULL
 ,ID_PATIENT NUMBER(24) NOT NULL
 ,ID_PIH NUMBER(24) NOT NULL
 ,DT_PRESC_ADVERSE_DOSAGE_HIST TIMESTAMP WITH LOCAL TIME ZONE
 ,ID_PRESCRIPTION_PHARM NUMBER(24)
 ,ID_DRUG_PRESC_DET NUMBER(24)
 ,ID_DRUG_PRESC_PLAN NUMBER(24)
 ,ID_DRUG_REQ_DET NUMBER(24)
 ,HI_DOSE NUMBER(24)
 ,UNIT_HI_DOSE NUMBER(24)
 ,MX_1DOSE NUMBER(24)
 ,UNIT_MX_1DOSE NUMBER(24)
 );


-- Add/modify columns 
alter table PRESC_ADVERSE_DOSAGE_HIST modify UNIT_HI_DOSE NUMBER(24,4);
alter table PRESC_ADVERSE_DOSAGE_HIST modify UNIT_MX_1DOSE NUMBER(24,4);


alter table PRESC_ADVERSE_DOSAGE_HIST rename column HI_DOSE to MX_DOSE;
alter table PRESC_ADVERSE_DOSAGE_HIST rename column UNIT_HI_DOSE to UNIT_MX_DOSE;

-- Add/modify columns 
alter table PRESC_ADVERSE_DOSAGE_HIST add FLG_STATUS varchar2(255);

-- Add/modify columns 
alter table PRESC_ADVERSE_DOSAGE_HIST add REVIEWED_BY varchar2(4000);
alter table PRESC_ADVERSE_DOSAGE_HIST add REVIEW_NOTES varchar2(4000);

alter table PRESC_ADVERSE_DOSAGE_HIST add PRESC_1DOSE NUMBER(24,4);
alter table PRESC_ADVERSE_DOSAGE_HIST add PRESC_1DOSE_UNIT NUMBER(24,4);
alter table PRESC_ADVERSE_DOSAGE_HIST add PRESC_DOSE_DAILY NUMBER(24,4);
alter table PRESC_ADVERSE_DOSAGE_HIST add PRESC_DOSE_DAILY_UNIT NUMBER(24,4);
alter table PRESC_ADVERSE_DOSAGE_HIST add LO_ROUTE_DESCR VARCHAR2(255);
-- CHANGE END Patrícia Neto


-- CHANGED BY: Patrícia Neto
-- CHANGED DATE: 2009-ABR-03
-- CHANGING REASON: OVREDOSAGE MODULE
alter table PRESC_ADVERSE_DOSAGE_HIST modify MX_DOSE NUMBER(24,4);
alter table PRESC_ADVERSE_DOSAGE_HIST modify UNIT_MX_DOSE NUMBER(24);
alter table PRESC_ADVERSE_DOSAGE_HIST modify MX_1DOSE NUMBER(24,4);
alter table PRESC_ADVERSE_DOSAGE_HIST modify UNIT_MX_1DOSE NUMBER(24);
alter table PRESC_ADVERSE_DOSAGE_HIST modify PRESC_1DOSE_UNIT NUMBER(24);
alter table PRESC_ADVERSE_DOSAGE_HIST modify PRESC_DOSE_DAILY_UNIT NUMBER(24);
-- CHANGE END Patrícia Neto

-- CHANGED BY: Patrícia Neto
-- CHANGED DATE: 2009-MAI-25
-- CHANGING REASON: registo do profissional para a sobredosagem
alter table PRESC_ADVERSE_DOSAGE_HIST add ID_PROFESSIONAL NUMBER(24);
-- CHANGE END Patrícia Neto

-- CHANGED BY: Patricia Neto
-- CHANGE DATE: 29/09/2009 10:03
-- CHANGE REASON: [ALERT-34355] Warnings
alter table PRESC_ADVERSE_DOSAGE_HIST add FLG_READ VARCHAR2(1);
-- Add comments to the columns 
comment on column PRESC_ADVERSE_DOSAGE_HIST.FLG_READ
  is 'Indication if the pacient have read the notification or not';    
-- CHANGE END: Patricia Neto

-- CHANGED BY: Sofia Mendes
-- CHANGE DATE: 20/01/2016 12:06
-- CHANGE REASON: [ALERT-317981 ] Old Medication - deprecated tables: Database model documentation and comments corretions
COMMENT ON TABLE PRESC_ADVERSE_DOSAGE_HIST IS ' [DEPRECATED]';
-- CHANGE END: Sofia Mendes