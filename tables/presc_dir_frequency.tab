-- CHANGED BY: Nuno Ferreira
-- CHANGE DATE: 01/03/2010
-- CHANGE REASON: [ALERT-78195] 
declare
l_count pls_integer;
l_sql_stat varchar2(4000) := 'CREATE TABLE ALERT.PRESC_DIR_FREQUENCY
   (ID_PRESC_DIR_FREQUENCY NUMBER(24,0) NOT NULL,
    CODE_PRESC_DIR_FREQUENCY VARCHAR2(200 CHAR) NOT NULL,
    PRESC_DIR_FREQUENCY_INTNAME VARCHAR2(200 CHAR),
    FLG_FREQ_TYPE VARCHAR2(3 CHAR) NOT NULL,
    FREQ_DAILY_AMOUNT NUMBER(6,0),
    FREQ_EVERY_AMOUNT NUMBER(6,0),
    FREQ_EVERY_UNIT NUMBER(24,0),
    FLG_FREQ_EVEN_ODD VARCHAR2(1 CHAR),
    FREQ_WEEK_DAY NUMBER(1,0),
    FREQ_MONTH_DAY NUMBER(2,0),
    CREATE_USER VARCHAR2(24 CHAR),
    CREATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    CREATE_INSTITUTION NUMBER(24,0),
    UPDATE_USER VARCHAR2(24 CHAR),
    UPDATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    UPDATE_INSTITUTION NUMBER(24,0)
   )';
		
begin

select count(1) into l_count from all_tables where table_name = 'PRESC_DIR_FREQUENCY' and owner = 'ALERT';

if l_count = 0 then
  execute immediate (l_sql_stat);

end if;

end;
/
-- CHANGE END: Nuno Ferreira

-- CHANGED BY: Nuno Ferreira
-- CHANGE DATE: 01/03/2010
-- CHANGE REASON: [ALERT-78195]
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.ID_PRESC_DIR_FREQUENCY IS 'Prescription frequency ID';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.CODE_PRESC_DIR_FREQUENCY IS 'Prescription frequency Code';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.PRESC_DIR_FREQUENCY_INTNAME IS 'Prescription frequency Internal Name';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.FLG_FREQ_TYPE IS 'Frequency type';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.FREQ_DAILY_AMOUNT IS 'Daily amount';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.FREQ_EVERY_AMOUNT IS 'Every....';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.FREQ_EVERY_UNIT IS 'Every Unit';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.FLG_FREQ_EVEN_ODD IS 'Flag for Even or Odd days';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.FREQ_WEEK_DAY IS 'Frequency Week day: 1-Monday .. 7-Sunday';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.FREQ_MONTH_DAY IS 'Frequency Month day: 1..31';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.CREATE_USER IS 'Creation User';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.CREATE_TIME IS 'Creation Time';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.CREATE_INSTITUTION IS 'Creation Institution';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.UPDATE_USER IS 'Update User';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.UPDATE_TIME IS 'Update Time';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQUENCY.UPDATE_INSTITUTION IS 'Update Institution';
   COMMENT ON TABLE ALERT.PRESC_DIR_FREQUENCY  IS 'Prescription directions frequencies';
-- CHANGE END: Nuno Ferreira

-- CHANGED BY: Sofia Mendes
-- CHANGE DATE: 20/01/2016 12:06
-- CHANGE REASON: [ALERT-317981 ] Old Medication - deprecated tables: Database model documentation and comments corretions
COMMENT ON TABLE PRESC_DIR_FREQUENCY IS 'Prescription directions frequencies [DEPRECATED]';
-- CHANGE END: Sofia Mendes