-- CHANGED BY: Sérgio Santos
-- CHANGE DATE: 19/08/2009 15:59
-- CHANGE REASON: [ALERT-641] Director software
CREATE TABLE APPROVAL_TYPE
 (ID_APPROVAL_TYPE NUMBER(24) NOT NULL
 ,INTERNAL_NAME VARCHAR2(200) NOT NULL
 ,INTERNAL_DESC VARCHAR2(200) NOT NULL
 ,CODE_APPROVAL_TYPE VARCHAR2(200) NOT NULL
 ,CODE_APPROVAL_ICON VARCHAR2(200) NOT NULL
 ,ID_PARENT NUMBER(24)
 ,ID_SWF_FILE_DETAIL NUMBER(24) NOT NULL
 ,ID_SWF_FILE_APPROVE NUMBER(24) NOT NULL
 ,ID_APPROV_FUNC_INFO NUMBER(24) NOT NULL
 ,ID_APPROV_FUNC_CHK_CANC NUMBER(24) NOT NULL
 ,ID_APPROV_FUNC_CANCEL NUMBER(24) NOT NULL
 ,ID_APPROV_FUNC_APPROVE NUMBER(24) NOT NULL
 ,ID_APPROV_FUNC_REJECT NUMBER(24) NOT NULL
 );

COMMENT ON TABLE APPROVAL_TYPE IS 'Approval request types';

COMMENT ON COLUMN APPROVAL_TYPE.ID_APPROVAL_TYPE IS 'Approval type identifier';
COMMENT ON COLUMN APPROVAL_TYPE.INTERNAL_NAME IS 'Approval type internal name';
COMMENT ON COLUMN APPROVAL_TYPE.INTERNAL_DESC IS 'Approval type internal description';
COMMENT ON COLUMN APPROVAL_TYPE.CODE_APPROVAL_TYPE IS 'Approval type translation code';
COMMENT ON COLUMN APPROVAL_TYPE.CODE_APPROVAL_ICON IS 'Approval type icon code';
COMMENT ON COLUMN APPROVAL_TYPE.ID_PARENT IS 'Approval type parent';
COMMENT ON COLUMN APPROVAL_TYPE.ID_SWF_FILE_DETAIL IS 'Detail screen identifier';
COMMENT ON COLUMN APPROVAL_TYPE.ID_SWF_FILE_APPROVE IS 'Approve screen identifier';
COMMENT ON COLUMN APPROVAL_TYPE.ID_APPROV_FUNC_INFO IS 'Function identifier responsible for getting approval request information';
COMMENT ON COLUMN APPROVAL_TYPE.ID_APPROV_FUNC_CHK_CANC IS 'Function identifier responsible for checking cancel permissions';
COMMENT ON COLUMN APPROVAL_TYPE.ID_APPROV_FUNC_CANCEL IS 'Function identifier responsible for cancelling a decision';
COMMENT ON COLUMN APPROVAL_TYPE.ID_APPROV_FUNC_APPROVE IS 'Function identifier responsible for approving a request';
COMMENT ON COLUMN APPROVAL_TYPE.ID_APPROV_FUNC_REJECT IS 'Function identifier responsible for reject a request';

ALTER TABLE APPROVAL_TYPE ADD (
   CREATE_USER VARCHAR2(24),
   CREATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
   CREATE_INSTITUTION NUMBER(24,0),
   UPDATE_USER VARCHAR2(24),
   UPDATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
   UPDATE_INSTITUTION NUMBER(24,0)
);
 
COMMENT ON COLUMN APPROVAL_TYPE.CREATE_USER IS 'Creation User';
COMMENT ON COLUMN APPROVAL_TYPE.CREATE_TIME IS 'Creation Time';
COMMENT ON COLUMN APPROVAL_TYPE.CREATE_INSTITUTION IS 'Creation Institution';
COMMENT ON COLUMN APPROVAL_TYPE.UPDATE_USER IS 'Update User';
COMMENT ON COLUMN APPROVAL_TYPE.UPDATE_TIME IS 'Update Time';
COMMENT ON COLUMN APPROVAL_TYPE.UPDATE_INSTITUTION IS 'Update Institution';
-- CHANGE END: Sérgio Santos

-- CHANGED BY: Filipe Silva
-- CHANGE DATE: 12/11/2009 14:50
-- CHANGE REASON: [ALERT-56335] 
alter table approval_type modify  ID_SWF_FILE_DETAIL NUMBER(24) null;
-- CHANGE END: Filipe Silva