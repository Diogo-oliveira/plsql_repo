DROP TABLE LAB_TESTS_EA_TMP;

CREATE GLOBAL TEMPORARY TABLE LAB_TESTS_EA_TMP
(
  ID_ANALYSIS_REQ     NUMBER(24) not null,
  ID_ANALYSIS_REQ_DET NUMBER(24) not null,
  ID_ANALYSIS_RESULT  NUMBER(24),
  ID_ANALYSIS         NUMBER(24) not null,
  DT_REQ              TIMESTAMP(6) WITH LOCAL TIME ZONE not null,
  DT_TARGET           TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DT_PEND_REQ         TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DT_HARVEST          TIMESTAMP(6) WITH LOCAL TIME ZONE,
  STATUS_STR          VARCHAR2(4000),
  STATUS_MSG          VARCHAR2(4000),
  STATUS_ICON         VARCHAR2(4000),
  STATUS_FLG          VARCHAR2(4000),
  FLG_STATUS_REQ      VARCHAR2(1) not null,
  FLG_STATUS_DET      VARCHAR2(1) not null,
  FLG_STATUS_HARVEST  VARCHAR2(1),
  FLG_NOTES           VARCHAR2(1) not null,
  FLG_TIME_HARVEST    VARCHAR2(1) not null,
  ID_ROOM_REQ         NUMBER(24),
  FLG_COL_INST        VARCHAR2(1) not null,
  ID_PROF_ORDER       NUMBER(24),
  DT_ORDER            TIMESTAMP(6) WITH LOCAL TIME ZONE,
  ID_ORDER_TYPE       NUMBER(12),
  FLG_ABNORMALITY     VARCHAR2(1),
  ID_PATIENT          NUMBER(24) not null,
  ID_EPISODE          NUMBER(24) not null,
  ID_VISIT            NUMBER(24) not null,
  ID_PREV_EPISODE     NUMBER(24),
  ID_INSTITUTION      NUMBER(24) not null,
  ID_PROF_WRITES      NUMBER(24) not null,
  DT_ANALYSIS_RESULT  TIMESTAMP(6),
  ID_MOVEMENT         NUMBER(24),
  FLG_REFERRAL        VARCHAR2(1),
  FLG_ORIG_ANALYSIS   VARCHAR2(1),
  ID_SAMPLE_TYPE      NUMBER(24),
  DT_DG_LAST_UPDATE   TIMESTAMP(6) default CURRENT_TIMESTAMP
)
ON COMMIT PRESERVE ROWS;


-- CHANGED BY: Gustavo Serrano
-- CHANGE DATE: 07/07/2010 15:50
-- CHANGE REASON: [ALERT-110074] Order sets - TDE
ALTER TABLE LAB_TESTS_EA_TMP ADD (
    ID_TASK_DEPENDENCY NUMBER(24),
    FLG_REQ_ORIGIN_MODULE VARCHAR2(1 CHAR));
-- CHANGE END: Gustavo Serrano