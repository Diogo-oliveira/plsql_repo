-- CHANGED BY: Sérgio Cunha
-- CHANGE DATE: 11/09/2009 20:13
-- CHANGE REASON: [ALERT-42984] 
  CREATE TABLE ALERT.MED_ORIGIN
   (ID_MED_ORIGIN NUMBER(24,0),
    DESC_MED_ORIGIN VARCHAR2(200 CHAR),
    FLG_AVAILABLE VARCHAR2(1),
    CREATE_USER VARCHAR2(24),
    CREATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    CREATE_INSTITUTION NUMBER(24,0),
    UPDATE_USER VARCHAR2(24),
    UPDATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    UPDATE_INSTITUTION NUMBER(24,0)
   ) ;

   COMMENT ON COLUMN ALERT.MED_ORIGIN.ID_MED_ORIGIN IS 'MED_ORIGIN primary key';
   COMMENT ON COLUMN ALERT.MED_ORIGIN.DESC_MED_ORIGIN IS 'Origin description';
   COMMENT ON COLUMN ALERT.MED_ORIGIN.FLG_AVAILABLE IS 'Registry availability';
   COMMENT ON COLUMN ALERT.MED_ORIGIN.CREATE_USER IS 'Creation User';
   COMMENT ON COLUMN ALERT.MED_ORIGIN.CREATE_TIME IS 'Creation Time';
   COMMENT ON COLUMN ALERT.MED_ORIGIN.CREATE_INSTITUTION IS 'Creation Institution';
   COMMENT ON COLUMN ALERT.MED_ORIGIN.UPDATE_USER IS 'Update User';
   COMMENT ON COLUMN ALERT.MED_ORIGIN.UPDATE_TIME IS 'Update Time';
   COMMENT ON COLUMN ALERT.MED_ORIGIN.UPDATE_INSTITUTION IS 'Update Institution';
   COMMENT ON TABLE ALERT.MED_ORIGIN  IS 'ERP medication origin ';
-- CHANGE END: Sérgio Cunha

-- CHANGED BY: Nelson Canastro
-- CHANGE DATE: 14/06/2010
-- CHANGE REASON: [ALERT-104112] 
DECLARE
    l_count PLS_INTEGER;
BEGIN

    SELECT COUNT(1)
      INTO l_count
      FROM all_tab_columns
     WHERE owner = 'ALERT'
       AND table_name = 'MED_ORIGIN'
       AND column_name = 'CODE_ORIGIN';

    IF l_count = 0
    THEN
        EXECUTE IMMEDIATE ('ALTER TABLE MED_ORIGIN ADD CODE_ORIGIN VARCHAR2(30 CHAR)');
    
        EXECUTE IMMEDIATE ('COMMENT ON COLUMN ALERT.MED_ORIGIN.CODE_ORIGIN  IS ''Translation code of medication origin''');
    END IF;

END;
-- CHANGE END: Nelson Canastro


-- CHANGED BY: Sofia Mendes
-- CHANGE DATE: 20/01/2016 11:48
-- CHANGE REASON: [ALERT-317981 ] Old Medication - deprecated tables: Database model documentation and comments corretions
COMMENT ON TABLE MED_ORIGIN IS 'ERP medication origin  [DEPRECATED]';
-- CHANGE END: Sofia Mendes