-- CHANGED BY: José Brito
-- CHANGE DATE: 24/01/2010 19:50
-- CHANGE REASON: [ALERT-70160] Triage refactoring
BEGIN
    EXECUTE IMMEDIATE 'CREATE TABLE TRIAGE_DECISION_POINT ( ' || --
                      '  ID_TRIAGE_DECISION_POINT NUMBER(24) NOT NULL, ' || --
                      '  SHORTNAME VARCHAR2(1) NOT NULL, ' || --
                      '  INTERNAL_NAME  VARCHAR2(200) NOT NULL, ' || --
                      '  CODE_PREFIX_DECISION_POINT VARCHAR2(200) NOT NULL, ' || --
                      '  CODE_TRIAGE_DECISION_POINT VARCHAR2(200) NOT NULL, ' || --
                      '  FLG_AVAILABLE  VARCHAR2(1) NOT NULL, ' || --
                      '  RANK NUMBER(6) NOT NULL, ' || --
                      '  CREATE_USER VARCHAR2(24), ' || --
                      '  CREATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE, ' || --
                      '  CREATE_INSTITUTION NUMBER(24), ' || --
                      '  UPDATE_USER VARCHAR2(24), ' || --
                      '  UPDATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE, ' || --
                      '  UPDATE_INSTITUTION NUMBER(24) ' || --
                      ') TABLESPACE TABLE_S ';
EXCEPTION
    WHEN OTHERS THEN
        dbms_output.put_line('WARNING: Object already exists.');
END;
/

COMMENT ON TABLE TRIAGE_DECISION_POINT IS 'ESI protocol decision points';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.ID_TRIAGE_DECISION_POINT IS 'Decision point identifier';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.SHORTNAME IS 'Identification letter: (A) Decision point A (B) Decision point B (C) Decision point C (D) Decision point D';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.INTERNAL_NAME IS 'Database internal name';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.CODE_PREFIX_DECISION_POINT IS 'Code for translation - Decision point title (e.g. Decision Point A)';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.CODE_TRIAGE_DECISION_POINT IS 'Code for translation - Decision point description (e.g. Is patient dying)';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.FLG_AVAILABLE IS 'Availability: (Y) Yes (N) No';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.RANK IS 'Number for sorting';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.CREATE_USER IS 'Creation user';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.CREATE_TIME IS 'Creation date / time';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.CREATE_INSTITUTION IS 'Creation institution';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.UPDATE_USER IS 'Update user';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.UPDATE_TIME IS 'Update date / time';
COMMENT ON COLUMN TRIAGE_DECISION_POINT.UPDATE_INSTITUTION IS 'Update institution';
-- CHANGE END: José Brito

-- CHANGED BY: José Brito
-- CHANGE DATE: 02/03/2010 10:50
-- CHANGE REASON: [ALERT-77123] ESI Triage
ALTER TABLE TRIAGE_DECISION_POINT MODIFY SHORTNAME VARCHAR2(1 CHAR);
ALTER TABLE TRIAGE_DECISION_POINT MODIFY INTERNAL_NAME VARCHAR2(200 CHAR);
ALTER TABLE TRIAGE_DECISION_POINT MODIFY CODE_PREFIX_DECISION_POINT VARCHAR2(200 CHAR);
ALTER TABLE TRIAGE_DECISION_POINT MODIFY CODE_PREFIX_DECISION_POINT VARCHAR2(200 CHAR);
ALTER TABLE TRIAGE_DECISION_POINT MODIFY FLG_AVAILABLE VARCHAR2(1 CHAR);
-- CHANGE END: José Brito