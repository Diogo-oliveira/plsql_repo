-- CHANGED BY: Eduardo Reis
-- CHANGE DATE: 17/08/2010 17:13
-- CHANGE REASON: [ALERT-117607] MFR
CREATE TABLE REHAB_SESSION_HIST
(
  ID_REHAB_SESSION_HIST NUMBER(24) not null,
DT_REHAB_SESSION_HIST  TIMESTAMP(6) WITH LOCAL TIME ZONE not null,
ID_PROFESSIONAL_HIST   NUMBER(24) not null,
  ID_REHAB_SESSION       NUMBER(24) not null,
  DT_REHAB_SESSION       TIMESTAMP(6) WITH LOCAL TIME ZONE not null,
  ID_REHAB_PRESC         NUMBER(24) not null,
  ID_PROFESSIONAL        NUMBER(24) not null,
  ID_EPISODE             NUMBER(24) not null,
  FLG_STATUS             VARCHAR2(1 CHAR) not null,
  ID_EXEC_PROFESSIONAL   NUMBER(24) not null,
  DT_BEGIN               TIMESTAMP(6) WITH LOCAL TIME ZONE not null,
  DT_END                 TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DURATION               NUMBER(6),
  NOTES                  VARCHAR2(1000 CHAR),
  ID_CANCEL_REASON       NUMBER(24),
  DT_CANCEL              TIMESTAMP(6) WITH LOCAL TIME ZONE,
  ID_CANCEL_PROFESSIONAL NUMBER(24),
  NOTES_CANCEL           VARCHAR2(1000 CHAR),
  CREATE_USER            VARCHAR2(24 CHAR),
  CREATE_TIME            TIMESTAMP(6) WITH LOCAL TIME ZONE,
  CREATE_INSTITUTION     NUMBER(24),
  UPDATE_USER            VARCHAR2(24 CHAR),
  UPDATE_TIME            TIMESTAMP(6) WITH LOCAL TIME ZONE,
  UPDATE_INSTITUTION     NUMBER(24)
);
 
COMMENT ON TABLE REHAB_SESSION_HIST  is 'History of rehabilitation sessions/executions';
 
COMMENT ON COLUMN REHAB_SESSION_HIST.ID_REHAB_SESSION_HIST  is 'Primary key';
COMMENT ON COLUMN REHAB_SESSION_HIST.DT_REHAB_SESSION_HIST is 'Date of change';
COMMENT ON COLUMN REHAB_SESSION_HIST.ID_PROFESSIONAL_HIST is 'Professional ID that made the change';
COMMENT ON COLUMN REHAB_SESSION_HIST.ID_REHAB_SESSION  is 'REHAB_SESSION identifier';
COMMENT ON COLUMN REHAB_SESSION_HIST.DT_REHAB_SESSION  is 'Date record';
COMMENT ON COLUMN REHAB_SESSION_HIST.ID_REHAB_PRESC  is 'Prescription ID';
COMMENT ON COLUMN REHAB_SESSION_HIST.ID_PROFESSIONAL  is 'Professional that registed';
COMMENT ON COLUMN REHAB_SESSION_HIST.ID_EPISODE is 'Episode where was executed';
COMMENT ON COLUMN REHAB_SESSION_HIST.FLG_STATUS  is 'Executed of Cancelled';
COMMENT ON COLUMN REHAB_SESSION_HIST.ID_EXEC_PROFESSIONAL is 'Professional that executed';
COMMENT ON COLUMN REHAB_SESSION_HIST.DT_BEGIN is 'Begin date';
COMMENT ON COLUMN REHAB_SESSION_HIST.DURATION is 'Duration of execution';
COMMENT ON COLUMN REHAB_SESSION_HIST.DT_END is 'End date';
COMMENT ON COLUMN REHAB_SESSION_HIST.NOTES is 'Notes';
COMMENT ON COLUMN REHAB_SESSION_HIST.DT_CANCEL IS 'Cancel time';
COMMENT ON COLUMN REHAB_SESSION_HIST.ID_CANCEL_PROFESSIONAL IS 'Profissional who did the cancellation';
COMMENT ON COLUMN REHAB_SESSION_HIST.ID_CANCEL_REASON IS 'Cancel reason ID';
COMMENT ON COLUMN REHAB_SESSION_HIST.NOTES_CANCEL IS 'Cancelation notes';

COMMENT ON COLUMN REHAB_SESSION_HIST.CREATE_USER IS 'Creation User';
COMMENT ON COLUMN REHAB_SESSION_HIST.CREATE_TIME IS 'Creation Time';
COMMENT ON COLUMN REHAB_SESSION_HIST.CREATE_INSTITUTION IS 'Creation Institution';
COMMENT ON COLUMN REHAB_SESSION_HIST.UPDATE_USER IS 'Update User';
COMMENT ON COLUMN REHAB_SESSION_HIST.UPDATE_TIME IS 'Update Time';
COMMENT ON COLUMN REHAB_SESSION_HIST.UPDATE_INSTITUTION IS 'Update Institution';
-- CHANGE END: Eduardo Reis