-- CHANGED BY: José Brito
-- CHANGE DATE: 24/01/2010 19:51
-- CHANGE REASON: [ALERT-70160] Triage refactoring
BEGIN
    EXECUTE IMMEDIATE 'CREATE TABLE TRIAGE_UNIT_MEA_CONVERSION( ' || --
                      '  ID_VITAL_SIGN NUMBER(24) NOT NULL, ' || --
                      'ID_UNIT_MEASURE_ORIG NUMBER(24) NOT NULL, ' || --
                      'ID_UNIT_MEASURE_DEST NUMBER(24) NOT NULL, ' || --
                      'FORMULA VARCHAR2(2000) NOT NULL, ' || --
                      'DECIMALS NUMBER(6) NOT NULL, ' || --
                      '  CREATE_USER VARCHAR2(24), ' || --
                      '  CREATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE, ' || --
                      '  CREATE_INSTITUTION NUMBER(24), ' || --
                      '  UPDATE_USER VARCHAR2(24), ' || --
                      '  UPDATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE, ' || --
                      '  UPDATE_INSTITUTION NUMBER(24) ' || --
                      ') TABLESPACE TABLE_S ';
EXCEPTION
    WHEN OTHERS THEN
        dbms_output.put_line('WARNING: Object already exists.');
END;
/

COMMENT ON TABLE TRIAGE_UNIT_MEA_CONVERSION IS 'Conversions between unit measures for specific vital signs, used in triage';
COMMENT ON COLUMN TRIAGE_UNIT_MEA_CONVERSION.ID_VITAL_SIGN IS 'Vital sign ID';
COMMENT ON COLUMN TRIAGE_UNIT_MEA_CONVERSION.ID_UNIT_MEASURE_ORIG IS 'Origin unit measure';
COMMENT ON COLUMN TRIAGE_UNIT_MEA_CONVERSION.ID_UNIT_MEASURE_DEST IS 'Destination unit measure (value will be converted to this unit)';
COMMENT ON COLUMN TRIAGE_UNIT_MEA_CONVERSION.FORMULA IS 'Formula used for conversion';
COMMENT ON COLUMN TRIAGE_UNIT_MEA_CONVERSION.DECIMALS IS 'Decimal places';
COMMENT ON COLUMN TRIAGE_UNIT_MEA_CONVERSION.CREATE_USER IS 'Creation user';
COMMENT ON COLUMN TRIAGE_UNIT_MEA_CONVERSION.CREATE_TIME IS 'Creation date / time';
COMMENT ON COLUMN TRIAGE_UNIT_MEA_CONVERSION.CREATE_INSTITUTION IS 'Creation institution';
COMMENT ON COLUMN TRIAGE_UNIT_MEA_CONVERSION.UPDATE_USER IS 'Update user';
COMMENT ON COLUMN TRIAGE_UNIT_MEA_CONVERSION.UPDATE_TIME IS 'Update date / time';
COMMENT ON COLUMN TRIAGE_UNIT_MEA_CONVERSION.UPDATE_INSTITUTION IS 'Update institution';
-- CHANGE END: José Brito

-- CHANGED BY: José Brito
-- CHANGE DATE: 02/03/2010 10:50
-- CHANGE REASON: [ALERT-77123] ESI Triage
ALTER TABLE TRIAGE_UNIT_MEA_CONVERSION MODIFY FORMULA VARCHAR2(2000 CHAR);
-- CHANGE END: José Brito