

  CREATE TABLE "ALERT"."WOUNDS_EA"
   (	"ID_NURSE_ACTV_REQ_DET" NUMBER(24,0),
	"ID_NURSE_ACTIVITY_REQ" NUMBER(24,0),
	"ID_WOUND_EVALUATION" NUMBER(24,0),
	"ID_WOUND_TREAT" NUMBER(24,0),
	"WOUND_LOCATION" VARCHAR2(200),
	"ID_PROFESSIONAL" NUMBER(24,0),
	"DT_NURSE_ACTIVITY_REQ" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"DT_BEGIN" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"DT_PLAN" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"STATUS_STR" VARCHAR2(50),
	"STATUS_MSG" VARCHAR2(200),
	"STATUS_ICON" VARCHAR2(200),
	"STATUS_FLG" VARCHAR2(1),
	"FLG_STATUS_REQ" VARCHAR2(1),
	"FLG_STATUS_DET" VARCHAR2(1),
	"FLG_TIME" VARCHAR2(1),
	"FLG_NOTES" VARCHAR2(4000),
	"ID_EPISODE_ORIGIN" NUMBER(24,0),
	"ID_PREV_EPISODE" NUMBER(24,0),
	"ID_EPISODE" NUMBER(24,0),
	"ID_PATIENT" NUMBER(24,0),
	"FLG_STATUS_EVALUATION" VARCHAR2(1),
	"FLG_STATUS_TREAT" VARCHAR2(1),
	"ID_EPISODE_DESTINATION" NUMBER(24,0),
	"DT_DG_LAST_UPDATE" TIMESTAMP (6) WITH LOCAL TIME ZONE DEFAULT CURRENT_TIMESTAMP
   ) ;


-- Para adicionar colunas pode ser usado código comentado
-- De momento só são suportados os tipos de dados mais comuns.
-- ALTER TABLE WOUNDS_EA ADD ID_NURSE_ACTV_REQ_DET NUMBER(24,0) NOT NULL;
-- ALTER TABLE WOUNDS_EA ADD ID_NURSE_ACTIVITY_REQ NUMBER(24,0) NOT NULL;
-- ALTER TABLE WOUNDS_EA ADD ID_WOUND_EVALUATION NUMBER(24,0) ;
-- ALTER TABLE WOUNDS_EA ADD ID_WOUND_TREAT NUMBER(24,0) ;
-- ALTER TABLE WOUNDS_EA ADD WOUND_LOCATION VARCHAR2(200) ;
-- ALTER TABLE WOUNDS_EA ADD ID_PROFESSIONAL NUMBER(24,0) ;
-- ALTER TABLE WOUNDS_EA ADD DT_NURSE_ACTIVITY_REQ TIMESTAMP(6) WITH LOCAL TIME ZONE ;
-- ALTER TABLE WOUNDS_EA ADD DT_BEGIN TIMESTAMP(6) WITH LOCAL TIME ZONE ;
-- ALTER TABLE WOUNDS_EA ADD DT_PLAN TIMESTAMP(6) WITH LOCAL TIME ZONE ;
-- ALTER TABLE WOUNDS_EA ADD STATUS_STR VARCHAR2(50) ;
-- ALTER TABLE WOUNDS_EA ADD STATUS_MSG VARCHAR2(200) ;
-- ALTER TABLE WOUNDS_EA ADD STATUS_ICON VARCHAR2(200) ;
-- ALTER TABLE WOUNDS_EA ADD STATUS_FLG VARCHAR2(1) ;
-- ALTER TABLE WOUNDS_EA ADD FLG_STATUS_REQ VARCHAR2(1) ;
-- ALTER TABLE WOUNDS_EA ADD FLG_STATUS_DET VARCHAR2(1) ;
-- ALTER TABLE WOUNDS_EA ADD FLG_TIME VARCHAR2(1) ;
-- ALTER TABLE WOUNDS_EA ADD FLG_NOTES VARCHAR2(4000) ;
-- ALTER TABLE WOUNDS_EA ADD ID_EPISODE_ORIGIN NUMBER(24,0) ;
-- ALTER TABLE WOUNDS_EA ADD ID_PREV_EPISODE NUMBER(24,0) ;
-- ALTER TABLE WOUNDS_EA ADD ID_EPISODE NUMBER(24,0) ;
-- ALTER TABLE WOUNDS_EA ADD ID_PATIENT NUMBER(24,0) ;
-- ALTER TABLE WOUNDS_EA ADD FLG_STATUS_EVALUATION VARCHAR2(1) ;
-- ALTER TABLE WOUNDS_EA ADD FLG_STATUS_TREAT VARCHAR2(1) ;
-- ALTER TABLE WOUNDS_EA ADD ID_EPISODE_DESTINATION NUMBER(24,0) ;
-- ALTER TABLE WOUNDS_EA ADD DT_DG_LAST_UPDATE TIMESTAMP(6) WITH LOCAL TIME ZONE ;

   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."ID_NURSE_ACTV_REQ_DET" IS 'Request''s detail ID.';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."ID_NURSE_ACTIVITY_REQ" IS 'Request''s ID.';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."ID_WOUND_EVALUATION" IS 'Evaluation''s ID';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."ID_WOUND_TREAT" IS 'Next treatment ID';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."WOUND_LOCATION" IS 'Wound Location';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."ID_PROFESSIONAL" IS 'Request professional ID';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."DT_NURSE_ACTIVITY_REQ" IS 'Request''s date';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."DT_BEGIN" IS 'Request''s begin date';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."DT_PLAN" IS 'Next treatment date';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."STATUS_STR" IS 'Request''s status (in a specific format)';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."STATUS_MSG" IS 'Request''s status message code';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."STATUS_ICON" IS 'Request''s status icon';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."STATUS_FLG" IS 'Request''s status flag (used to return the icon)';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."FLG_STATUS_REQ" IS 'Request''s status';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."FLG_STATUS_DET" IS 'Request''s detail''s status';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."FLG_TIME" IS 'Treatment type: in this (E)pisode, (B)etween episodes, (N)ext episode.';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."FLG_NOTES" IS 'Indication of whether there''re notes (Y) or not (N). Notes: registry notes or cancellation notes.';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."ID_EPISODE_ORIGIN" IS 'When the patient has an episode with an intervention request with FLG_TIME = ''N'', then the patient comes to another appointment and that request is duplicated to this new episode. In this new request, this column is filled with the e
pisode ID of the first request.';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."ID_PREV_EPISODE" IS 'Filled when the lab test was requested on an environment, the patient is discharged to another environment and the request is ended in this second environment. This column contains the episode ID created on this second environment.';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."ID_EPISODE" IS 'Episode ID';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."ID_PATIENT" IS 'Patient ID';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."FLG_STATUS_EVALUATION" IS 'Wound evaluation flag';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."FLG_STATUS_TREAT" IS 'Woun treatment flag';



   COMMENT ON COLUMN "ALERT"."WOUNDS_EA"."ID_EPISODE_DESTINATION" IS 'ID of the episode where it was registered the requisition destination (where FLG_TIME = ''N'')';



   COMMENT ON TABLE "ALERT"."WOUNDS_EA"  IS 'This easy access table contains informations about wounds treatment';

-- cmf 23-09-2009
COMMENT ON COLUMN WOUNDS_EA.DT_DG_LAST_UPDATE IS ' Data governance last update date';

-- CHANGED BY: Nuno Alves
-- CHANGE DATE: 24/08/2015 14:21
-- CHANGE REASON: [ALERT-314007] ALERT-314007 CL RED UC Erro nos pedidos de curativos
BEGIN
    pk_versioning.run(i_sql => 'ALTER TABLE wounds_ea modify status_str VARCHAR2(200)');
END;
/
-- CHANGE END: Nuno Alves