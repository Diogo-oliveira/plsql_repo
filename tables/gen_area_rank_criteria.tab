CREATE TABLE GEN_AREA_RANK_CRITERIA
 (ID_INSTITUTION NUMBER NOT NULL
 ,AREA VARCHAR2(30) NOT NULL
 ,ID_RANK NUMBER NOT NULL
 ,DESCRIPTION VARCHAR2(200)
 ,CRITERIA VARCHAR2(4000) NOT NULL
 ,ORDER_BY_CLAUSE VARCHAR2(200) NOT NULL
 ,RANK_VALUE NUMBER NOT NULL
 )
TABLESPACE TABLE_S;


COMMENT ON TABLE GEN_AREA_RANK_CRITERIA IS 'Generic table that relates areas, criteria and classifications' ;
COMMENT ON COLUMN GEN_AREA_RANK_CRITERIA.ID_INSTITUTION IS 'Institution ID' ;
COMMENT ON COLUMN GEN_AREA_RANK_CRITERIA.AREA IS 'Code that identifies each area. Ex. EXM, LAB, MED' ;
COMMENT ON COLUMN GEN_AREA_RANK_CRITERIA.ID_RANK IS 'Numeric ID that identifies the criteria. This ID is unique for the related area' ;
COMMENT ON COLUMN GEN_AREA_RANK_CRITERIA.DESCRIPTION IS 'Description of the criteria' ;
COMMENT ON COLUMN GEN_AREA_RANK_CRITERIA.CRITERIA IS 'Query for validation of the criteria attributes. Ex. ''SELECT 1 FROM DUAL WHERE {A} = 1 AND {B} > 3''' ;
COMMENT ON COLUMN GEN_AREA_RANK_CRITERIA.ORDER_BY_CLAUSE IS 'ORDER BY clause to order records with this classification' ;
COMMENT ON COLUMN GEN_AREA_RANK_CRITERIA.RANK_VALUE IS 'Value corresponding to the classification to be assigned to the record that fills all the criteria attributes' ;



-- CHANGED BY: João Ribeiro
-- CHANGE DATE: 2008-NOV-10
-- CHANGE REASON: Remover coluna e criar uma outra

ALTER TABLE GEN_AREA_RANK_CRITERIA DROP COLUMN ORDER_BY_CLAUSE;
ALTER TABLE GEN_AREA_RANK_CRITERIA DROP COLUMN RANK_VALUE;
ALTER TABLE GEN_AREA_RANK_CRITERIA DROP COLUMN ID_RANK;

-- CHANGE END



-- CHANGED BY: João Ribeiro
-- CHANGE DATE: 2008-NOV-11
-- CHANGE REASON: Nova tabela colunas

DROP TABLE GEN_AREA_RANK_CRITERIA CASCADE CONSTRAINTS;


CREATE TABLE GEN_AREA_RANK_CRITERIA
(AREA VARCHAR2(30) NOT NULL,
 DESCRIPTION VARCHAR2(200),
 CRITERIA VARCHAR2(4000) NOT NULL
)
TABLESPACE TABLE_S;

COMMENT ON TABLE GEN_AREA_RANK_CRITERIA IS 'Generic table that relates areas, criteria and classifications' ;
COMMENT ON COLUMN GEN_AREA_RANK_CRITERIA.AREA IS 'Code that identifies each area. Ex. EXM, LAB, MED' ;
COMMENT ON COLUMN GEN_AREA_RANK_CRITERIA.DESCRIPTION IS 'Description of the criteria' ;
COMMENT ON COLUMN GEN_AREA_RANK_CRITERIA.CRITERIA IS 'Query for validation of the criteria attributes.' ;

-- CHANGE END