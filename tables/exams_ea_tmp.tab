DROP TABLE EXAMS_EA_TMP;

CREATE GLOBAL TEMPORARY TABLE EXAMS_EA_TMP
(
  ID_EXAM_REQ           NUMBER(24) not null,
  ID_EXAM_REQ_DET       NUMBER(24) not null,
  ID_EXAM_RESULT        NUMBER(24),
  ID_EXAM               NUMBER(12) not null,
  DT_REQ                TIMESTAMP(6) WITH LOCAL TIME ZONE not null,
  DT_BEGIN              TIMESTAMP(6) WITH LOCAL TIME ZONE,
  STATUS_STR            VARCHAR2(100),
  STATUS_MSG            VARCHAR2(100),
  STATUS_ICON           VARCHAR2(100),
  STATUS_FLG            VARCHAR2(100),
  FLG_TYPE              VARCHAR2(1) not null,
  ID_EXAM_CAT           NUMBER(24) not null,
  FLG_AVAILABLE         VARCHAR2(1) not null,
  FLG_NOTES             VARCHAR2(1),
  FLG_TIME              VARCHAR2(1) not null,
  FLG_STATUS_REQ        VARCHAR2(2) not null,
  FLG_STATUS_DET        VARCHAR2(2) not null,
  FLG_REFERRAL          VARCHAR2(1),
  ID_PROF_REQ           NUMBER(24) not null,
  ID_EPISODE_ORIGIN     NUMBER(24),
  ID_PROF_PERFORMED     NUMBER(24),
  START_TIME            TIMESTAMP(6) WITH LOCAL TIME ZONE,
  END_TIME              TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DT_EXAM_RESULT        TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DESC_RESULT_IMG       VARCHAR2(4000),
  ID_EPIS_DOCUMENTATION NUMBER(24),
  DESC_RESULT_OTH       VARCHAR2(4000),
  DT_PEND_REQ           TIMESTAMP(6) WITH LOCAL TIME ZONE,
  ID_ROOM               NUMBER(24),
  ID_MOVEMENT           NUMBER(24),
  ID_PATIENT            NUMBER(24) not null,
  ID_EPISODE            NUMBER(24) not null,
  ID_VISIT              NUMBER(24) not null,
  ID_PREV_EPISODE       NUMBER(24),
  DT_DG_LAST_UPDATE     TIMESTAMP(6) WITH LOCAL TIME ZONE default current_timestamp
)
ON COMMIT PRESERVE ROWS;


-- CHANGED BY: João Ribeiro
-- CHANGE DATE: 2009-MAR-27
-- CHANGE REASON: ALERT-21528


DROP TABLE EXAMS_EA_TMP;

CREATE GLOBAL TEMPORARY TABLE EXAMS_EA_TMP
(
  ID_EXAM_REQ           NUMBER(24) not null,
  ID_EXAM_REQ_DET       NUMBER(24) not null,
  ID_EXAM_RESULT        NUMBER(24),
  ID_EXAM               NUMBER(12) not null,
  DT_REQ                TIMESTAMP(6) WITH LOCAL TIME ZONE not null,
  DT_BEGIN              TIMESTAMP(6) WITH LOCAL TIME ZONE,
  STATUS_STR            VARCHAR2(100),
  STATUS_MSG            VARCHAR2(100),
  STATUS_ICON           VARCHAR2(100),
  STATUS_FLG            VARCHAR2(100),
  FLG_TYPE              VARCHAR2(1) not null,
  ID_EXAM_CAT           NUMBER(24) not null,
  FLG_AVAILABLE         VARCHAR2(1) not null,
  FLG_NOTES             VARCHAR2(1),
  FLG_TIME              VARCHAR2(1) not null,
  FLG_STATUS_REQ        VARCHAR2(2) not null,
  FLG_STATUS_DET        VARCHAR2(2) not null,
  FLG_REFERRAL          VARCHAR2(1),
  ID_PROF_REQ           NUMBER(24) not null,
  ID_EPISODE_ORIGIN     NUMBER(24),
  ID_PROF_PERFORMED     NUMBER(24),
  START_TIME            TIMESTAMP(6) WITH LOCAL TIME ZONE,
  END_TIME              TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DT_EXAM_RESULT        TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DESC_RESULT_IMG       VARCHAR2(4000),
  ID_EPIS_DOCUMENTATION NUMBER(24),
  DESC_RESULT_OTH       VARCHAR2(4000),
  DT_PEND_REQ           TIMESTAMP(6) WITH LOCAL TIME ZONE,
  ID_ROOM               NUMBER(24),
  ID_MOVEMENT           NUMBER(24),
  ID_PATIENT            NUMBER(24) not null,
  ID_EPISODE            NUMBER(24) not null,
  ID_VISIT              NUMBER(24) not null,
  ID_PREV_EPISODE       NUMBER(24),
  DT_DG_LAST_UPDATE     TIMESTAMP(6) WITH LOCAL TIME ZONE default current_timestamp,
  PRIORITY				VARCHAR2(1),
  ID_EXAM_GROUP			NUMBER(24),
  STATUS_STR_REQ		VARCHAR2(100)
)
ON COMMIT PRESERVE ROWS;



-- CHANGE END



-- CHANGED BY: João Ribeiro
-- CHANGE DATE: 2009-MAR-31
-- CHANGE REASON: ALERT-21528


DROP TABLE EXAMS_EA_TMP;

CREATE GLOBAL TEMPORARY TABLE EXAMS_EA_TMP
(
  ID_EXAM_REQ           NUMBER(24) not null,
  ID_EXAM_REQ_DET       NUMBER(24) not null,
  ID_EXAM_RESULT        NUMBER(24),
  ID_EXAM               NUMBER(12) not null,
  DT_REQ                TIMESTAMP(6) WITH LOCAL TIME ZONE not null,
  DT_BEGIN              TIMESTAMP(6) WITH LOCAL TIME ZONE,
  STATUS_STR            VARCHAR2(100),
  STATUS_MSG            VARCHAR2(100),
  STATUS_ICON           VARCHAR2(100),
  STATUS_FLG            VARCHAR2(100),
  FLG_TYPE              VARCHAR2(1) not null,
  ID_EXAM_CAT           NUMBER(24) not null,
  FLG_AVAILABLE         VARCHAR2(1) not null,
  FLG_NOTES             VARCHAR2(1),
  FLG_TIME              VARCHAR2(1) not null,
  FLG_STATUS_REQ        VARCHAR2(2) not null,
  FLG_STATUS_DET        VARCHAR2(2) not null,
  FLG_REFERRAL          VARCHAR2(1),
  ID_PROF_REQ           NUMBER(24) not null,
  ID_EPISODE_ORIGIN     NUMBER(24),
  ID_PROF_PERFORMED     NUMBER(24),
  START_TIME            TIMESTAMP(6) WITH LOCAL TIME ZONE,
  END_TIME              TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DT_EXAM_RESULT        TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DESC_RESULT_IMG       VARCHAR2(4000),
  ID_EPIS_DOCUMENTATION NUMBER(24),
  DESC_RESULT_OTH       VARCHAR2(4000),
  DT_PEND_REQ           TIMESTAMP(6) WITH LOCAL TIME ZONE,
  ID_ROOM               NUMBER(24),
  ID_MOVEMENT           NUMBER(24),
  ID_PATIENT            NUMBER(24) not null,
  ID_EPISODE            NUMBER(24) not null,
  ID_VISIT              NUMBER(24) not null,
  ID_PREV_EPISODE       NUMBER(24),
  DT_DG_LAST_UPDATE     TIMESTAMP(6) WITH LOCAL TIME ZONE default current_timestamp,
  PRIORITY				VARCHAR2(1),
  ID_EXAM_GROUP			NUMBER(24),
  STATUS_STR_REQ        VARCHAR2(100),
  STATUS_MSG_REQ        VARCHAR2(100),
  STATUS_ICON_REQ       VARCHAR2(100),
  STATUS_FLG_REQ        VARCHAR2(100)
)
ON COMMIT PRESERVE ROWS;



-- CHANGE END



-- CHANGED BY: Ana Matos
-- CHANGED DATE: 2009-JUL-24
-- CHANGED REASON: ALERT-16811

DROP TABLE EXAMS_EA_TMP;

CREATE GLOBAL TEMPORARY TABLE EXAMS_EA_TMP
(
  ID_EXAM_REQ         NUMBER(24) not null,
  ID_EXAM_REQ_DET     NUMBER(24) not null,
  ID_EXAM_RESULT      NUMBER(24),
  ID_EXAM_GROUP       NUMBER(24),
  ID_EXAM             NUMBER(12) not null,
  DT_REQ              TIMESTAMP(6) WITH LOCAL TIME ZONE not null,
  DT_BEGIN            TIMESTAMP(6) WITH LOCAL TIME ZONE,
  PRIORITY            VARCHAR2(1),
  STATUS_STR_REQ      VARCHAR2(100),
  STATUS_MSG_REQ      VARCHAR2(100),
  STATUS_ICON_REQ     VARCHAR2(100),
  STATUS_FLG_REQ      VARCHAR2(100),
  STATUS_STR          VARCHAR2(100),
  STATUS_MSG          VARCHAR2(100),
  STATUS_ICON         VARCHAR2(100),
  STATUS_FLG          VARCHAR2(100),
  FLG_TYPE            VARCHAR2(1) not null,
  ID_EXAM_CAT         NUMBER(24) not null,
  FLG_AVAILABLE       VARCHAR2(1) not null,
  FLG_NOTES           VARCHAR2(1),
  FLG_TIME            VARCHAR2(1) not null,
  FLG_STATUS_REQ      VARCHAR2(2) not null,
  FLG_STATUS_DET      VARCHAR2(2) not null,
  FLG_REFERRAL        VARCHAR2(1),
  ID_PROF_REQ         NUMBER(24) not null,
  ID_EPISODE_ORIGIN   NUMBER(24),
  ID_PROF_PERFORMED   NUMBER(24),
  START_TIME          TIMESTAMP(6) WITH LOCAL TIME ZONE,
  END_TIME            TIMESTAMP(6) WITH LOCAL TIME ZONE,
  ID_EPIS_DOC_PERFORM  NUMBER(24),
  DESC_PERFORM_NOTES  VARCHAR2(4000),
  DT_EXAM_RESULT      TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DESC_RESULT          VARCHAR2(4000),
  ID_EPIS_DOC_RESULT  NUMBER(24),
  DT_PEND_REQ          TIMESTAMP(6) WITH LOCAL TIME ZONE,
  ID_ROOM             NUMBER(24),
  ID_MOVEMENT         NUMBER(24),
  ID_PATIENT          NUMBER(24) not null,
  ID_EPISODE          NUMBER(24) not null,
  ID_VISIT            NUMBER(24) not null,
  ID_PREV_EPISODE     NUMBER(24),
  DT_DG_LAST_UPDATE   TIMESTAMP(6) WITH LOCAL TIME ZONE default current_timestamp
)
ON COMMIT PRESERVE ROWS;

-- CHANGE END: Ana Matos




-- CHANGED BY: Gustavo Serrano
-- CHANGE DATE: 07/07/2010 15:50
-- CHANGE REASON: [ALERT-110074] Order sets - TDE
ALTER TABLE exams_ea_tmp ADD (
    ID_TASK_DEPENDENCY NUMBER(24),
    FLG_REQ_ORIGIN_MODULE VARCHAR2(1 CHAR));
-- CHANGE END: Gustavo Serrano


-- CHANGED BY: Ana Matos
-- CHANGED DATE: 2010-AGO-24
-- CHANGED REASON: ALERT-119038

DROP TABLE EXAMS_EA_TMP;

CREATE GLOBAL TEMPORARY TABLE EXAMS_EA_TMP
(
  ID_EXAM_REQ           NUMBER(24) NOT NULL,
  ID_EXAM_REQ_DET       NUMBER(24) NOT NULL,
  ID_EXAM_RESULT        NUMBER(24),
  ID_EXAM               NUMBER(12) NOT NULL,
  ID_EXAM_GROUP         NUMBER(24),
  DT_REQ                TIMESTAMP(6) WITH LOCAL TIME ZONE NOT NULL,
  DT_BEGIN              TIMESTAMP(6) WITH LOCAL TIME ZONE,
  PRIORITY              VARCHAR2(1),
  STATUS_STR_REQ        VARCHAR2(100),
  STATUS_MSG_REQ        VARCHAR2(100),
  STATUS_ICON_REQ       VARCHAR2(100),
  STATUS_FLG_REQ        VARCHAR2(100),
  STATUS_STR            VARCHAR2(100),
  STATUS_MSG            VARCHAR2(100),
  STATUS_ICON           VARCHAR2(100),
  STATUS_FLG            VARCHAR2(100),
  FLG_TYPE              VARCHAR2(1) NOT NULL,
  ID_EXAM_CAT           NUMBER(24) NOT NULL,
  FLG_AVAILABLE         VARCHAR2(1) NOT NULL,
  FLG_NOTES             VARCHAR2(1),
  FLG_TIME              VARCHAR2(1) NOT NULL,
  FLG_STATUS_REQ        VARCHAR2(2) NOT NULL,
  FLG_STATUS_DET        VARCHAR2(2) NOT NULL,
  FLG_REFERRAL          VARCHAR2(1),
  ID_PROF_REQ           NUMBER(24) NOT NULL,
  ID_EPISODE_ORIGIN     NUMBER(24),
  ID_PROF_PERFORMED     NUMBER(24),
  START_TIME            TIMESTAMP(6) WITH LOCAL TIME ZONE,
  END_TIME              TIMESTAMP(6) WITH LOCAL TIME ZONE,
  ID_EPIS_DOC_PERFORM   NUMBER(24),
  DESC_PERFORM_NOTES    VARCHAR2(4000),
  DT_EXAM_RESULT        TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DESC_RESULT           VARCHAR2(4000),
  ID_EPIS_DOC_RESULT    NUMBER(24),
  DT_PEND_REQ           TIMESTAMP(6) WITH LOCAL TIME ZONE,
  ID_ROOM               NUMBER(24),
  ID_MOVEMENT           NUMBER(24),
  ID_PATIENT            NUMBER(24) NOT NULL,
  ID_EPISODE            NUMBER(24),
  ID_VISIT              NUMBER(24),
  ID_PREV_EPISODE       NUMBER(24),
  ID_TASK_DEPENDENCY    NUMBER(24),
  FLG_REQ_ORIGIN_MODULE VARCHAR2(1 CHAR),
  DT_DG_LAST_UPDATE     TIMESTAMP(6) WITH LOCAL TIME ZONE DEFAULT current_timestamp
)
ON COMMIT PRESERVE ROWS;

-- CHANGE END: Ana Matos


