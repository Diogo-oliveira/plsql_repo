-- CHANGED BY: Alexandre Santos
-- CHANGE DATE: 24/08/2009 11:30
-- CHANGE REASON: [ALERT-39305] Permitir a parametrização de vários tipos de triagem na instituição (por serviço clínico).
CREATE TABLE TRIAGE_DEPARTMENT(
  ID_INSTITUTION NUMBER(24) NOT NULL,
  ID_DEPARTMENT NUMBER(24) NOT NULL,
  ID_TRIAGE_TYPE NUMBER(24) NOT NULL,
  FLG_DEFAULT VARCHAR2(1) NOT NULL,
  FLG_AVAILABLE VARCHAR2(1) NOT NULL
) TABLESPACE TABLE_M;

COMMENT ON TABLE TRIAGE_DEPARTMENT IS 'Set the triage type for each institution?s department';
COMMENT ON COLUMN TRIAGE_DEPARTMENT.ID_INSTITUTION IS 'Institution ID';
COMMENT ON COLUMN TRIAGE_DEPARTMENT.ID_DEPARTMENT IS 'Department ID';
COMMENT ON COLUMN TRIAGE_DEPARTMENT.ID_TRIAGE_TYPE IS 'Triage type ID';
COMMENT ON COLUMN TRIAGE_DEPARTMENT.FLG_DEFAULT IS 'Institution default triage type: (Y) Yes (No)';
COMMENT ON COLUMN TRIAGE_DEPARTMENT.FLG_AVAILABLE IS 'Availability: (Y) Yes (N) No';
-- CHANGE END: Alexandre Santos

-- CHANGED BY: José Brito
-- CHANGE DATE: 17/09/2009 14:31
-- CHANGE REASON: [ALERT-44274] Group triage colors
-- José Brito 17/09/2009 ALERT-42214  Group triage colors
ALTER TABLE TRIAGE_DEPARTMENT ADD CREATE_USER VARCHAR2(24);
ALTER TABLE TRIAGE_DEPARTMENT ADD CREATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE;
ALTER TABLE TRIAGE_DEPARTMENT ADD CREATE_INSTITUTION NUMBER(24);
ALTER TABLE TRIAGE_DEPARTMENT ADD UPDATE_USER VARCHAR2(24);
ALTER TABLE TRIAGE_DEPARTMENT ADD UPDATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE;
ALTER TABLE TRIAGE_DEPARTMENT ADD UPDATE_INSTITUTION NUMBER(24);

COMMENT ON COLUMN TRIAGE_DEPARTMENT.CREATE_USER IS 'Creation user';
COMMENT ON COLUMN TRIAGE_DEPARTMENT.CREATE_TIME IS 'Creation date / time';
COMMENT ON COLUMN TRIAGE_DEPARTMENT.CREATE_INSTITUTION IS 'Creation institution';
COMMENT ON COLUMN TRIAGE_DEPARTMENT.UPDATE_USER IS 'Update user';
COMMENT ON COLUMN TRIAGE_DEPARTMENT.UPDATE_TIME IS 'Update date / time';
COMMENT ON COLUMN TRIAGE_DEPARTMENT.UPDATE_INSTITUTION IS 'Update institution';
-- CHANGE END: José Brito

-- CHANGED BY: José Brito
-- CHANGE DATE: 02/03/2010 10:50
-- CHANGE REASON: [ALERT-77123] ESI Triage
ALTER TABLE TRIAGE_DEPARTMENT MODIFY FLG_DEFAULT VARCHAR2(1 CHAR);
ALTER TABLE TRIAGE_DEPARTMENT MODIFY FLG_AVAILABLE VARCHAR2(1 CHAR);
-- CHANGE END: José Brito