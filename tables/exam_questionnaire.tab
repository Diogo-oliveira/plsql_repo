
  CREATE TABLE "ALERT"."EXAM_QUESTIONNAIRE"
   (	"ID_EXAM_QUESTIONNAIRE" NUMBER(24,0),
	"ID_EXAM" NUMBER(24,0),
	"ID_QUESTIONNAIRE" NUMBER(24,0),
	"ID_RESPONSE" NUMBER(24,0),
	"GENDER" VARCHAR2(1),
	"FLG_TIME" VARCHAR2(1),
	"FLG_TYPE" VARCHAR2(2),
	"FLG_MANDATORY" VARCHAR2(1),
	"RANK" NUMBER(6,0),
	"FLG_AVAILABLE" VARCHAR2(1),
	"CREATE_USER" VARCHAR2(24),
	"CREATE_TIME" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"CREATE_INSTITUTION" NUMBER(24,0),
	"UPDATE_USER" VARCHAR2(24),
	"UPDATE_TIME" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"UPDATE_INSTITUTION" NUMBER(24,0)
   ) ;


   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."ID_EXAM_QUESTIONNAIRE" IS 'Primary key';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."ID_EXAM" IS 'Exam id';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."ID_QUESTIONNAIRE" IS 'Questionnaire id';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."ID_RESPONSE" IS 'Response id';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."GENDER" IS 'Gender';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."FLG_TIME" IS 'Flag that indicates When the question';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."FLG_TYPE" IS 'Flag that indicates the moment the questions are shown to the user: O - Order; E - Execution';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."FLG_MANDATORY" IS 'Flag that indicates if the question is mandatory or not: Y - Yes; N - No';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."RANK" IS 'Questionnaire rank';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."FLG_AVAILABLE" IS 'Flag that indicates if the record is available or not (Y/N)';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."CREATE_USER" IS 'Creation User';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."CREATE_TIME" IS 'Create Time';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."CREATE_INSTITUTION" IS 'Create Institution';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."UPDATE_USER" IS 'Update User';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."UPDATE_TIME" IS 'Update Time';



   COMMENT ON COLUMN "ALERT"."EXAM_QUESTIONNAIRE"."UPDATE_INSTITUTION" IS 'Update Institution';




-- CHANGED BY: Ana Matos
-- CHANGE DATE: 09/10/2013 10:01
-- CHANGE REASON: [ALERT-266573] 
ALTER TABLE EXAM_QUESTIONNAIRE DROP COLUMN GENDER;

ALTER TABLE EXAM_QUESTIONNAIRE 
 ADD (ID_EXAM_GROUP NUMBER(24)
 ,ID_RESPONSE NUMBER(24)
 ,FLG_COPY VARCHAR2(1 CHAR)
 ,FLG_VALIDATION VARCHAR2(1 CHAR)
 ,FLG_EXTERIOR VARCHAR2(1 CHAR)
 ,ID_UNIT_MEASURE NUMBER(24)
 ,ID_INSTITUTION NUMBER(24))
 MODIFY (ID_EXAM NUMBER(24) NULL
 ,FLG_TIME VARCHAR2(2 CHAR));

COMMENT ON TABLE EXAM_QUESTIONNAIRE IS 'Table that defines the questionnaires for each exam';

COMMENT ON COLUMN EXAM_QUESTIONNAIRE.ID_EXAM IS 'Exam ID';
COMMENT ON COLUMN EXAM_QUESTIONNAIRE.ID_EXAM_GROUP IS 'Exam''s group ID';
COMMENT ON COLUMN EXAM_QUESTIONNAIRE.ID_QUESTIONNAIRE IS 'Questionnaire ID';
COMMENT ON COLUMN EXAM_QUESTIONNAIRE.ID_RESPONSE IS 'Response ID';
COMMENT ON COLUMN EXAM_QUESTIONNAIRE.FLG_TIME IS 'Flag that indicates WHEN the questionnaire is to be answered';
COMMENT ON COLUMN EXAM_QUESTIONNAIRE.FLG_TYPE IS 'Flag that indicates which type of input a  question will have (N - Number; N - Number with Unit measure; MI - Inclusive Multichoice; ME - Exclusive Multichoice; D - Date; DF - Future Date; DP - Past Date; T - Free text)';
COMMENT ON COLUMN EXAM_QUESTIONNAIRE.FLG_COPY IS 'Flag that indicates if an answer can be copied to the same questions';
COMMENT ON COLUMN EXAM_QUESTIONNAIRE.FLG_VALIDATION IS 'Flag that indicates if an answer is valide through out the episode for the same questions';
COMMENT ON COLUMN EXAM_QUESTIONNAIRE.FLG_EXTERIOR IS 'Flag that indicates if a questionnaire is to be answered if the exam is to be performed outside the facility';
COMMENT ON COLUMN EXAM_QUESTIONNAIRE.ID_UNIT_MEASURE IS 'Unit measure ID';
COMMENT ON COLUMN EXAM_QUESTIONNAIRE.ID_INSTITUTION IS 'Institution ID';
-- CHANGE END: Ana Matos

-- CHANGED BY: Ana Matos
-- CHANGE DATE: 09/10/2013 10:47
-- CHANGE REASON: [ALERT-266575] 
ALTER TABLE EXAM_QUESTIONNAIRE 
 MODIFY (ID_RESPONSE NUMBER(24) NOT NULL
 ,FLG_COPY VARCHAR2(1 CHAR) NOT NULL
 ,FLG_VALIDATION VARCHAR2(1 CHAR) NOT NULL
 ,FLG_EXTERIOR VARCHAR2(1 CHAR) NOT NULL
 ,ID_INSTITUTION NUMBER(24) NOT NULL
 ,CREATE_USER VARCHAR2(24 CHAR)
 ,UPDATE_USER VARCHAR2(24 CHAR));
 
-- CHANGE END: Ana Matos