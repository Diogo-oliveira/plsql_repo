

  CREATE TABLE "ALERT"."VITAL_SIGN_SCALES_ELEMENT"
   (	"ID_VS_SCALES_ELEMENT" NUMBER(24,0),
	"ID_VITAL_SIGN_SCALES" NUMBER(24,0),
	"INTERNAL_NAME" VARCHAR2(200),
	"VALUE" NUMBER(24,6),
	"MIN_VALUE" NUMBER(24,0),
	"MAX_VALUE" NUMBER(24,0),
	"FLG_AVAILABLE" VARCHAR2(1),
	"ADW_LAST_UPDATE" DATE DEFAULT sysdate,
	"CODE_VSS_ELEMENT" VARCHAR2(200),
	"ID_UNIT_MEASURE" NUMBER(24,0),
	"ICON" VARCHAR2(200),
	"CODE_VSS_ELEMENT_TITLE" VARCHAR2(200)
   ) ;


-- Para adicionar colunas pode ser usado código comentado
-- De momento só são suportados os tipos de dados mais comuns.
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD ID_VS_SCALES_ELEMENT NUMBER(24,0) NOT NULL;
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD ID_VITAL_SIGN_SCALES NUMBER(24,0) NOT NULL;
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD INTERNAL_NAME VARCHAR2(200) NOT NULL;
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD VALUE NUMBER(24,6) ;
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD MIN_VALUE NUMBER(24,0) ;
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD MAX_VALUE NUMBER(24,0) ;
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD FLG_AVAILABLE VARCHAR2(1) NOT NULL;
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD ADW_LAST_UPDATE DATE ;
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD CODE_VSS_ELEMENT VARCHAR2(200) NOT NULL;
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD ID_UNIT_MEASURE NUMBER(24,0) ;
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD ICON VARCHAR2(200) ;
-- ALTER TABLE VITAL_SIGN_SCALES_ELEMENT ADD CODE_VSS_ELEMENT_TITLE VARCHAR2(200) ;

   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."ID_VS_SCALES_ELEMENT" IS 'Table identifier';



   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."ID_VITAL_SIGN_SCALES" IS 'Scale identifier';



   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."INTERNAL_NAME" IS 'Internal name identifier';



   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."VALUE" IS 'Value if it’s a discrete scale';



   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."MIN_VALUE" IS 'Interval minimum value. Its only applied if it’s an interval scale';



   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."MAX_VALUE" IS 'Interval maximum value. Its only applied if it’s an interval scale';



   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."FLG_AVAILABLE" IS 'Flag available';



   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."ADW_LAST_UPDATE" IS 'Parametrization date';



   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."CODE_VSS_ELEMENT" IS 'Scale element description ';



   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."ID_UNIT_MEASURE" IS 'Unit measure ';



   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."ICON" IS 'Icon';



   COMMENT ON COLUMN "ALERT"."VITAL_SIGN_SCALES_ELEMENT"."CODE_VSS_ELEMENT_TITLE" IS 'Title scale element';



   COMMENT ON TABLE "ALERT"."VITAL_SIGN_SCALES_ELEMENT"  IS 'Vital sign scales elements. Define each element of a scale';

-- CHANGED BY: Paulo Fonseca
-- CHANGE DATE: 12/10/2010
-- CHANGE REASON: ALERT-130834
DECLARE
    e_col_not_found EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_col_not_found, -00904);

BEGIN
    EXECUTE IMMEDIATE 'ALTER TABLE vital_sign_scales_element DROP COLUMN adw_last_update';

EXCEPTION
    WHEN e_col_not_found THEN
        dbms_output.put_line('WARNING: Operation done previously');
    
END;
/
-- CHANGE END: Paulo Fonseca



-- CHANGED BY: Pedro Fernandes
-- CHANGE DATE: 12/10/2011 11:00
-- CHANGE REASON: [ALERT-199029 ] 
BEGIN
EXECUTE IMMEDIATE 'ALTER TABLE vital_sign_scales_element ADD id_vital_sign_desc Number(24)';

EXCEPTION 
  WHEN OTHERS THEN 
    NULL;
END;
/

COMMENT ON COLUMN vital_sign_scales_element.id_vital_sign_desc is 'Description of scale elements';
-- CHANGE END: Pedro Fernandes