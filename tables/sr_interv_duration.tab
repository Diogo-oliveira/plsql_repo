  CREATE TABLE "SR_INTERV_DURATION"
(  
  "ID_SR_INTERVENTION" NUMBER(24,0) NOT NULL,
  "ID_INSTITUTION" NUMBER(24,0) NOT NULL,
  "AVG_DURATION" NUMBER(6,0) NOT NULL,
  "FLG_AVAILABLE" VARCHAR2(1),
  "CREATE_USER"  VARCHAR2(24),
  "CREATE_TIME"  TIMESTAMP(6) WITH LOCAL TIME ZONE,
  "CREATE_INSTITUTION"  NUMBER(24),                         
  "UPDATE_USER"  VARCHAR2(24),                       
  "UPDATE_TIME"  TIMESTAMP(6) WITH LOCAL TIME ZONE,  
  "UPDATE_INSTITUTION"  NUMBER(24)                  
);

COMMENT ON TABLE "SR_INTERV_DURATION"  IS 'This table stores the average duration of a surgical procedure for a certain institution';
COMMENT ON COLUMN "SR_INTERV_DURATION"."ID_SR_INTERVENTION"  IS 'surgical procedure ID';
COMMENT ON COLUMN "SR_INTERV_DURATION"."ID_INSTITUTION"  IS 'id of the instition';
COMMENT ON COLUMN "SR_INTERV_DURATION"."AVG_DURATION"  IS 'average duration of a certain surgical procedure (min)';
COMMENT ON COLUMN "SR_INTERV_DURATION"."FLG_AVAILABLE"  IS 'indicates if this record is available Y/N';
COMMENT ON COLUMN "SR_INTERV_DURATION"."CREATE_USER" IS 'ID of the professional who created the record';
COMMENT ON COLUMN "SR_INTERV_DURATION"."CREATE_TIME" IS 'Date of record creation';
COMMENT ON COLUMN "SR_INTERV_DURATION"."CREATE_INSTITUTION" IS 'ID of institution where record was created'; 
COMMENT ON COLUMN "SR_INTERV_DURATION"."UPDATE_USER" IS 'ID of the professional who last updated the record';
COMMENT ON COLUMN "SR_INTERV_DURATION"."UPDATE_TIME" IS 'Date when record was last updated';
COMMENT ON COLUMN "SR_INTERV_DURATION"."UPDATE_INSTITUTION" IS 'ID of the institution where record was last updated';

-- CHANGED BY: Pedro Henriques
-- CHANGE DATE: 14/07/2017 14:08
-- CHANGE REASON: [ALERT-331061]
ALTER TABLE SR_INTERV_DURATION DROP CONSTRAINT SIND_SIN_FK;
ALTER TABLE SR_INTERV_DURATION ADD CONSTRAINT SIND_SIN_FK FOREIGN KEY (ID_SR_INTERVENTION) REFERENCES INTERVENTION (ID_INTERVENTION);
-- CHANGE END: Pedro Henriques