-- CHANGED BY: Ana Matos
-- CHANGE DATE: 18/07/2016 09:39
-- CHANGE REASON: [ALERT-323391] 
CREATE TABLE INTERV_QUESTIONNAIRE
(
  ID_INTERV_QUESTIONNAIRE NUMBER(24) NOT NULL,
  ID_INTERVENTION       NUMBER(24) NOT NULL,
  ID_QUESTIONNAIRE      NUMBER(24) NOT NULL,
  ID_RESPONSE           NUMBER(24),
  FLG_TIME              VARCHAR2(2 CHAR),
  FLG_TYPE              VARCHAR2(2 CHAR) NOT NULL,
  FLG_MANDATORY         VARCHAR2(1 CHAR) NOT NULL,
  FLG_COPY              VARCHAR2(1 CHAR) NOT NULL,
  FLG_VALIDATION        VARCHAR2(1 CHAR) NOT NULL,
  FLG_EXTERIOR          VARCHAR2(1 CHAR) NOT NULL,
  ID_UNIT_MEASURE       NUMBER(24),
  RANK                  NUMBER(6) NOT NULL,
  FLG_AVAILABLE         VARCHAR2(1 CHAR) NOT NULL,
  ID_INSTITUTION        NUMBER(24) NOT NULL,
  CREATE_USER           VARCHAR2(24 CHAR),
  CREATE_TIME           TIMESTAMP(6) WITH LOCAL TIME ZONE,
  CREATE_INSTITUTION    NUMBER(24),
  UPDATE_USER           VARCHAR2(24 CHAR),
  UPDATE_TIME           TIMESTAMP(6) WITH LOCAL TIME ZONE,
  UPDATE_INSTITUTION    NUMBER(24)
);

-- Add comments to the table 
COMMENT ON TABLE INTERV_QUESTIONNAIRE is 'Table that defines the questionnaires for each procedure';
-- Add comments to the columns 
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.ID_INTERV_QUESTIONNAIRE IS 'Primary key';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.ID_INTERVENTION IS 'Procedure ID';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.ID_QUESTIONNAIRE IS 'Questionnaire ID';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.FLG_TIME IS 'Flag that indicates WHEN the questionnaire is to be answered';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.FLG_TYPE IS 'Flag that indicates which type of input a  question will have (N - Number; N - Number with Unit measure; MI - Inclusive Multichoice; ME - Exclusive Multichoice; D - Date; DF - Future Date; DP - Past Date; T - Free text)';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.FLG_MANDATORY IS 'Flag that indicates if the question is mandatory or not: Y - Yes; N - No';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.RANK IS 'Questionnaire rank';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.FLG_AVAILABLE IS 'Flag that indicates if the record is available or not (Y/N)';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.ID_RESPONSE IS 'Response ID';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.FLG_COPY IS 'Flag that indicates if an answer can be copied to the same questions';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.FLG_VALIDATION IS 'Flag that indicates if an answer is valide through out the episode for the same questions';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.FLG_EXTERIOR IS 'Flag that indicates if a questionnaire is to be answered if the exam is to be performed outside the facility';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.ID_UNIT_MEASURE IS 'Unit measure ID';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.ID_INSTITUTION IS 'Institution ID';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.CREATE_USER IS 'Creation User';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.CREATE_TIME IS 'Create Time';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.CREATE_INSTITUTION IS 'Create Institution';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.UPDATE_USER IS 'Update User';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.UPDATE_TIME IS 'Update Time';
COMMENT ON COLUMN INTERV_QUESTIONNAIRE.UPDATE_INSTITUTION IS 'Update Institution';
-- CHANGE END: Ana Matos