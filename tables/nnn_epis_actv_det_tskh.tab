-- CHANGED BY: Ariel Machado
-- CHANGE DATE: 10/09/2014 17:28
-- CHANGE REASON: [ALERT-290969] Nursing Care Plan: NANDA, NIC, NOC - Data Model for History tracking
BEGIN
  pk_frmw_objects.insert_into_frmw_objects(i_owner => 'ALERT', i_obj_name => 'NNN_EPIS_ACTV_DET_TSKH', i_obj_type => 'TABLE', i_flg_category => 'HST', i_flg_alert_default => 'N', i_delete_script => '', i_flg_default_child => 'N', i_flg_nzd => 'Y', i_responsible_team => 'NURSING');
END;
/
CREATE TABLE NNN_EPIS_ACTV_DET_TSKH
  (
    ID_NNN_EPIS_ACTV_DET_TSKH NUMBER (24) NOT NULL ,
    ID_NNN_EPIS_ACTIVITY_DET  NUMBER (24) NOT NULL ,
    DT_TRS_TIME_START         TIMESTAMP WITH LOCAL TIME ZONE NOT NULL ,
    ID_NIC_ACTIVITY           NUMBER (24) NOT NULL ,
    FLG_EXECUTED              VARCHAR2 (1 CHAR) NOT NULL ,
    NOTES CLOB ,
    CREATE_USER        VARCHAR2 (30 CHAR) ,
    CREATE_TIME        TIMESTAMP WITH LOCAL TIME ZONE ,
    CREATE_INSTITUTION NUMBER (24) ,
    UPDATE_USER        VARCHAR2 (30 CHAR) ,
    UPDATE_TIME        TIMESTAMP WITH LOCAL TIME ZONE ,
    UPDATE_INSTITUTION NUMBER (24)
  )
  TABLESPACE ALERT_DATA LOB
  (
    NOTES
  )
  STORE AS
  (
    TABLESPACE ALERT_LOB PCTVERSION 10 ENABLE STORAGE IN ROW NOCACHE
  ) ;

COMMENT ON TABLE NNN_EPIS_ACTV_DET_TSKH
IS
  'History tracking for NIC Activity tasks associated to an execution of a NIC Activity' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.ID_NNN_EPIS_ACTV_DET_TSKH
IS
  'Surrogate key' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.ID_NNN_EPIS_ACTIVITY_DET
IS
  'Executed NIC Activity ID' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.DT_TRS_TIME_START
IS
  'Transaction time start' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.ID_NIC_ACTIVITY
IS
  'NIC Activity ID defined as task' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.FLG_EXECUTED
IS
  'Execution status: Executed / Not Executed' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.NOTES
IS
  'Notes of activity task performed by the professional' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.CREATE_USER
IS
  'Creation User' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.CREATE_TIME
IS
  'Creation Time' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.CREATE_INSTITUTION
IS
  'Creation Institution' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.UPDATE_USER
IS
  'Update User' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.UPDATE_TIME
IS
  'Update Time' ;
  COMMENT ON COLUMN NNN_EPIS_ACTV_DET_TSKH.UPDATE_INSTITUTION
IS
  'Update Institution' ;
-- CHANGE END: Ariel Machado