-- CHANGED BY: José Brito
-- CHANGE DATE: 24/01/2010 19:50
-- CHANGE REASON: [ALERT-70160] Triage refactoring
BEGIN
    EXECUTE IMMEDIATE 'CREATE TABLE TRIAGE_WHITE_REAS_INST( ' || --
                      '  ID_TRIAGE_WHITE_REASON NUMBER(24) NOT NULL, ' || --
                      '  ID_INSTITUTION NUMBER(24) NOT NULL, ' || --
                      '  FLG_AVAILABLE VARCHAR2(1) NOT NULL, ' || --
                      '  CREATE_USER VARCHAR2(24), ' || --
                      '  CREATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE, ' || --
                      '  CREATE_INSTITUTION NUMBER(24), ' || --
                      '  UPDATE_USER VARCHAR2(24), ' || --
                      '  UPDATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE, ' || --
                      '  UPDATE_INSTITUTION NUMBER(24) ' || --
                      ') TABLESPACE TABLE_M ';
EXCEPTION
    WHEN OTHERS THEN
        dbms_output.put_line('WARNING: Object already exists.');
END;
/

COMMENT ON TABLE TRIAGE_WHITE_REAS_INST IS 'Configures the reasons for white triage, per institution';
COMMENT ON COLUMN TRIAGE_WHITE_REAS_INST.ID_TRIAGE_WHITE_REASON IS 'Reason for white triage';
COMMENT ON COLUMN TRIAGE_WHITE_REAS_INST.ID_INSTITUTION IS 'Institution ID';
COMMENT ON COLUMN TRIAGE_WHITE_REAS_INST.FLG_AVAILABLE IS 'Availability: (Y) Yes (N) No';
COMMENT ON COLUMN TRIAGE_WHITE_REAS_INST.CREATE_USER IS 'Creation user';
COMMENT ON COLUMN TRIAGE_WHITE_REAS_INST.CREATE_TIME IS 'Creation date / time';
COMMENT ON COLUMN TRIAGE_WHITE_REAS_INST.CREATE_INSTITUTION IS 'Creation institution';
COMMENT ON COLUMN TRIAGE_WHITE_REAS_INST.UPDATE_USER IS 'Update user';
COMMENT ON COLUMN TRIAGE_WHITE_REAS_INST.UPDATE_TIME IS 'Update date / time';
COMMENT ON COLUMN TRIAGE_WHITE_REAS_INST.UPDATE_INSTITUTION IS 'Update institution';
-- CHANGE END: José Brito

-- CHANGED BY: José Brito
-- CHANGE DATE: 02/03/2010 10:50
-- CHANGE REASON: [ALERT-77123] ESI Triage
ALTER TABLE TRIAGE_WHITE_REAS_INST MODIFY FLG_AVAILABLE VARCHAR2(1 CHAR);
-- CHANGE END: José Brito