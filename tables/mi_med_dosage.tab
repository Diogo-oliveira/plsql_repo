-- CHANGED BY: Sérgio Cunha
-- CHANGE DATE: 11/09/2009 20:13
-- CHANGE REASON: [ALERT-42984] 
  CREATE TABLE ALERT.MI_MED_DOSAGE
   (ID_DRUG VARCHAR2(255),
    VERSION VARCHAR2(255),
    ID_FORM_FARM VARCHAR2(255),
    QTY_DOSAGE_NUMER NUMBER(24,2),
    ID_UNIT_DOSAGE_NUMER NUMBER(24,0)
      QTY_DOSAGE_DENOM NUMBER(24,2),
    ID_UNIT_DOSAGE_DENOM NUMBER(24,0),
    QTY_EMB NUMBER(24,2),
    ID_UNIT_EMB NUMBER(24,0),
    FLG_AVAILABLE VARCHAR2(1),
    CREATE_USER VARCHAR2(24),
    CREATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    CREATE_INSTITUTION NUMBER(24,0),
    UPDATE_USER VARCHAR2(24),
    UPDATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    UPDATE_INSTITUTION NUMBER(24,0)
   ) ;

   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.ID_DRUG IS 'Drug identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.VERSION IS 'Version';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.ID_FORM_FARM IS 'Form farm id';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.QTY_DOSAGE_NUMER IS 'Numerator dosage quantity unit identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.ID_UNIT_DOSAGE_NUMER IS 'Numerator dosage unit identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.QTY_DOSAGE_DENOM IS 'Denominator dosage quantity unit identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.ID_UNIT_DOSAGE_DENOM IS 'Denominator dosage unit identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.QTY_EMB IS 'Package size quantity';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.ID_UNIT_EMB IS 'Package size identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.FLG_AVAILABLE IS 'Registry availability: (Y)es | (N)o';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.CREATE_USER IS 'Creation user';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.CREATE_TIME IS 'Creation time';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.CREATE_INSTITUTION IS 'Creation institution';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.UPDATE_USER IS 'Update user';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.UPDATE_TIME IS 'Update time';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.UPDATE_INSTITUTION IS 'Update institution';
   COMMENT ON TABLE ALERT.MI_MED_DOSAGE  IS 'Medication dosage';
-- CHANGE END: Sérgio Cunha


-- CHANGED BY: Sérgio Cunha
-- CHANGE DATE: 14/09/2009
-- CHANGE REASON: [ALERT-42984] 
  CREATE TABLE ALERT.MI_MED_DOSAGE
   (ID_DRUG VARCHAR2(255),
    VERSION VARCHAR2(255),
    ID_FORM_FARM VARCHAR2(255),
    QTY_DOSAGE_NUMER NUMBER(24,2),
    ID_UNIT_DOSAGE_NUMER NUMBER(24,0),
    QTY_DOSAGE_DENOM NUMBER(24,2),
    ID_UNIT_DOSAGE_DENOM NUMBER(24,0),
    QTY_EMB NUMBER(24,2),
    ID_UNIT_EMB NUMBER(24,0),
    FLG_AVAILABLE VARCHAR2(1),
    CREATE_USER VARCHAR2(24),
    CREATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    CREATE_INSTITUTION NUMBER(24,0),
    UPDATE_USER VARCHAR2(24),
    UPDATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    UPDATE_INSTITUTION NUMBER(24,0)
   ) ;

   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.ID_DRUG IS 'Drug identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.VERSION IS 'Version';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.ID_FORM_FARM IS 'Form farm id';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.QTY_DOSAGE_NUMER IS 'Numerator dosage quantity unit identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.ID_UNIT_DOSAGE_NUMER IS 'Numerator dosage unit identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.QTY_DOSAGE_DENOM IS 'Denominator dosage quantity unit identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.ID_UNIT_DOSAGE_DENOM IS 'Denominator dosage unit identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.QTY_EMB IS 'Package size quantity';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.ID_UNIT_EMB IS 'Package size identification';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.FLG_AVAILABLE IS 'Registry availability: (Y)es | (N)o';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.CREATE_USER IS 'Creation user';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.CREATE_TIME IS 'Creation time';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.CREATE_INSTITUTION IS 'Creation institution';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.UPDATE_USER IS 'Update user';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.UPDATE_TIME IS 'Update time';
   COMMENT ON COLUMN ALERT.MI_MED_DOSAGE.UPDATE_INSTITUTION IS 'Update institution';
   COMMENT ON TABLE ALERT.MI_MED_DOSAGE  IS 'Medication dosage';
-- CHANGE END: Sérgio Cunha



-- CHANGED BY: Fábio Oliveira
-- CHANGE DATE: 10/11/2009 17:48
-- CHANGE REASON: [ALERT-39533] Automatic calculation of unit dispended
ALTER TABLE MI_MED_DOSAGE 
 ADD (FLG_FRACTIONABLE VARCHAR2(1) NOT NULL
 ,ID_UNIT_DISPENSE NUMBER(24)
 )
 MODIFY (ID_FORM_FARM VARCHAR2(255) NULL
 )
/
-- CHANGE END: Fábio Oliveira

-- CHANGED BY: Sofia Mendes
-- CHANGE DATE: 20/01/2016 11:49
-- CHANGE REASON: [ALERT-317981 ] Old Medication - deprecated tables: Database model documentation and comments corretions
COMMENT ON TABLE MI_MED_DOSAGE IS 'Medication dosage [DEPRECATED]';
-- CHANGE END: Sofia Mendes