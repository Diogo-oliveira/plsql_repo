

  CREATE TABLE "ALERT"."QUESTIONNAIRE_RESPONSE"
   (	"ID_QUESTIONNAIRE" NUMBER(24,0),
	"ID_RESPONSE" NUMBER(24,0),
	"ID_CONTENT" VARCHAR2(200),
	"RANK" NUMBER(6,0),
	"FLG_AVAILABLE" VARCHAR2(1),
	"CREATE_USER" VARCHAR2(24),
	"CREATE_TIME" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"CREATE_INSTITUTION" NUMBER(24,0),
	"UPDATE_USER" VARCHAR2(24),
	"UPDATE_TIME" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"UPDATE_INSTITUTION" NUMBER(24,0)
   ) ;


-- Para adicionar colunas pode ser usado código comentado
-- De momento só são suportados os tipos de dados mais comuns.
-- ALTER TABLE QUESTIONNAIRE_RESPONSE ADD ID_QUESTIONNAIRE NUMBER(24,0) NOT NULL;
-- ALTER TABLE QUESTIONNAIRE_RESPONSE ADD ID_RESPONSE NUMBER(24,0) NOT NULL;
-- ALTER TABLE QUESTIONNAIRE_RESPONSE ADD ID_CONTENT VARCHAR2(200) ;
-- ALTER TABLE QUESTIONNAIRE_RESPONSE ADD RANK NUMBER(6,0) NOT NULL;
-- ALTER TABLE QUESTIONNAIRE_RESPONSE ADD FLG_AVAILABLE VARCHAR2(1) NOT NULL;
-- ALTER TABLE QUESTIONNAIRE_RESPONSE ADD CREATE_USER VARCHAR2(24) ;
-- ALTER TABLE QUESTIONNAIRE_RESPONSE ADD CREATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE ;
-- ALTER TABLE QUESTIONNAIRE_RESPONSE ADD CREATE_INSTITUTION NUMBER(24,0) ;
-- ALTER TABLE QUESTIONNAIRE_RESPONSE ADD UPDATE_USER VARCHAR2(24) ;
-- ALTER TABLE QUESTIONNAIRE_RESPONSE ADD UPDATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE ;
-- ALTER TABLE QUESTIONNAIRE_RESPONSE ADD UPDATE_INSTITUTION NUMBER(24,0) ;

   COMMENT ON COLUMN "ALERT"."QUESTIONNAIRE_RESPONSE"."ID_QUESTIONNAIRE" IS 'Question id';



   COMMENT ON COLUMN "ALERT"."QUESTIONNAIRE_RESPONSE"."ID_RESPONSE" IS 'Response id';



   COMMENT ON COLUMN "ALERT"."QUESTIONNAIRE_RESPONSE"."ID_CONTENT" IS 'Content unique id';



   COMMENT ON COLUMN "ALERT"."QUESTIONNAIRE_RESPONSE"."RANK" IS 'Field for ordering responses'' within a question';



   COMMENT ON COLUMN "ALERT"."QUESTIONNAIRE_RESPONSE"."FLG_AVAILABLE" IS 'Flag that indicates if the record is available or not (Y/N)';



   COMMENT ON COLUMN "ALERT"."QUESTIONNAIRE_RESPONSE"."CREATE_USER" IS 'Creation User';



   COMMENT ON COLUMN "ALERT"."QUESTIONNAIRE_RESPONSE"."CREATE_TIME" IS 'Creation Time';



   COMMENT ON COLUMN "ALERT"."QUESTIONNAIRE_RESPONSE"."CREATE_INSTITUTION" IS 'Creation Institution';



   COMMENT ON COLUMN "ALERT"."QUESTIONNAIRE_RESPONSE"."UPDATE_USER" IS 'Update User';



   COMMENT ON COLUMN "ALERT"."QUESTIONNAIRE_RESPONSE"."UPDATE_TIME" IS 'Update Time';



   COMMENT ON COLUMN "ALERT"."QUESTIONNAIRE_RESPONSE"."UPDATE_INSTITUTION" IS 'Update Institution';




-- CHANGED BY: Ana Matos
-- CHANGE DATE: 09/10/2013 09:41
-- CHANGE REASON: [ALERT-266573] 
ALTER TABLE QUESTIONNAIRE_RESPONSE 
 ADD (ID_QUESTIONNAIRE_PARENT NUMBER(24)
 ,ID_RESPONSE_PARENT NUMBER(24));

COMMENT ON TABLE QUESTIONNAIRE_RESPONSE IS 'Relation table between questionnaire and response tables';

COMMENT ON COLUMN QUESTIONNAIRE_RESPONSE.ID_QUESTIONNAIRE IS 'Question ID';
COMMENT ON COLUMN QUESTIONNAIRE_RESPONSE.ID_QUESTIONNAIRE_PARENT IS 'Questionnaire parent ID (for dependencies)';
COMMENT ON COLUMN QUESTIONNAIRE_RESPONSE.ID_RESPONSE_PARENT IS 'Response parent ID (for dependencies)';
COMMENT ON COLUMN QUESTIONNAIRE_RESPONSE.ID_RESPONSE IS 'Response ID';
COMMENT ON COLUMN QUESTIONNAIRE_RESPONSE.ID_CONTENT IS 'Content unique ID';
-- CHANGE END: Ana Matos