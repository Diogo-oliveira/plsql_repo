

  CREATE TABLE EPIS_INTERV
   (	ID_EPIS_INTERV NUMBER(24,0) NOT NULL ENABLE,
	DT_EPIS_INTERV DATE NOT NULL ENABLE,
	ID_INTERV_PRESC_DET NUMBER(24,0) NOT NULL ENABLE,
	ID_INTERVENTION NUMBER(24,0) NOT NULL ENABLE,
	ID_ROOM NUMBER(24,0),
	DT_BEGIN DATE,
	DT_END DATE,
	NOTES VARCHAR2(4000),
	FLG_RECOVERY VARCHAR2(1) NOT NULL ENABLE
   );


COMMENT ON COLUMN epis_interv.dt_epis_interv IS 'Data de registo' ;
COMMENT ON COLUMN epis_interv.id_room IS 'Sala de realização da intervenção (importante distinguir se é na CE ou no Bloco)' ;
COMMENT ON COLUMN epis_interv.dt_begin IS 'Data de início da execução' ;
COMMENT ON COLUMN epis_interv.dt_end IS 'Data de fim da execução' ;
COMMENT ON COLUMN epis_interv.flg_recovery IS 'Necessidade de recobro (Y / N)' ;

--João Eiras, 03-09-2007
--Timezones changes
ALTER TABLE EPIS_INTERV ADD DT_BEGIN_TSTZ TIMESTAMP WITH LOCAL TIME ZONE; 
COMMENT ON COLUMN EPIS_INTERV.DT_BEGIN_TSTZ IS 'Data de in¡cio da execu‡Æo'; 
ALTER TABLE EPIS_INTERV ADD DT_END_TSTZ TIMESTAMP WITH LOCAL TIME ZONE; 
COMMENT ON COLUMN EPIS_INTERV.DT_END_TSTZ IS 'Data de fim da execu‡Æo'; 
ALTER TABLE EPIS_INTERV ADD DT_EPIS_INTERV_TSTZ TIMESTAMP WITH LOCAL TIME ZONE; 
COMMENT ON COLUMN EPIS_INTERV.DT_EPIS_INTERV_TSTZ IS 'Data de registo'; 


-- CHANGED BY: Sérgio Santos (sergio.santos)
-- CHANGE DATE: 03/12/2008 09:16
-- CHANGE REASON: ALERT-11133 Remoção de colunas com tipo DATE quando existe a equivalente TSTZ
ALTER TABLE EPIS_INTERV DROP COLUMN DT_EPIS_INTERV;
ALTER TABLE EPIS_INTERV DROP COLUMN DT_BEGIN;
ALTER TABLE EPIS_INTERV DROP COLUMN DT_END;
-- CHANGE END