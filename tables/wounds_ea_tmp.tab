DROP TABLE WOUNDS_EA_TMP;

CREATE GLOBAL TEMPORARY TABLE WOUNDS_EA_TMP
(
  ID_NURSE_ACTV_REQ_DET  NUMBER(24) not null,
  ID_NURSE_ACTIVITY_REQ  NUMBER(24) not null,
  ID_WOUND_EVALUATION    NUMBER(24),
  ID_WOUND_TREAT         NUMBER(24),
  WOUND_LOCATION         VARCHAR2(200),
  ID_PROFESSIONAL        NUMBER(24),
  DT_NURSE_ACTIVITY_REQ  TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DT_BEGIN               TIMESTAMP(6) WITH LOCAL TIME ZONE,
  DT_PLAN                TIMESTAMP(6) WITH LOCAL TIME ZONE,
  STATUS_STR             VARCHAR2(50),
  STATUS_MSG             VARCHAR2(200),
  STATUS_ICON            VARCHAR2(200),
  STATUS_FLG             VARCHAR2(1),
  FLG_STATUS_REQ         VARCHAR2(1),
  FLG_STATUS_DET         VARCHAR2(1),
  FLG_TIME               VARCHAR2(1),
  FLG_NOTES              VARCHAR2(4000),
  ID_EPISODE_ORIGIN      NUMBER(24),
  ID_PREV_EPISODE        NUMBER(24),
  ID_EPISODE             NUMBER(24),
  ID_PATIENT             NUMBER(24),
  FLG_STATUS_EVALUATION  VARCHAR2(1),
  FLG_STATUS_TREAT       VARCHAR2(1),
  ID_EPISODE_DESTINATION NUMBER(24),
  DT_DG_LAST_UPDATE      TIMESTAMP(6) WITH LOCAL TIME ZONE default CURRENT_TIMESTAMP
)
ON COMMIT PRESERVE ROWS;


-- CHANGED BY: Nuno Alves
-- CHANGE DATE: 24/08/2015 14:21
-- CHANGE REASON: [ALERT-314007] ALERT-314007 CL RED UC Erro nos pedidos de curativos
BEGIN
    pk_versioning.run(i_sql => 'ALTER TABLE wounds_ea_tmp modify status_str VARCHAR2(200)');
END;
/ 
-- CHANGE END: Nuno Alves