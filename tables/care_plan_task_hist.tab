

  CREATE TABLE "ALERT"."CARE_PLAN_TASK_HIST"
   (	"DT_CARE_PLAN_TASK_HIST" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"ID_CARE_PLAN_TASK" NUMBER(12,0),
	"ID_PROF" NUMBER(24,0),
	"DT_CARE_PLAN_TASK" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"ID_ITEM" NUMBER(24,0),
	"FLG_STATUS" VARCHAR2(2),
	"ID_TASK_TYPE" NUMBER(12,0),
	"DT_BEGIN" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"DT_END" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"NUM_EXEC" NUMBER(12,0),
	"ID_UNIT_MEASURE" NUMBER(24,0),
	"INTERVAL" NUMBER(12,0),
	"NOTES" VARCHAR2(4000),
	"ID_PROF_CANCEL" NUMBER(24,0),
	"DT_CANCEL" TIMESTAMP (6) WITH LOCAL TIME ZONE,
	"NOTES_CANCEL" VARCHAR2(4000)
   ) ;


-- Para adicionar colunas pode ser usado código comentado
-- De momento só são suportados os tipos de dados mais comuns.
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD DT_CARE_PLAN_TASK_HIST TIMESTAMP(6) WITH LOCAL TIME ZONE NOT NULL;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD ID_CARE_PLAN_TASK NUMBER(12,0) NOT NULL;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD ID_PROF NUMBER(24,0) NOT NULL;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD DT_CARE_PLAN_TASK TIMESTAMP(6) WITH LOCAL TIME ZONE NOT NULL;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD ID_ITEM NUMBER(24,0) NOT NULL;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD FLG_STATUS VARCHAR2(2) NOT NULL;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD ID_TASK_TYPE NUMBER(12,0) NOT NULL;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD DT_BEGIN TIMESTAMP(6) WITH LOCAL TIME ZONE ;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD DT_END TIMESTAMP(6) WITH LOCAL TIME ZONE ;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD NUM_EXEC NUMBER(12,0) ;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD ID_UNIT_MEASURE NUMBER(24,0) ;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD INTERVAL NUMBER(12,0) ;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD NOTES VARCHAR2(4000) ;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD ID_PROF_CANCEL NUMBER(24,0) ;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD DT_CANCEL TIMESTAMP(6) WITH LOCAL TIME ZONE ;
-- ALTER TABLE CARE_PLAN_TASK_HIST ADD NOTES_CANCEL VARCHAR2(4000) ;


COMMENT ON TABLE CARE_PLAN_TASK_HIST IS 'Tabela das tarefas para os Care Plans';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.DT_CARE_PLAN_TASK_HIST IS 'Data do registo de passagem para o histórico';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_CARE_PLAN_TASK IS 'Id da tarefa para o Care Plan';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_PROF IS 'Id do profissional que associa a tarefa ao Care Plan';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.DT_CARE_PLAN_TASK IS 'Data de registo da associação da tarefa ao Care Plan';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_ITEM IS 'Id do item seleccionado';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.FLG_STATUS IS 'Flag que indica o estado da tarefa';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_TASK_TYPE IS 'Id do tipo de tarefa';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.DT_BEGIN IS 'Instruções da tarefa: data de início';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.DT_END IS 'Instruções da tarefa: data de fim';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.NUM_EXEC IS 'Instruções da tarefa: número de execuções';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_UNIT_MEASURE IS 'Instruções da tarefa: id que indica qual a unidade para o intervalo';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.INTERVAL IS 'Instruções da tarefa: intervalo da tarefa';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.NOTES IS 'Notas da tarefa';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_PROF_CANCEL IS 'Id do profissional que cancelou a tarefa';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.DT_CANCEL IS 'Data de cancelamento da tarefa';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.NOTES_CANCEL IS 'Notas de cancelamento da tarefa';



-- CHANGED BY: Ana Matos
-- CHANGE DATE: 27/04/2011 14:15
-- CHANGE REASON: [ALERT-174776] 
ALTER TABLE CARE_PLAN_TASK_HIST ADD (id_cancel_reason NUMBER(24));

COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_CANCEL_REASON IS 'Id do motivo de cancelamento';
-- CHANGE END: Ana Matos

-- CHANGED BY: Ana Matos
-- CHANGE DATE: 08/01/2016 14:45
-- CHANGE REASON: [ALERT-317702] 
COMMENT ON TABLE CARE_PLAN_TASK_HIST IS 'Care plan tasks history';


COMMENT ON COLUMN CARE_PLAN_TASK_HIST.DT_CARE_PLAN_TASK_HIST IS 'Date when the register was made';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_CANCEL_REASON IS 'Cancel reason ID';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_PROF_CANCEL IS 'Professional that cancels the care plan';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.DT_CANCEL IS 'Date that indicates when the care plan was cancelled';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.NOTES_CANCEL IS 'Cancelation notes';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.CREATE_USER IS 'Creation User';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.CREATE_TIME IS 'Creation Time';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.CREATE_INSTITUTION IS 'Creation Institution';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.UPDATE_USER IS 'Update User';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.UPDATE_TIME IS 'Update Time';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.UPDATE_INSTITUTION IS 'Update Institution';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_CARE_PLAN_TASK IS 'Care plan task ID';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_PROF IS 'Professional ID';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.DT_CARE_PLAN_TASK_HIST IS 'Date that indicates when the care plan task was registered';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_ITEM IS 'Item ID';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.FLG_STATUS IS 'Flag that indicates the care plan task status';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_TASK_TYPE IS 'Task type ID';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.DT_BEGIN IS 'Task instructions: begin date';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.DT_END IS 'Task instructions: end date';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.NUM_EXEC IS 'Task instructions: number of executions';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.ID_UNIT_MEASURE IS 'Task instructions: interval unit measure';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.INTERVAL IS 'Task instructions: interval';
COMMENT ON COLUMN CARE_PLAN_TASK_HIST.NOTES IS 'Notes';
-- CHANGE END: Ana Matos