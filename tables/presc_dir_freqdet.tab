-- CHANGED BY: Nuno Ferreira
-- CHANGE DATE: 01/03/2010
-- CHANGE REASON: [ALERT-78195] 
declare
l_count pls_integer;
l_sql_stat varchar2(4000) := '   CREATE TABLE ALERT.PRESC_DIR_FREQDET
   (ID_PRESC_DIR_FREQDET NUMBER(24,0) NOT NULL,
    ID_PRESC_DIR_DOSEFREQ NUMBER(24,0) NOT NULL,
    RANK NUMBER(6,0),
    EDF_M_ID_PD_FREQUENCY NUMBER(24,0),
    EDF_MP_ID_PD_FREQUENCY NUMBER(24,0),
    DF_WD_ID_PD_FREQUENCY NUMBER(24,0),
    DF_MD_ID_PD_FREQUENCY NUMBER(24,0),
    FREQDET_HOUR INTERVAL DAY (3) TO SECOND (3),
    FREQ_BEFORE_MEAL_DELAY INTERVAL DAY (3) TO SECOND (3),
    FREQ_AFTER_MEAL_DELAY INTERVAL DAY (3) TO SECOND (3),
    CREATE_USER VARCHAR2(24 CHAR),
    CREATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    CREATE_INSTITUTION NUMBER(24,0),
    UPDATE_USER VARCHAR2(24 CHAR),
    UPDATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    UPDATE_INSTITUTION NUMBER(24,0)
   )';
		
begin

select count(1) into l_count from all_tables where table_name = 'PRESC_DIR_FREQDET' and owner = 'ALERT';

if l_count = 0 then
  execute immediate (l_sql_stat);

end if;

end;
/
-- CHANGE END: Nuno Ferreira

-- CHANGED BY: Nuno Ferreira
-- CHANGE DATE: 01/03/2010
-- CHANGE REASON: [ALERT-78195]
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.ID_PRESC_DIR_FREQDET IS 'Prescription directions frequency detail ID';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.ID_PRESC_DIR_DOSEFREQ IS 'Prescription directions dose and frequency ID';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.RANK IS 'Rank detail';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.EDF_M_ID_PD_FREQUENCY IS 'Each day - Meal Frequency ID';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.EDF_MP_ID_PD_FREQUENCY IS 'Each day - Meal Period Frequency ID';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.DF_WD_ID_PD_FREQUENCY IS 'Week day Frequency ID';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.DF_MD_ID_PD_FREQUENCY IS 'Month day Frequency ID';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.FREQDET_HOUR IS 'Frequency hour - for date computations';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.FREQ_BEFORE_MEAL_DELAY IS 'Frequency delay - BEFORE meal - for date computations';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.FREQ_AFTER_MEAL_DELAY IS 'Frequency delay - AFTER meal - for date computations';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.CREATE_USER IS 'Creation User';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.CREATE_TIME IS 'Creation Time';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.CREATE_INSTITUTION IS 'Creation Institution';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.UPDATE_USER IS 'Update User';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.UPDATE_TIME IS 'Update Time';
   COMMENT ON COLUMN ALERT.PRESC_DIR_FREQDET.UPDATE_INSTITUTION IS 'Update Institution';
   COMMENT ON TABLE ALERT.PRESC_DIR_FREQDET  IS 'Prescription directions frequency details';
-- CHANGE END: Nuno Ferreira

-- CHANGED BY: Sofia Mendes
-- CHANGE DATE: 20/01/2016 12:06
-- CHANGE REASON: [ALERT-317981 ] Old Medication - deprecated tables: Database model documentation and comments corretions
COMMENT ON TABLE PRESC_DIR_FREQDET IS 'Prescription directions frequency details [DEPRECATED]';
-- CHANGE END: Sofia Mendes