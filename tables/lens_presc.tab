CREATE TABLE LENS_PRESC
 (ID_LENS_PRESC NUMBER(24) NOT NULL
 ,ID_LENS NUMBER(24) NOT NULL
 ,ID_EPISODE NUMBER(24) NOT NULL
 ,ID_PATIENT NUMBER(24) NOT NULL
 ,ID_PROF_PRESC NUMBER(24) NOT NULL
 ,DT_LENS_PRESC_TSTZ TIMESTAMP WITH LOCAL TIME ZONE NOT NULL
 ,ID_PROF_CANCEL NUMBER(24)
 ,DT_CANCEL_TSTZ TIMESTAMP WITH LOCAL TIME ZONE
 ,ID_PROF_PRINT NUMBER(24)
 ,DT_PRINT_TSTZ TIMESTAMP WITH LOCAL TIME ZONE
 ,FLG_STATUS VARCHAR2(1) NOT NULL
 ,NOTES VARCHAR2(4000)
 ,NOTES_CANCEL VARCHAR2(4000)
 ,ID_CANCEL_REASON NUMBER(24)
 )
/

COMMENT ON TABLE LENS_PRESC IS 'This table stores all lens prescriptions.'
/

COMMENT ON COLUMN LENS_PRESC.ID_LENS_PRESC IS 'Primary key'
/

COMMENT ON COLUMN LENS_PRESC.ID_LENS IS 'Lens Id'
/

COMMENT ON COLUMN LENS_PRESC.ID_EPISODE IS 'Episode Id'
/

COMMENT ON COLUMN LENS_PRESC.ID_PATIENT IS 'Patient Id'
/

COMMENT ON COLUMN LENS_PRESC.ID_PROF_PRESC IS 'Professional Id responsible for this registry.'
/

COMMENT ON COLUMN LENS_PRESC.DT_LENS_PRESC_TSTZ IS 'Registry date.'
/

COMMENT ON COLUMN LENS_PRESC.ID_PROF_CANCEL IS 'Professional Id responsible for the cancelation.'
/

COMMENT ON COLUMN LENS_PRESC.DT_CANCEL_TSTZ IS 'Cancelation date.'
/

COMMENT ON COLUMN LENS_PRESC.ID_PROF_PRINT IS 'Professional Id responsible for the prescription printing.'
/

COMMENT ON COLUMN LENS_PRESC.DT_PRINT_TSTZ IS 'Prescription printing date.'
/

COMMENT ON COLUMN LENS_PRESC.FLG_STATUS IS 'Lens prescription current status. I-In construction, P-Printed, C-Cancelled'
/

COMMENT ON COLUMN LENS_PRESC.NOTES IS 'Registry notes'
/

COMMENT ON COLUMN LENS_PRESC.NOTES_CANCEL IS 'Cancelation notes'
/

COMMENT ON COLUMN LENS_PRESC.ID_CANCEL_REASON IS 'Cancel reason Id'
/


-- CHANGED BY: mario.mineiro
-- CHANGE DATE: 15/12/2014 12:28
-- CHANGE REASON: [ALERT-154361] 
alter table LENS_PRESC modify UPDATE_USER varchar2(24 CHAR);
/
-- CHANGE END: mario.mineiro

-- CHANGED BY: mario.mineiro
-- CHANGE DATE: 15/12/2014 12:29
-- CHANGE REASON: [ALERT-154361] 
alter table LENS_PRESC modify NOTES_CANCEL varchar2(4000 CHAR);
/
-- CHANGE END: mario.mineiro

-- CHANGED BY: mario.mineiro
-- CHANGE DATE: 15/12/2014 12:29
-- CHANGE REASON: [ALERT-154361] 
alter table LENS_PRESC modify NOTES varchar2(4000 CHAR);
/
-- CHANGE END: mario.mineiro

-- CHANGED BY: mario.mineiro
-- CHANGE DATE: 15/12/2014 12:29
-- CHANGE REASON: [ALERT-154361] 
alter table LENS_PRESC modify FLG_STATUS varchar2(1 CHAR);
/
-- CHANGE END: mario.mineiro

-- CHANGED BY: mario.mineiro
-- CHANGE DATE: 15/12/2014 12:29
-- CHANGE REASON: [ALERT-154361] 
alter table LENS_PRESC modify CREATE_USER varchar2(24 CHAR);
/
-- CHANGE END: mario.mineiro