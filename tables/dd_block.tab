-- CHANGED BY: Pedro Teixeira
-- CHANGE DATE: 01/08/2019
-- CHANGE REASON: EMR-16311
CREATE TABLE DD_BLOCK
(
  ID_DD_BLOCK NUMBER(24) NOT NULL ENABLE,
  AREA VARCHAR2(200 CHAR) NOT NULL ENABLE,
  INTERNAL_NAME VARCHAR2(200 CHAR),
  -----------------------------
  CONDITION_DESC VARCHAR2(200 CHAR) NOT NULL ENABLE,
  CONDITION_VAL VARCHAR2(200 CHAR) NOT NULL ENABLE,
  FLG_AVAILABLE VARCHAR2(1 CHAR) DEFAULT 'Y' NOT NULL ENABLE,
  RANK NUMBER(24) NOT NULL ENABLE
);

COMMENT ON TABLE DD_BLOCK IS 'Dinamic detail blocks, in this table it''s possible to map Detail Block to Areas, a Detail Block represents a block of data for example "Concluded/Ongoing" in the detail/history';
COMMENT ON COLUMN DD_BLOCK.ID_DD_BLOCK IS 'Block Identifier';
COMMENT ON COLUMN DD_BLOCK.AREA IS 'Area where this block belongs to';
COMMENT ON COLUMN DD_BLOCK.INTERNAL_NAME IS 'Internal name - only for comment purposes';
COMMENT ON COLUMN DD_BLOCK.CONDITION_DESC IS 'Condition to be checked for block activation';
COMMENT ON COLUMN DD_BLOCK.CONDITION_VAL IS 'Condition Value to be checked for block activation';
COMMENT ON COLUMN DD_BLOCK.FLG_AVAILABLE IS 'Flg indicating if block is available';
COMMENT ON COLUMN DD_BLOCK.RANK IS 'Rank/order in which the block should be shown in the detail';
-- CHANGE END: Pedro Teixeira


-- CHANGED BY: Pedro Teixeira
-- CHANGE DATE: 13/01/2020
-- CHANGE REASON: EMR-25357
ALTER TABLE DD_BLOCK ADD CREATE_USER VARCHAR2(24 CHAR);
ALTER TABLE DD_BLOCK ADD CREATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE;
ALTER TABLE DD_BLOCK ADD CREATE_INSTITUTION NUMBER(24,0);
ALTER TABLE DD_BLOCK ADD UPDATE_USER VARCHAR2(24 CHAR);
ALTER TABLE DD_BLOCK ADD UPDATE_TIME TIMESTAMP(6) WITH LOCAL TIME ZONE;
ALTER TABLE DD_BLOCK ADD UPDATE_INSTITUTION NUMBER(24,0);

COMMENT ON COLUMN DD_BLOCK.CREATE_USER IS 'Create User';
COMMENT ON COLUMN DD_BLOCK.CREATE_TIME IS 'Create Time';
COMMENT ON COLUMN DD_BLOCK.CREATE_INSTITUTION IS 'Create Institution';
COMMENT ON COLUMN DD_BLOCK.UPDATE_USER IS 'Update User';
COMMENT ON COLUMN DD_BLOCK.UPDATE_TIME IS 'Update Time';
COMMENT ON COLUMN DD_BLOCK.UPDATE_INSTITUTION IS 'Update Institution';
-- CHANGE END: Pedro Teixeira
