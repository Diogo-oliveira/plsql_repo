CREATE TABLE DOC_ACTIVITY( 
       ID_DOC_ACTIVITY                NUMBER(24), 
			 ID_DOC_EXTERNAL                NUMBER(24), 
			 ID_SOURCE                      NUMBER(24), 
			 ID_TARGET                      NUMBER(24), 
			 ID_PROFESSIONAL                NUMBER(24), 
			 ID_INSTITUTION                 NUMBER(24), 
			 ID_OPERATION                   NUMBER(24), 
			 DT_OPERATION                   TIMESTAMP WITH LOCAL TIME ZONE NOT NULL, 
			 FLG_STATUS                     VARCHAR2(1 CHAR)   NOT NULL, 
			 CREATE_USER                    VARCHAR2(24 CHAR), 
			 CREATE_TIME                    TIMESTAMP WITH LOCAL TIME ZONE, 
			 CREATE_INSTITUTION             NUMBER(24), 
			 UPDATE_USER                    VARCHAR2(24 CHAR), 
			 UPDATE_TIME                    TIMESTAMP WITH LOCAL TIME ZONE, 
			 UPDATE_INSTITUTION             NUMBER(24) 
) TABLESPACE ALERT_DATA; 

-- Table comments 
COMMENT ON TABLE ALERT.DOC_ACTIVITY IS 'Table that stores all actions that were did on the documents'; 
 
-- Column comments 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_DOC_ACTIVITY      IS 'Primary key'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_DOC_EXTERNAL      IS 'Doc external ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_SOURCE            IS 'Document source ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_TARGET            IS 'Document target ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_PROFESSIONAL      IS 'Professional that did the operarion'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_INSTITUTION       IS 'Institution where the opeation was did'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_OPERATION         IS 'Operation ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.DT_OPERATION         IS 'Operation date'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.FLG_STATUS           IS 'S - Success; P - Pending, F - Fail'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.CREATE_USER            IS 'Creation User'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.CREATE_TIME            IS 'Creation Time'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.CREATE_INSTITUTION     IS 'Creation Institution'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.UPDATE_USER            IS 'Update User'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.UPDATE_TIME            IS 'Update Time'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.UPDATE_INSTITUTION     IS 'Update Institution'; 

CREATE TABLE DOC_ACTIVITY( 
       ID_DOC_ACTIVITY                NUMBER(24), 
			 ID_DOC_EXTERNAL                NUMBER(24), 
			 ID_SOURCE                      NUMBER(24), 
			 ID_TARGET                      NUMBER(24), 
			 ID_PROFESSIONAL                NUMBER(24), 
			 ID_INSTITUTION                 NUMBER(24), 
			 ID_OPERATION                   NUMBER(24), 
			 DT_OPERATION                   TIMESTAMP WITH LOCAL TIME ZONE NOT NULL, 
			 FLG_STATUS                     VARCHAR2(1 CHAR)   NOT NULL, 
			 CREATE_USER                    VARCHAR2(24 CHAR), 
			 CREATE_TIME                    TIMESTAMP WITH LOCAL TIME ZONE, 
			 CREATE_INSTITUTION             NUMBER(24), 
			 UPDATE_USER                    VARCHAR2(24 CHAR), 
			 UPDATE_TIME                    TIMESTAMP WITH LOCAL TIME ZONE, 
			 UPDATE_INSTITUTION             NUMBER(24) 
) TABLESPACE ALERT_DATA; 

-- Table comments 
COMMENT ON TABLE ALERT.DOC_ACTIVITY IS 'Table that stores all actions that were did on the documents'; 
 
-- Column comments 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_DOC_ACTIVITY      IS 'Primary key'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_DOC_EXTERNAL      IS 'Doc external ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_SOURCE            IS 'Document source ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_TARGET            IS 'Document target ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_PROFESSIONAL      IS 'Professional that did the operarion'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_INSTITUTION       IS 'Institution where the opeation was did'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_OPERATION         IS 'Operation ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.DT_OPERATION         IS 'Operation date'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.FLG_STATUS           IS 'S - Success; P - Pending, F - Fail'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.CREATE_USER            IS 'Creation User'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.CREATE_TIME            IS 'Creation Time'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.CREATE_INSTITUTION     IS 'Creation Institution'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.UPDATE_USER            IS 'Update User'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.UPDATE_TIME            IS 'Update Time'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.UPDATE_INSTITUTION     IS 'Update Institution'; 

CREATE TABLE DOC_ACTIVITY( 
       ID_DOC_ACTIVITY                NUMBER(24), 
			 ID_DOC_EXTERNAL                NUMBER(24), 
			 ID_SOURCE                      NUMBER(24), 
			 ID_TARGET                      NUMBER(24), 
			 ID_PROFESSIONAL                NUMBER(24), 
			 ID_INSTITUTION                 NUMBER(24), 
			 ID_OPERATION                   NUMBER(24), 
			 DT_OPERATION                   TIMESTAMP WITH LOCAL TIME ZONE NOT NULL, 
			 FLG_STATUS                     VARCHAR2(1 CHAR)   NOT NULL, 
			 CREATE_USER                    VARCHAR2(24 CHAR), 
			 CREATE_TIME                    TIMESTAMP WITH LOCAL TIME ZONE, 
			 CREATE_INSTITUTION             NUMBER(24), 
			 UPDATE_USER                    VARCHAR2(24 CHAR), 
			 UPDATE_TIME                    TIMESTAMP WITH LOCAL TIME ZONE, 
			 UPDATE_INSTITUTION             NUMBER(24) 
) TABLESPACE ALERT_DATA; 

-- Table comments 
COMMENT ON TABLE ALERT.DOC_ACTIVITY IS 'Table that stores all actions that were did on the documents'; 
 
-- Column comments 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_DOC_ACTIVITY      IS 'Primary key'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_DOC_EXTERNAL      IS 'Doc external ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_SOURCE            IS 'Document source ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_TARGET            IS 'Document target ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_PROFESSIONAL      IS 'Professional that did the operarion'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_INSTITUTION       IS 'Institution where the opeation was did'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_OPERATION         IS 'Operation ID'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.DT_OPERATION         IS 'Operation date'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.FLG_STATUS           IS 'S - Success; P - Pending, F - Fail'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.CREATE_USER            IS 'Creation User'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.CREATE_TIME            IS 'Creation Time'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.CREATE_INSTITUTION     IS 'Creation Institution'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.UPDATE_USER            IS 'Update User'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.UPDATE_TIME            IS 'Update Time'; 
COMMENT ON COLUMN ALERT.DOC_ACTIVITY.UPDATE_INSTITUTION     IS 'Update Institution'; 


-- CHANGED BY: Jorge Costa
-- CHANGE DATE: 26/11/2014
-- CHANGE REASON: [ALERT-295069] 
ALTER TABLE DOC_ACTIVITY ADD (
      ID_DOC_OPERATION_CONF  NUMBER(24)
);

COMMENT ON COLUMN ALERT.DOC_ACTIVITY.ID_DOC_OPERATION_CONF     IS 'Configuration id of operation';

ALTER TABLE doc_activity_param MODIFY ID_DOC_ACTIVITY NUMBER(24) NOT NULL;
-- CHANGE END: Jorge Costa