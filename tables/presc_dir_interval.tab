-- CHANGED BY: Nuno Ferreira
-- CHANGE DATE: 01/03/2010
-- CHANGE REASON: [ALERT-78195] 
declare
l_count pls_integer;
l_sql_stat varchar2(4000) := '  CREATE TABLE ALERT.PRESC_DIR_INTERVAL
   (ID_PRESC_DIR_INTERVAL NUMBER(24,0) NOT NULL,
    ID_PRESC_DIRECTIONS NUMBER(24,0) NOT NULL,
    RANK NUMBER(6,0) NOT NULL,
    DURATION NUMBER(24,4),
    ID_UNIT_DURATION NUMBER(24,0),
    DT_BEGIN TIMESTAMP (6) WITH LOCAL TIME ZONE,
    DT_END TIMESTAMP (6) WITH LOCAL TIME ZONE,
    CREATE_USER VARCHAR2(24 CHAR),
    CREATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    CREATE_INSTITUTION NUMBER(24,0),
    UPDATE_USER VARCHAR2(24 CHAR),
    UPDATE_TIME TIMESTAMP (6) WITH LOCAL TIME ZONE,
    UPDATE_INSTITUTION NUMBER(24,0)
   )';
		
begin

select count(1) into l_count from all_tables where table_name = 'PRESC_DIR_INTERVAL' and owner = 'ALERT';

if l_count = 0 then
  execute immediate (l_sql_stat);

end if;

end;
/
-- CHANGE END: Nuno Ferreira

-- CHANGED BY: Nuno Ferreira
-- CHANGE DATE: 01/03/2010
-- CHANGE REASON: [ALERT-78195]
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.ID_PRESC_DIR_INTERVAL IS 'Prescription directions interval ID';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.ID_PRESC_DIRECTIONS IS 'Prescription directions ID';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.RANK IS 'Interval rank';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.DURATION IS 'Amount duration';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.ID_UNIT_DURATION IS 'Duration unit ID';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.DT_BEGIN IS 'Begin date';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.DT_END IS 'End date';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.CREATE_USER IS 'Creation User';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.CREATE_TIME IS 'Creation Time';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.CREATE_INSTITUTION IS 'Creation Institution';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.UPDATE_USER IS 'Update User';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.UPDATE_TIME IS 'Update Time';
   COMMENT ON COLUMN ALERT.PRESC_DIR_INTERVAL.UPDATE_INSTITUTION IS 'Update Institution';
   COMMENT ON TABLE ALERT.PRESC_DIR_INTERVAL  IS 'Prescription directions interval';
-- CHANGE END: Nuno Ferreira

-- CHANGED BY: Sofia Mendes
-- CHANGE DATE: 20/01/2016 12:07
-- CHANGE REASON: [ALERT-317981 ] Old Medication - deprecated tables: Database model documentation and comments corretions
COMMENT ON TABLE PRESC_DIR_INTERVAL IS 'Prescription directions interval [DEPRECATED]';
-- CHANGE END: Sofia Mendes