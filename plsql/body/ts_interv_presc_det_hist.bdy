/*-- Last Change Revision: $Rev: 2028244 $*/
/*-- Last Change by: $Author: mario.fernandes $*/
/*-- Date of last change: $Date: 2022-08-02 18:44:38 +0100 (ter, 02 ago 2022) $*/

CREATE OR REPLACE PACKAGE BODY ts_interv_presc_det_hist
/*
| Generated by or retrieved - DO NOT MODIFY!
| Created On: 2021-11-08 17:47:36
| Created By: ALERT
*/
 IS

    e_null_column_value EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_null_column_value, -1400);

    e_existing_fky_reference EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_existing_fky_reference, -2266);

    e_check_constraint_failure EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_check_constraint_failure, -2290);

    e_no_parent_key EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_no_parent_key, -2291);

    e_child_record_found EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_child_record_found, -2292);

    e_forall_error EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_forall_error, -24381);

    -- Defined for backward compatibilty.
    e_integ_constraint_failure EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_integ_constraint_failure, -2291);

    FUNCTION next_key(sequence_in IN VARCHAR2 := NULL) RETURN interv_presc_det_hist.id_interv_presc_det_hist%TYPE IS
        retval interv_presc_det_hist.id_interv_presc_det_hist%TYPE;
    BEGIN
        IF sequence_in IS NULL
        THEN
            retval := seq_interv_presc_det_hist.nextval;
        ELSE
            EXECUTE IMMEDIATE 'SELECT ' || sequence_in || '.NEXTVAL FROM dual'
                INTO retval;
        END IF;
        RETURN retval;
    END next_key;

    -- Insert one row, generating hidden primary key using a sequence
    PROCEDURE ins
    (
        dt_interv_prescription_hist_in IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        id_interv_presc_det_in         IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_prescription_in      IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_intervention_in             IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_movement_in                 IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        flg_interv_type_in             IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_status_in                  IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        notes_in                       IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        id_prof_cancel_in              IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        notes_cancel_in                IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        interval_in                    IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        num_take_in                    IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        dosage_in                      IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        id_drug_presc_det_in           IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_in       IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        num_freq_in                    IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        flg_freq_in                    IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        num_sess_in                    IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        flg_prty_in                    IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        dt_end_tstz_in                 IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_in               IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in              IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_interv_presc_det_in         IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        code_intervention_alias_in     IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        create_user_in                 IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_time_in                 IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_institution_in          IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        update_user_in                 IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_time_in                 IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_institution_in          IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        flg_referral_in                IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        dt_pend_req_tstz_in            IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        id_interv_codification_in      IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_exec_institution_in         IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        flg_laterality_in              IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_clinical_purpose_in        IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        id_presc_plan_task_in          IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_not_order_reason_in         IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_cdr_event_in                IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_co_sign_order_in            IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_cancel_reason_in            IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_co_sign_cancel_in           IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_prof_last_update_in         IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        dt_last_update_tstz_in         IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        id_order_recurrence_in         IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        flg_fasting_in                 IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_prn_in                     IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        prn_notes_in                   IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        id_pat_health_plan_in          IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_exemption_in            IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        flg_req_origin_module_in       IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        dt_order_tstz_in               IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        id_diagnosis_list_in           IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_supplies_list_in            IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_clinical_purpose_in         IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        clinical_purpose_notes_in      IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        flg_location_in                IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        diagnosis_notes_in             IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
        l_pky interv_presc_det_hist.id_interv_presc_det_hist%TYPE := next_key;
    BEGIN
        ins(id_interv_presc_det_hist_in    => l_pky,
            dt_interv_prescription_hist_in => dt_interv_prescription_hist_in,
            id_interv_presc_det_in         => id_interv_presc_det_in,
            id_interv_prescription_in      => id_interv_prescription_in,
            id_intervention_in             => id_intervention_in,
            id_movement_in                 => id_movement_in,
            flg_interv_type_in             => flg_interv_type_in,
            flg_status_in                  => flg_status_in,
            notes_in                       => notes_in,
            id_prof_cancel_in              => id_prof_cancel_in,
            notes_cancel_in                => notes_cancel_in,
            interval_in                    => interval_in,
            num_take_in                    => num_take_in,
            dosage_in                      => dosage_in,
            id_drug_presc_det_in           => id_drug_presc_det_in,
            id_nurse_actv_req_det_in       => id_nurse_actv_req_det_in,
            num_freq_in                    => num_freq_in,
            flg_freq_in                    => flg_freq_in,
            num_sess_in                    => num_sess_in,
            flg_prty_in                    => flg_prty_in,
            dt_end_tstz_in                 => dt_end_tstz_in,
            dt_begin_tstz_in               => dt_begin_tstz_in,
            dt_cancel_tstz_in              => dt_cancel_tstz_in,
            dt_interv_presc_det_in         => dt_interv_presc_det_in,
            code_intervention_alias_in     => code_intervention_alias_in,
            create_user_in                 => create_user_in,
            create_time_in                 => create_time_in,
            create_institution_in          => create_institution_in,
            update_user_in                 => update_user_in,
            update_time_in                 => update_time_in,
            update_institution_in          => update_institution_in,
            flg_referral_in                => flg_referral_in,
            dt_pend_req_tstz_in            => dt_pend_req_tstz_in,
            id_interv_codification_in      => id_interv_codification_in,
            id_exec_institution_in         => id_exec_institution_in,
            flg_laterality_in              => flg_laterality_in,
            flg_clinical_purpose_in        => flg_clinical_purpose_in,
            id_presc_plan_task_in          => id_presc_plan_task_in,
            id_not_order_reason_in         => id_not_order_reason_in,
            id_cdr_event_in                => id_cdr_event_in,
            id_co_sign_order_in            => id_co_sign_order_in,
            id_cancel_reason_in            => id_cancel_reason_in,
            id_co_sign_cancel_in           => id_co_sign_cancel_in,
            id_prof_last_update_in         => id_prof_last_update_in,
            dt_last_update_tstz_in         => dt_last_update_tstz_in,
            id_order_recurrence_in         => id_order_recurrence_in,
            flg_fasting_in                 => flg_fasting_in,
            flg_prn_in                     => flg_prn_in,
            prn_notes_in                   => prn_notes_in,
            id_pat_health_plan_in          => id_pat_health_plan_in,
            id_pat_exemption_in            => id_pat_exemption_in,
            flg_req_origin_module_in       => flg_req_origin_module_in,
            dt_order_tstz_in               => dt_order_tstz_in,
            id_diagnosis_list_in           => id_diagnosis_list_in,
            id_supplies_list_in            => id_supplies_list_in,
            id_clinical_purpose_in         => id_clinical_purpose_in,
            clinical_purpose_notes_in      => clinical_purpose_notes_in,
            flg_location_in                => flg_location_in,
            diagnosis_notes_in             => diagnosis_notes_in,
            handle_error_in                => handle_error_in,
            rows_out                       => rows_out);
    END ins;

    -- Insert one row, generating hidden primary key using a sequence
    PROCEDURE ins
    (
        dt_interv_prescription_hist_in IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        id_interv_presc_det_in         IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_prescription_in      IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_intervention_in             IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_movement_in                 IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        flg_interv_type_in             IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_status_in                  IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        notes_in                       IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        id_prof_cancel_in              IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        notes_cancel_in                IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        interval_in                    IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        num_take_in                    IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        dosage_in                      IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        id_drug_presc_det_in           IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_in       IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        num_freq_in                    IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        flg_freq_in                    IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        num_sess_in                    IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        flg_prty_in                    IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        dt_end_tstz_in                 IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_in               IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in              IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_interv_presc_det_in         IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        code_intervention_alias_in     IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        create_user_in                 IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_time_in                 IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_institution_in          IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        update_user_in                 IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_time_in                 IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_institution_in          IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        flg_referral_in                IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        dt_pend_req_tstz_in            IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        id_interv_codification_in      IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_exec_institution_in         IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        flg_laterality_in              IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_clinical_purpose_in        IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        id_presc_plan_task_in          IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_not_order_reason_in         IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_cdr_event_in                IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_co_sign_order_in            IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_cancel_reason_in            IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_co_sign_cancel_in           IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_prof_last_update_in         IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        dt_last_update_tstz_in         IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        id_order_recurrence_in         IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        flg_fasting_in                 IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_prn_in                     IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        prn_notes_in                   IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        id_pat_health_plan_in          IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_exemption_in            IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        flg_req_origin_module_in       IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        dt_order_tstz_in               IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        id_diagnosis_list_in           IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_supplies_list_in            IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_clinical_purpose_in         IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        clinical_purpose_notes_in      IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        flg_location_in                IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        diagnosis_notes_in             IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(dt_interv_prescription_hist_in => dt_interv_prescription_hist_in,
            id_interv_presc_det_in         => id_interv_presc_det_in,
            id_interv_prescription_in      => id_interv_prescription_in,
            id_intervention_in             => id_intervention_in,
            id_movement_in                 => id_movement_in,
            flg_interv_type_in             => flg_interv_type_in,
            flg_status_in                  => flg_status_in,
            notes_in                       => notes_in,
            id_prof_cancel_in              => id_prof_cancel_in,
            notes_cancel_in                => notes_cancel_in,
            interval_in                    => interval_in,
            num_take_in                    => num_take_in,
            dosage_in                      => dosage_in,
            id_drug_presc_det_in           => id_drug_presc_det_in,
            id_nurse_actv_req_det_in       => id_nurse_actv_req_det_in,
            num_freq_in                    => num_freq_in,
            flg_freq_in                    => flg_freq_in,
            num_sess_in                    => num_sess_in,
            flg_prty_in                    => flg_prty_in,
            dt_end_tstz_in                 => dt_end_tstz_in,
            dt_begin_tstz_in               => dt_begin_tstz_in,
            dt_cancel_tstz_in              => dt_cancel_tstz_in,
            dt_interv_presc_det_in         => dt_interv_presc_det_in,
            code_intervention_alias_in     => code_intervention_alias_in,
            create_user_in                 => create_user_in,
            create_time_in                 => create_time_in,
            create_institution_in          => create_institution_in,
            update_user_in                 => update_user_in,
            update_time_in                 => update_time_in,
            update_institution_in          => update_institution_in,
            flg_referral_in                => flg_referral_in,
            dt_pend_req_tstz_in            => dt_pend_req_tstz_in,
            id_interv_codification_in      => id_interv_codification_in,
            id_exec_institution_in         => id_exec_institution_in,
            flg_laterality_in              => flg_laterality_in,
            flg_clinical_purpose_in        => flg_clinical_purpose_in,
            id_presc_plan_task_in          => id_presc_plan_task_in,
            id_not_order_reason_in         => id_not_order_reason_in,
            id_cdr_event_in                => id_cdr_event_in,
            id_co_sign_order_in            => id_co_sign_order_in,
            id_cancel_reason_in            => id_cancel_reason_in,
            id_co_sign_cancel_in           => id_co_sign_cancel_in,
            id_prof_last_update_in         => id_prof_last_update_in,
            dt_last_update_tstz_in         => dt_last_update_tstz_in,
            id_order_recurrence_in         => id_order_recurrence_in,
            flg_fasting_in                 => flg_fasting_in,
            flg_prn_in                     => flg_prn_in,
            prn_notes_in                   => prn_notes_in,
            id_pat_health_plan_in          => id_pat_health_plan_in,
            id_pat_exemption_in            => id_pat_exemption_in,
            flg_req_origin_module_in       => flg_req_origin_module_in,
            dt_order_tstz_in               => dt_order_tstz_in,
            id_diagnosis_list_in           => id_diagnosis_list_in,
            id_supplies_list_in            => id_supplies_list_in,
            id_clinical_purpose_in         => id_clinical_purpose_in,
            clinical_purpose_notes_in      => clinical_purpose_notes_in,
            flg_location_in                => flg_location_in,
            diagnosis_notes_in             => diagnosis_notes_in,
            handle_error_in                => handle_error_in,
            rows_out                       => rows_out);
    END ins;

    -- Insert one row, returning primary key generated by sequence
    PROCEDURE ins
    (
        dt_interv_prescription_hist_in IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        id_interv_presc_det_in         IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_prescription_in      IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_intervention_in             IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_movement_in                 IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        flg_interv_type_in             IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_status_in                  IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        notes_in                       IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        id_prof_cancel_in              IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        notes_cancel_in                IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        interval_in                    IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        num_take_in                    IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        dosage_in                      IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        id_drug_presc_det_in           IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_in       IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        num_freq_in                    IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        flg_freq_in                    IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        num_sess_in                    IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        flg_prty_in                    IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        dt_end_tstz_in                 IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_in               IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in              IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_interv_presc_det_in         IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        code_intervention_alias_in     IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        create_user_in                 IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_time_in                 IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_institution_in          IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        update_user_in                 IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_time_in                 IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_institution_in          IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        flg_referral_in                IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        dt_pend_req_tstz_in            IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        id_interv_codification_in      IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_exec_institution_in         IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        flg_laterality_in              IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_clinical_purpose_in        IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        id_presc_plan_task_in          IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_not_order_reason_in         IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_cdr_event_in                IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_co_sign_order_in            IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_cancel_reason_in            IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_co_sign_cancel_in           IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_prof_last_update_in         IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        dt_last_update_tstz_in         IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        id_order_recurrence_in         IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        flg_fasting_in                 IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_prn_in                     IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        prn_notes_in                   IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        id_pat_health_plan_in          IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_exemption_in            IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        flg_req_origin_module_in       IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        dt_order_tstz_in               IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        id_diagnosis_list_in           IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_supplies_list_in            IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_clinical_purpose_in         IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        clinical_purpose_notes_in      IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        flg_location_in                IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        diagnosis_notes_in             IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        id_interv_presc_det_hist_out   IN OUT interv_presc_det_hist.id_interv_presc_det_hist%TYPE,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
        l_pky interv_presc_det_hist.id_interv_presc_det_hist%TYPE := next_key;
    BEGIN
        ins(id_interv_presc_det_hist_in    => l_pky,
            dt_interv_prescription_hist_in => dt_interv_prescription_hist_in,
            id_interv_presc_det_in         => id_interv_presc_det_in,
            id_interv_prescription_in      => id_interv_prescription_in,
            id_intervention_in             => id_intervention_in,
            id_movement_in                 => id_movement_in,
            flg_interv_type_in             => flg_interv_type_in,
            flg_status_in                  => flg_status_in,
            notes_in                       => notes_in,
            id_prof_cancel_in              => id_prof_cancel_in,
            notes_cancel_in                => notes_cancel_in,
            interval_in                    => interval_in,
            num_take_in                    => num_take_in,
            dosage_in                      => dosage_in,
            id_drug_presc_det_in           => id_drug_presc_det_in,
            id_nurse_actv_req_det_in       => id_nurse_actv_req_det_in,
            num_freq_in                    => num_freq_in,
            flg_freq_in                    => flg_freq_in,
            num_sess_in                    => num_sess_in,
            flg_prty_in                    => flg_prty_in,
            dt_end_tstz_in                 => dt_end_tstz_in,
            dt_begin_tstz_in               => dt_begin_tstz_in,
            dt_cancel_tstz_in              => dt_cancel_tstz_in,
            dt_interv_presc_det_in         => dt_interv_presc_det_in,
            code_intervention_alias_in     => code_intervention_alias_in,
            create_user_in                 => create_user_in,
            create_time_in                 => create_time_in,
            create_institution_in          => create_institution_in,
            update_user_in                 => update_user_in,
            update_time_in                 => update_time_in,
            update_institution_in          => update_institution_in,
            flg_referral_in                => flg_referral_in,
            dt_pend_req_tstz_in            => dt_pend_req_tstz_in,
            id_interv_codification_in      => id_interv_codification_in,
            id_exec_institution_in         => id_exec_institution_in,
            flg_laterality_in              => flg_laterality_in,
            flg_clinical_purpose_in        => flg_clinical_purpose_in,
            id_presc_plan_task_in          => id_presc_plan_task_in,
            id_not_order_reason_in         => id_not_order_reason_in,
            id_cdr_event_in                => id_cdr_event_in,
            id_co_sign_order_in            => id_co_sign_order_in,
            id_cancel_reason_in            => id_cancel_reason_in,
            id_co_sign_cancel_in           => id_co_sign_cancel_in,
            id_prof_last_update_in         => id_prof_last_update_in,
            dt_last_update_tstz_in         => dt_last_update_tstz_in,
            id_order_recurrence_in         => id_order_recurrence_in,
            flg_fasting_in                 => flg_fasting_in,
            flg_prn_in                     => flg_prn_in,
            prn_notes_in                   => prn_notes_in,
            id_pat_health_plan_in          => id_pat_health_plan_in,
            id_pat_exemption_in            => id_pat_exemption_in,
            flg_req_origin_module_in       => flg_req_origin_module_in,
            dt_order_tstz_in               => dt_order_tstz_in,
            id_diagnosis_list_in           => id_diagnosis_list_in,
            id_supplies_list_in            => id_supplies_list_in,
            id_clinical_purpose_in         => id_clinical_purpose_in,
            clinical_purpose_notes_in      => clinical_purpose_notes_in,
            flg_location_in                => flg_location_in,
            diagnosis_notes_in             => diagnosis_notes_in,
            handle_error_in                => handle_error_in,
            rows_out                       => rows_out);
        id_interv_presc_det_hist_out := l_pky;
    END ins;

    -- Insert one row, returning primary key generated by sequence
    PROCEDURE ins
    (
        dt_interv_prescription_hist_in IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        id_interv_presc_det_in         IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_prescription_in      IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_intervention_in             IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_movement_in                 IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        flg_interv_type_in             IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_status_in                  IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        notes_in                       IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        id_prof_cancel_in              IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        notes_cancel_in                IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        interval_in                    IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        num_take_in                    IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        dosage_in                      IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        id_drug_presc_det_in           IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_in       IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        num_freq_in                    IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        flg_freq_in                    IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        num_sess_in                    IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        flg_prty_in                    IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        dt_end_tstz_in                 IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_in               IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in              IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_interv_presc_det_in         IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        code_intervention_alias_in     IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        create_user_in                 IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_time_in                 IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_institution_in          IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        update_user_in                 IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_time_in                 IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_institution_in          IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        flg_referral_in                IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        dt_pend_req_tstz_in            IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        id_interv_codification_in      IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_exec_institution_in         IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        flg_laterality_in              IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_clinical_purpose_in        IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        id_presc_plan_task_in          IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_not_order_reason_in         IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_cdr_event_in                IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_co_sign_order_in            IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_cancel_reason_in            IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_co_sign_cancel_in           IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_prof_last_update_in         IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        dt_last_update_tstz_in         IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        id_order_recurrence_in         IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        flg_fasting_in                 IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_prn_in                     IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        prn_notes_in                   IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        id_pat_health_plan_in          IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_exemption_in            IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        flg_req_origin_module_in       IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        dt_order_tstz_in               IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        id_diagnosis_list_in           IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_supplies_list_in            IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_clinical_purpose_in         IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        clinical_purpose_notes_in      IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        flg_location_in                IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        diagnosis_notes_in             IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        id_interv_presc_det_hist_out   IN OUT interv_presc_det_hist.id_interv_presc_det_hist%TYPE,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(dt_interv_prescription_hist_in => dt_interv_prescription_hist_in,
            id_interv_presc_det_in         => id_interv_presc_det_in,
            id_interv_prescription_in      => id_interv_prescription_in,
            id_intervention_in             => id_intervention_in,
            id_movement_in                 => id_movement_in,
            flg_interv_type_in             => flg_interv_type_in,
            flg_status_in                  => flg_status_in,
            notes_in                       => notes_in,
            id_prof_cancel_in              => id_prof_cancel_in,
            notes_cancel_in                => notes_cancel_in,
            interval_in                    => interval_in,
            num_take_in                    => num_take_in,
            dosage_in                      => dosage_in,
            id_drug_presc_det_in           => id_drug_presc_det_in,
            id_nurse_actv_req_det_in       => id_nurse_actv_req_det_in,
            num_freq_in                    => num_freq_in,
            flg_freq_in                    => flg_freq_in,
            num_sess_in                    => num_sess_in,
            flg_prty_in                    => flg_prty_in,
            dt_end_tstz_in                 => dt_end_tstz_in,
            dt_begin_tstz_in               => dt_begin_tstz_in,
            dt_cancel_tstz_in              => dt_cancel_tstz_in,
            dt_interv_presc_det_in         => dt_interv_presc_det_in,
            code_intervention_alias_in     => code_intervention_alias_in,
            create_user_in                 => create_user_in,
            create_time_in                 => create_time_in,
            create_institution_in          => create_institution_in,
            update_user_in                 => update_user_in,
            update_time_in                 => update_time_in,
            update_institution_in          => update_institution_in,
            flg_referral_in                => flg_referral_in,
            dt_pend_req_tstz_in            => dt_pend_req_tstz_in,
            id_interv_codification_in      => id_interv_codification_in,
            id_exec_institution_in         => id_exec_institution_in,
            flg_laterality_in              => flg_laterality_in,
            flg_clinical_purpose_in        => flg_clinical_purpose_in,
            id_presc_plan_task_in          => id_presc_plan_task_in,
            id_not_order_reason_in         => id_not_order_reason_in,
            id_cdr_event_in                => id_cdr_event_in,
            id_co_sign_order_in            => id_co_sign_order_in,
            id_cancel_reason_in            => id_cancel_reason_in,
            id_co_sign_cancel_in           => id_co_sign_cancel_in,
            id_prof_last_update_in         => id_prof_last_update_in,
            dt_last_update_tstz_in         => dt_last_update_tstz_in,
            id_order_recurrence_in         => id_order_recurrence_in,
            flg_fasting_in                 => flg_fasting_in,
            flg_prn_in                     => flg_prn_in,
            prn_notes_in                   => prn_notes_in,
            id_pat_health_plan_in          => id_pat_health_plan_in,
            id_pat_exemption_in            => id_pat_exemption_in,
            flg_req_origin_module_in       => flg_req_origin_module_in,
            dt_order_tstz_in               => dt_order_tstz_in,
            id_diagnosis_list_in           => id_diagnosis_list_in,
            id_supplies_list_in            => id_supplies_list_in,
            id_clinical_purpose_in         => id_clinical_purpose_in,
            clinical_purpose_notes_in      => clinical_purpose_notes_in,
            flg_location_in                => flg_location_in,
            diagnosis_notes_in             => diagnosis_notes_in,
            id_interv_presc_det_hist_out   => id_interv_presc_det_hist_out,
            handle_error_in                => handle_error_in,
            rows_out                       => rows_out);
    END ins;

    -- Insert one row with function, return generated primary key
    FUNCTION ins
    (
        dt_interv_prescription_hist_in IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        id_interv_presc_det_in         IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_prescription_in      IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_intervention_in             IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_movement_in                 IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        flg_interv_type_in             IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_status_in                  IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        notes_in                       IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        id_prof_cancel_in              IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        notes_cancel_in                IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        interval_in                    IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        num_take_in                    IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        dosage_in                      IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        id_drug_presc_det_in           IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_in       IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        num_freq_in                    IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        flg_freq_in                    IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        num_sess_in                    IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        flg_prty_in                    IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        dt_end_tstz_in                 IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_in               IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in              IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_interv_presc_det_in         IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        code_intervention_alias_in     IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        create_user_in                 IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_time_in                 IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_institution_in          IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        update_user_in                 IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_time_in                 IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_institution_in          IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        flg_referral_in                IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        dt_pend_req_tstz_in            IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        id_interv_codification_in      IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_exec_institution_in         IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        flg_laterality_in              IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_clinical_purpose_in        IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        id_presc_plan_task_in          IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_not_order_reason_in         IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_cdr_event_in                IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_co_sign_order_in            IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_cancel_reason_in            IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_co_sign_cancel_in           IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_prof_last_update_in         IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        dt_last_update_tstz_in         IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        id_order_recurrence_in         IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        flg_fasting_in                 IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_prn_in                     IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        prn_notes_in                   IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        id_pat_health_plan_in          IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_exemption_in            IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        flg_req_origin_module_in       IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        dt_order_tstz_in               IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        id_diagnosis_list_in           IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_supplies_list_in            IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_clinical_purpose_in         IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        clinical_purpose_notes_in      IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        flg_location_in                IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        diagnosis_notes_in             IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) RETURN interv_presc_det_hist.id_interv_presc_det_hist%TYPE IS
        l_pky interv_presc_det_hist.id_interv_presc_det_hist%TYPE := next_key;
    BEGIN
        ins(id_interv_presc_det_hist_in    => l_pky,
            dt_interv_prescription_hist_in => dt_interv_prescription_hist_in,
            id_interv_presc_det_in         => id_interv_presc_det_in,
            id_interv_prescription_in      => id_interv_prescription_in,
            id_intervention_in             => id_intervention_in,
            id_movement_in                 => id_movement_in,
            flg_interv_type_in             => flg_interv_type_in,
            flg_status_in                  => flg_status_in,
            notes_in                       => notes_in,
            id_prof_cancel_in              => id_prof_cancel_in,
            notes_cancel_in                => notes_cancel_in,
            interval_in                    => interval_in,
            num_take_in                    => num_take_in,
            dosage_in                      => dosage_in,
            id_drug_presc_det_in           => id_drug_presc_det_in,
            id_nurse_actv_req_det_in       => id_nurse_actv_req_det_in,
            num_freq_in                    => num_freq_in,
            flg_freq_in                    => flg_freq_in,
            num_sess_in                    => num_sess_in,
            flg_prty_in                    => flg_prty_in,
            dt_end_tstz_in                 => dt_end_tstz_in,
            dt_begin_tstz_in               => dt_begin_tstz_in,
            dt_cancel_tstz_in              => dt_cancel_tstz_in,
            dt_interv_presc_det_in         => dt_interv_presc_det_in,
            code_intervention_alias_in     => code_intervention_alias_in,
            create_user_in                 => create_user_in,
            create_time_in                 => create_time_in,
            create_institution_in          => create_institution_in,
            update_user_in                 => update_user_in,
            update_time_in                 => update_time_in,
            update_institution_in          => update_institution_in,
            flg_referral_in                => flg_referral_in,
            dt_pend_req_tstz_in            => dt_pend_req_tstz_in,
            id_interv_codification_in      => id_interv_codification_in,
            id_exec_institution_in         => id_exec_institution_in,
            flg_laterality_in              => flg_laterality_in,
            flg_clinical_purpose_in        => flg_clinical_purpose_in,
            id_presc_plan_task_in          => id_presc_plan_task_in,
            id_not_order_reason_in         => id_not_order_reason_in,
            id_cdr_event_in                => id_cdr_event_in,
            id_co_sign_order_in            => id_co_sign_order_in,
            id_cancel_reason_in            => id_cancel_reason_in,
            id_co_sign_cancel_in           => id_co_sign_cancel_in,
            id_prof_last_update_in         => id_prof_last_update_in,
            dt_last_update_tstz_in         => dt_last_update_tstz_in,
            id_order_recurrence_in         => id_order_recurrence_in,
            flg_fasting_in                 => flg_fasting_in,
            flg_prn_in                     => flg_prn_in,
            prn_notes_in                   => prn_notes_in,
            id_pat_health_plan_in          => id_pat_health_plan_in,
            id_pat_exemption_in            => id_pat_exemption_in,
            flg_req_origin_module_in       => flg_req_origin_module_in,
            dt_order_tstz_in               => dt_order_tstz_in,
            id_diagnosis_list_in           => id_diagnosis_list_in,
            id_supplies_list_in            => id_supplies_list_in,
            id_clinical_purpose_in         => id_clinical_purpose_in,
            clinical_purpose_notes_in      => clinical_purpose_notes_in,
            flg_location_in                => flg_location_in,
            diagnosis_notes_in             => diagnosis_notes_in,
            handle_error_in                => handle_error_in,
            rows_out                       => rows_out);
        RETURN l_pky;
    END ins;

    -- Insert one row with function, return generated primary key
    FUNCTION ins
    (
        dt_interv_prescription_hist_in IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        id_interv_presc_det_in         IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_prescription_in      IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_intervention_in             IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_movement_in                 IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        flg_interv_type_in             IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_status_in                  IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        notes_in                       IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        id_prof_cancel_in              IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        notes_cancel_in                IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        interval_in                    IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        num_take_in                    IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        dosage_in                      IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        id_drug_presc_det_in           IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_in       IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        num_freq_in                    IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        flg_freq_in                    IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        num_sess_in                    IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        flg_prty_in                    IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        dt_end_tstz_in                 IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_in               IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in              IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_interv_presc_det_in         IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        code_intervention_alias_in     IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        create_user_in                 IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_time_in                 IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_institution_in          IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        update_user_in                 IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_time_in                 IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_institution_in          IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        flg_referral_in                IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        dt_pend_req_tstz_in            IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        id_interv_codification_in      IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_exec_institution_in         IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        flg_laterality_in              IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_clinical_purpose_in        IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        id_presc_plan_task_in          IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_not_order_reason_in         IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_cdr_event_in                IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_co_sign_order_in            IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_cancel_reason_in            IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_co_sign_cancel_in           IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_prof_last_update_in         IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        dt_last_update_tstz_in         IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        id_order_recurrence_in         IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        flg_fasting_in                 IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_prn_in                     IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        prn_notes_in                   IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        id_pat_health_plan_in          IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_exemption_in            IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        flg_req_origin_module_in       IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        dt_order_tstz_in               IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        id_diagnosis_list_in           IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_supplies_list_in            IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_clinical_purpose_in         IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        clinical_purpose_notes_in      IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        flg_location_in                IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        diagnosis_notes_in             IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := FALSE
    ) RETURN interv_presc_det_hist.id_interv_presc_det_hist%TYPE IS
        l_pky    interv_presc_det_hist.id_interv_presc_det_hist%TYPE := next_key;
        rows_out table_varchar;
    BEGIN
        ins(id_interv_presc_det_hist_in    => l_pky,
            dt_interv_prescription_hist_in => dt_interv_prescription_hist_in,
            id_interv_presc_det_in         => id_interv_presc_det_in,
            id_interv_prescription_in      => id_interv_prescription_in,
            id_intervention_in             => id_intervention_in,
            id_movement_in                 => id_movement_in,
            flg_interv_type_in             => flg_interv_type_in,
            flg_status_in                  => flg_status_in,
            notes_in                       => notes_in,
            id_prof_cancel_in              => id_prof_cancel_in,
            notes_cancel_in                => notes_cancel_in,
            interval_in                    => interval_in,
            num_take_in                    => num_take_in,
            dosage_in                      => dosage_in,
            id_drug_presc_det_in           => id_drug_presc_det_in,
            id_nurse_actv_req_det_in       => id_nurse_actv_req_det_in,
            num_freq_in                    => num_freq_in,
            flg_freq_in                    => flg_freq_in,
            num_sess_in                    => num_sess_in,
            flg_prty_in                    => flg_prty_in,
            dt_end_tstz_in                 => dt_end_tstz_in,
            dt_begin_tstz_in               => dt_begin_tstz_in,
            dt_cancel_tstz_in              => dt_cancel_tstz_in,
            dt_interv_presc_det_in         => dt_interv_presc_det_in,
            code_intervention_alias_in     => code_intervention_alias_in,
            create_user_in                 => create_user_in,
            create_time_in                 => create_time_in,
            create_institution_in          => create_institution_in,
            update_user_in                 => update_user_in,
            update_time_in                 => update_time_in,
            update_institution_in          => update_institution_in,
            flg_referral_in                => flg_referral_in,
            dt_pend_req_tstz_in            => dt_pend_req_tstz_in,
            id_interv_codification_in      => id_interv_codification_in,
            id_exec_institution_in         => id_exec_institution_in,
            flg_laterality_in              => flg_laterality_in,
            flg_clinical_purpose_in        => flg_clinical_purpose_in,
            id_presc_plan_task_in          => id_presc_plan_task_in,
            id_not_order_reason_in         => id_not_order_reason_in,
            id_cdr_event_in                => id_cdr_event_in,
            id_co_sign_order_in            => id_co_sign_order_in,
            id_cancel_reason_in            => id_cancel_reason_in,
            id_co_sign_cancel_in           => id_co_sign_cancel_in,
            id_prof_last_update_in         => id_prof_last_update_in,
            dt_last_update_tstz_in         => dt_last_update_tstz_in,
            id_order_recurrence_in         => id_order_recurrence_in,
            flg_fasting_in                 => flg_fasting_in,
            flg_prn_in                     => flg_prn_in,
            prn_notes_in                   => prn_notes_in,
            id_pat_health_plan_in          => id_pat_health_plan_in,
            id_pat_exemption_in            => id_pat_exemption_in,
            flg_req_origin_module_in       => flg_req_origin_module_in,
            dt_order_tstz_in               => dt_order_tstz_in,
            id_diagnosis_list_in           => id_diagnosis_list_in,
            id_supplies_list_in            => id_supplies_list_in,
            id_clinical_purpose_in         => id_clinical_purpose_in,
            clinical_purpose_notes_in      => clinical_purpose_notes_in,
            flg_location_in                => flg_location_in,
            diagnosis_notes_in             => diagnosis_notes_in,
            handle_error_in                => handle_error_in,
            rows_out                       => rows_out);
        RETURN l_pky;
    END ins;

    PROCEDURE ins
    (
        id_interv_presc_det_hist_in    IN interv_presc_det_hist.id_interv_presc_det_hist%TYPE,
        dt_interv_prescription_hist_in IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        id_interv_presc_det_in         IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_prescription_in      IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_intervention_in             IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_movement_in                 IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        flg_interv_type_in             IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_status_in                  IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        notes_in                       IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        id_prof_cancel_in              IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        notes_cancel_in                IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        interval_in                    IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        num_take_in                    IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        dosage_in                      IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        id_drug_presc_det_in           IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_in       IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        num_freq_in                    IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        flg_freq_in                    IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        num_sess_in                    IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        flg_prty_in                    IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        dt_end_tstz_in                 IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_in               IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in              IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_interv_presc_det_in         IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        code_intervention_alias_in     IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        create_user_in                 IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_time_in                 IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_institution_in          IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        update_user_in                 IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_time_in                 IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_institution_in          IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        flg_referral_in                IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        dt_pend_req_tstz_in            IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        id_interv_codification_in      IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_exec_institution_in         IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        flg_laterality_in              IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_clinical_purpose_in        IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        id_presc_plan_task_in          IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_not_order_reason_in         IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_cdr_event_in                IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_co_sign_order_in            IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_cancel_reason_in            IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_co_sign_cancel_in           IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_prof_last_update_in         IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        dt_last_update_tstz_in         IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        id_order_recurrence_in         IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        flg_fasting_in                 IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_prn_in                     IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        prn_notes_in                   IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        id_pat_health_plan_in          IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_exemption_in            IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        flg_req_origin_module_in       IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        dt_order_tstz_in               IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        id_diagnosis_list_in           IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_supplies_list_in            IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_clinical_purpose_in         IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        clinical_purpose_notes_in      IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        flg_location_in                IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        diagnosis_notes_in             IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        handle_error_in                IN BOOLEAN := FALSE,
        rows_out                       OUT table_varchar
    ) IS
    BEGIN
        INSERT INTO interv_presc_det_hist
            (id_interv_presc_det_hist,
             dt_interv_prescription_hist,
             id_interv_presc_det,
             id_interv_prescription,
             id_intervention,
             id_movement,
             flg_interv_type,
             flg_status,
             notes,
             id_prof_cancel,
             notes_cancel,
             INTERVAL,
             num_take,
             dosage,
             id_drug_presc_det,
             id_nurse_actv_req_det,
             num_freq,
             flg_freq,
             num_sess,
             flg_prty,
             dt_end_tstz,
             dt_begin_tstz,
             dt_cancel_tstz,
             dt_interv_presc_det,
             code_intervention_alias,
             create_user,
             create_time,
             create_institution,
             update_user,
             update_time,
             update_institution,
             flg_referral,
             dt_pend_req_tstz,
             id_interv_codification,
             id_exec_institution,
             flg_laterality,
             flg_clinical_purpose,
             id_presc_plan_task,
             id_not_order_reason,
             id_cdr_event,
             id_co_sign_order,
             id_cancel_reason,
             id_co_sign_cancel,
             id_prof_last_update,
             dt_last_update_tstz,
             id_order_recurrence,
             flg_fasting,
             flg_prn,
             prn_notes,
             id_pat_health_plan,
             id_pat_exemption,
             flg_req_origin_module,
             dt_order_tstz,
             id_diagnosis_list,
             id_supplies_list,
             id_clinical_purpose,
             clinical_purpose_notes,
             flg_location,
             diagnosis_notes)
        VALUES
            (id_interv_presc_det_hist_in,
             dt_interv_prescription_hist_in,
             id_interv_presc_det_in,
             id_interv_prescription_in,
             id_intervention_in,
             id_movement_in,
             flg_interv_type_in,
             flg_status_in,
             notes_in,
             id_prof_cancel_in,
             notes_cancel_in,
             interval_in,
             num_take_in,
             dosage_in,
             id_drug_presc_det_in,
             id_nurse_actv_req_det_in,
             num_freq_in,
             flg_freq_in,
             num_sess_in,
             flg_prty_in,
             dt_end_tstz_in,
             dt_begin_tstz_in,
             dt_cancel_tstz_in,
             dt_interv_presc_det_in,
             code_intervention_alias_in,
             create_user_in,
             create_time_in,
             create_institution_in,
             update_user_in,
             update_time_in,
             update_institution_in,
             flg_referral_in,
             dt_pend_req_tstz_in,
             id_interv_codification_in,
             id_exec_institution_in,
             flg_laterality_in,
             flg_clinical_purpose_in,
             id_presc_plan_task_in,
             id_not_order_reason_in,
             id_cdr_event_in,
             id_co_sign_order_in,
             id_cancel_reason_in,
             id_co_sign_cancel_in,
             id_prof_last_update_in,
             dt_last_update_tstz_in,
             id_order_recurrence_in,
             flg_fasting_in,
             flg_prn_in,
             prn_notes_in,
             id_pat_health_plan_in,
             id_pat_exemption_in,
             flg_req_origin_module_in,
             dt_order_tstz_in,
             id_diagnosis_list_in,
             id_supplies_list_in,
             id_clinical_purpose_in,
             clinical_purpose_notes_in,
             flg_location_in,
             diagnosis_notes_in)
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END ins;

    PROCEDURE ins
    (
        id_interv_presc_det_hist_in    IN interv_presc_det_hist.id_interv_presc_det_hist%TYPE,
        dt_interv_prescription_hist_in IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        id_interv_presc_det_in         IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_prescription_in      IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_intervention_in             IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_movement_in                 IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        flg_interv_type_in             IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_status_in                  IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        notes_in                       IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        id_prof_cancel_in              IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        notes_cancel_in                IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        interval_in                    IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        num_take_in                    IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        dosage_in                      IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        id_drug_presc_det_in           IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_in       IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        num_freq_in                    IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        flg_freq_in                    IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        num_sess_in                    IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        flg_prty_in                    IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        dt_end_tstz_in                 IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_in               IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in              IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_interv_presc_det_in         IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        code_intervention_alias_in     IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        create_user_in                 IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_time_in                 IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_institution_in          IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        update_user_in                 IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_time_in                 IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_institution_in          IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        flg_referral_in                IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        dt_pend_req_tstz_in            IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        id_interv_codification_in      IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_exec_institution_in         IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        flg_laterality_in              IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_clinical_purpose_in        IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        id_presc_plan_task_in          IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_not_order_reason_in         IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_cdr_event_in                IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_co_sign_order_in            IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_cancel_reason_in            IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_co_sign_cancel_in           IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_prof_last_update_in         IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        dt_last_update_tstz_in         IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        id_order_recurrence_in         IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        flg_fasting_in                 IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_prn_in                     IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        prn_notes_in                   IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        id_pat_health_plan_in          IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_exemption_in            IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        flg_req_origin_module_in       IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        dt_order_tstz_in               IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        id_diagnosis_list_in           IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_supplies_list_in            IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_clinical_purpose_in         IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        clinical_purpose_notes_in      IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        flg_location_in                IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        diagnosis_notes_in             IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        handle_error_in                IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(id_interv_presc_det_hist_in    => id_interv_presc_det_hist_in,
            dt_interv_prescription_hist_in => dt_interv_prescription_hist_in,
            id_interv_presc_det_in         => id_interv_presc_det_in,
            id_interv_prescription_in      => id_interv_prescription_in,
            id_intervention_in             => id_intervention_in,
            id_movement_in                 => id_movement_in,
            flg_interv_type_in             => flg_interv_type_in,
            flg_status_in                  => flg_status_in,
            notes_in                       => notes_in,
            id_prof_cancel_in              => id_prof_cancel_in,
            notes_cancel_in                => notes_cancel_in,
            interval_in                    => interval_in,
            num_take_in                    => num_take_in,
            dosage_in                      => dosage_in,
            id_drug_presc_det_in           => id_drug_presc_det_in,
            id_nurse_actv_req_det_in       => id_nurse_actv_req_det_in,
            num_freq_in                    => num_freq_in,
            flg_freq_in                    => flg_freq_in,
            num_sess_in                    => num_sess_in,
            flg_prty_in                    => flg_prty_in,
            dt_end_tstz_in                 => dt_end_tstz_in,
            dt_begin_tstz_in               => dt_begin_tstz_in,
            dt_cancel_tstz_in              => dt_cancel_tstz_in,
            dt_interv_presc_det_in         => dt_interv_presc_det_in,
            code_intervention_alias_in     => code_intervention_alias_in,
            create_user_in                 => create_user_in,
            create_time_in                 => create_time_in,
            create_institution_in          => create_institution_in,
            update_user_in                 => update_user_in,
            update_time_in                 => update_time_in,
            update_institution_in          => update_institution_in,
            flg_referral_in                => flg_referral_in,
            dt_pend_req_tstz_in            => dt_pend_req_tstz_in,
            id_interv_codification_in      => id_interv_codification_in,
            id_exec_institution_in         => id_exec_institution_in,
            flg_laterality_in              => flg_laterality_in,
            flg_clinical_purpose_in        => flg_clinical_purpose_in,
            id_presc_plan_task_in          => id_presc_plan_task_in,
            id_not_order_reason_in         => id_not_order_reason_in,
            id_cdr_event_in                => id_cdr_event_in,
            id_co_sign_order_in            => id_co_sign_order_in,
            id_cancel_reason_in            => id_cancel_reason_in,
            id_co_sign_cancel_in           => id_co_sign_cancel_in,
            id_prof_last_update_in         => id_prof_last_update_in,
            dt_last_update_tstz_in         => dt_last_update_tstz_in,
            id_order_recurrence_in         => id_order_recurrence_in,
            flg_fasting_in                 => flg_fasting_in,
            flg_prn_in                     => flg_prn_in,
            prn_notes_in                   => prn_notes_in,
            id_pat_health_plan_in          => id_pat_health_plan_in,
            id_pat_exemption_in            => id_pat_exemption_in,
            flg_req_origin_module_in       => flg_req_origin_module_in,
            dt_order_tstz_in               => dt_order_tstz_in,
            id_diagnosis_list_in           => id_diagnosis_list_in,
            id_supplies_list_in            => id_supplies_list_in,
            id_clinical_purpose_in         => id_clinical_purpose_in,
            clinical_purpose_notes_in      => clinical_purpose_notes_in,
            flg_location_in                => flg_location_in,
            diagnosis_notes_in             => diagnosis_notes_in,
            handle_error_in                => handle_error_in,
            rows_out                       => rows_out);
    END ins;

    PROCEDURE ins
    (
        rec_in          IN interv_presc_det_hist%ROWTYPE,
        gen_pky_in      IN BOOLEAN DEFAULT FALSE,
        sequence_in     IN VARCHAR2 := NULL,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
        l_rec interv_presc_det_hist%ROWTYPE := rec_in;
    BEGIN
        IF gen_pky_in
        THEN
            l_rec.id_interv_presc_det_hist := next_key(sequence_in);
        END IF;
    
        ins(id_interv_presc_det_hist_in    => l_rec.id_interv_presc_det_hist,
            dt_interv_prescription_hist_in => l_rec.dt_interv_prescription_hist,
            id_interv_presc_det_in         => l_rec.id_interv_presc_det,
            id_interv_prescription_in      => l_rec.id_interv_prescription,
            id_intervention_in             => l_rec.id_intervention,
            id_movement_in                 => l_rec.id_movement,
            flg_interv_type_in             => l_rec.flg_interv_type,
            flg_status_in                  => l_rec.flg_status,
            notes_in                       => l_rec.notes,
            id_prof_cancel_in              => l_rec.id_prof_cancel,
            notes_cancel_in                => l_rec.notes_cancel,
            interval_in                    => l_rec.interval,
            num_take_in                    => l_rec.num_take,
            dosage_in                      => l_rec.dosage,
            id_drug_presc_det_in           => l_rec.id_drug_presc_det,
            id_nurse_actv_req_det_in       => l_rec.id_nurse_actv_req_det,
            num_freq_in                    => l_rec.num_freq,
            flg_freq_in                    => l_rec.flg_freq,
            num_sess_in                    => l_rec.num_sess,
            flg_prty_in                    => l_rec.flg_prty,
            dt_end_tstz_in                 => l_rec.dt_end_tstz,
            dt_begin_tstz_in               => l_rec.dt_begin_tstz,
            dt_cancel_tstz_in              => l_rec.dt_cancel_tstz,
            dt_interv_presc_det_in         => l_rec.dt_interv_presc_det,
            code_intervention_alias_in     => l_rec.code_intervention_alias,
            create_user_in                 => l_rec.create_user,
            create_time_in                 => l_rec.create_time,
            create_institution_in          => l_rec.create_institution,
            update_user_in                 => l_rec.update_user,
            update_time_in                 => l_rec.update_time,
            update_institution_in          => l_rec.update_institution,
            flg_referral_in                => l_rec.flg_referral,
            dt_pend_req_tstz_in            => l_rec.dt_pend_req_tstz,
            id_interv_codification_in      => l_rec.id_interv_codification,
            id_exec_institution_in         => l_rec.id_exec_institution,
            flg_laterality_in              => l_rec.flg_laterality,
            flg_clinical_purpose_in        => l_rec.flg_clinical_purpose,
            id_presc_plan_task_in          => l_rec.id_presc_plan_task,
            id_not_order_reason_in         => l_rec.id_not_order_reason,
            id_cdr_event_in                => l_rec.id_cdr_event,
            id_co_sign_order_in            => l_rec.id_co_sign_order,
            id_cancel_reason_in            => l_rec.id_cancel_reason,
            id_co_sign_cancel_in           => l_rec.id_co_sign_cancel,
            id_prof_last_update_in         => l_rec.id_prof_last_update,
            dt_last_update_tstz_in         => l_rec.dt_last_update_tstz,
            id_order_recurrence_in         => l_rec.id_order_recurrence,
            flg_fasting_in                 => l_rec.flg_fasting,
            flg_prn_in                     => l_rec.flg_prn,
            prn_notes_in                   => l_rec.prn_notes,
            id_pat_health_plan_in          => l_rec.id_pat_health_plan,
            id_pat_exemption_in            => l_rec.id_pat_exemption,
            flg_req_origin_module_in       => l_rec.flg_req_origin_module,
            dt_order_tstz_in               => l_rec.dt_order_tstz,
            id_diagnosis_list_in           => l_rec.id_diagnosis_list,
            id_supplies_list_in            => l_rec.id_supplies_list,
            id_clinical_purpose_in         => l_rec.id_clinical_purpose,
            clinical_purpose_notes_in      => l_rec.clinical_purpose_notes,
            flg_location_in                => l_rec.flg_location,
            diagnosis_notes_in             => l_rec.diagnosis_notes,
            handle_error_in                => handle_error_in,
            rows_out                       => rows_out);
    END ins;

    PROCEDURE ins
    (
        rec_in          IN interv_presc_det_hist%ROWTYPE,
        gen_pky_in      IN BOOLEAN DEFAULT FALSE,
        sequence_in     IN VARCHAR2 := NULL,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(rec_in          => rec_in,
            gen_pky_in      => gen_pky_in,
            sequence_in     => sequence_in,
            handle_error_in => handle_error_in,
            rows_out        => rows_out);
    END ins;

    -- Insert a collection of rows using FORALL; all primary key values
    -- must have already been generated, or are handled in triggers
    PROCEDURE ins
    (
        rows_in         IN interv_presc_det_hist_tc,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        IF rows_in.count = 0
        THEN
            NULL;
        ELSE
            FORALL indx IN rows_in.first .. rows_in.last SAVE EXCEPTIONS
                INSERT INTO interv_presc_det_hist
                    (id_interv_presc_det_hist,
                     dt_interv_prescription_hist,
                     id_interv_presc_det,
                     id_interv_prescription,
                     id_intervention,
                     id_movement,
                     flg_interv_type,
                     flg_status,
                     notes,
                     id_prof_cancel,
                     notes_cancel,
                     INTERVAL,
                     num_take,
                     dosage,
                     id_drug_presc_det,
                     id_nurse_actv_req_det,
                     num_freq,
                     flg_freq,
                     num_sess,
                     flg_prty,
                     dt_end_tstz,
                     dt_begin_tstz,
                     dt_cancel_tstz,
                     dt_interv_presc_det,
                     code_intervention_alias,
                     flg_referral,
                     dt_pend_req_tstz,
                     id_interv_codification,
                     id_exec_institution,
                     flg_laterality,
                     flg_clinical_purpose,
                     id_presc_plan_task,
                     id_not_order_reason,
                     id_cdr_event,
                     id_co_sign_order,
                     id_cancel_reason,
                     id_co_sign_cancel,
                     id_prof_last_update,
                     dt_last_update_tstz,
                     id_order_recurrence,
                     flg_fasting,
                     flg_prn,
                     prn_notes,
                     id_pat_health_plan,
                     id_pat_exemption,
                     flg_req_origin_module,
                     dt_order_tstz,
                     id_diagnosis_list,
                     id_supplies_list,
                     id_clinical_purpose,
                     clinical_purpose_notes,
                     flg_location,
                     diagnosis_notes)
                VALUES
                    (rows_in(indx).id_interv_presc_det_hist,
                     rows_in(indx).dt_interv_prescription_hist,
                     rows_in(indx).id_interv_presc_det,
                     rows_in(indx).id_interv_prescription,
                     rows_in(indx).id_intervention,
                     rows_in(indx).id_movement,
                     rows_in(indx).flg_interv_type,
                     rows_in(indx).flg_status,
                     rows_in(indx).notes,
                     rows_in(indx).id_prof_cancel,
                     rows_in(indx).notes_cancel,
                     rows_in(indx).interval,
                     rows_in(indx).num_take,
                     rows_in(indx).dosage,
                     rows_in(indx).id_drug_presc_det,
                     rows_in(indx).id_nurse_actv_req_det,
                     rows_in(indx).num_freq,
                     rows_in(indx).flg_freq,
                     rows_in(indx).num_sess,
                     rows_in(indx).flg_prty,
                     rows_in(indx).dt_end_tstz,
                     rows_in(indx).dt_begin_tstz,
                     rows_in(indx).dt_cancel_tstz,
                     rows_in(indx).dt_interv_presc_det,
                     rows_in(indx).code_intervention_alias,
                     rows_in(indx).flg_referral,
                     rows_in(indx).dt_pend_req_tstz,
                     rows_in(indx).id_interv_codification,
                     rows_in(indx).id_exec_institution,
                     rows_in(indx).flg_laterality,
                     rows_in(indx).flg_clinical_purpose,
                     rows_in(indx).id_presc_plan_task,
                     rows_in(indx).id_not_order_reason,
                     rows_in(indx).id_cdr_event,
                     rows_in(indx).id_co_sign_order,
                     rows_in(indx).id_cancel_reason,
                     rows_in(indx).id_co_sign_cancel,
                     rows_in(indx).id_prof_last_update,
                     rows_in(indx).dt_last_update_tstz,
                     rows_in(indx).id_order_recurrence,
                     rows_in(indx).flg_fasting,
                     rows_in(indx).flg_prn,
                     rows_in(indx).prn_notes,
                     rows_in(indx).id_pat_health_plan,
                     rows_in(indx).id_pat_exemption,
                     rows_in(indx).flg_req_origin_module,
                     rows_in(indx).dt_order_tstz,
                     rows_in(indx).id_diagnosis_list,
                     rows_in(indx).id_supplies_list,
                     rows_in(indx).id_clinical_purpose,
                     rows_in(indx).clinical_purpose_notes,
                     rows_in(indx).flg_location,
                     rows_in(indx).diagnosis_notes)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        END IF;
    
    EXCEPTION
        WHEN e_forall_error THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                FOR indx IN 1 .. SQL%bulk_exceptions.count
                LOOP
                    pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
                END LOOP;
            END IF;
        WHEN OTHERS THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END ins;

    -- Insert a collection of rows using FORALL; all primary key values
    -- must have already been generated, or are handled in triggers
    PROCEDURE ins
    (
        rows_in         IN interv_presc_det_hist_tc,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(rows_in => rows_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END ins;

    -- Update any/all columns by primary key. If you pass NULL, then
    -- the current column value is set to itself. If you need a more
    -- selected UPDATE then use one of the onecol procedures below.
    PROCEDURE upd
    (
        id_interv_presc_det_hist_in     IN interv_presc_det_hist.id_interv_presc_det_hist%TYPE,
        dt_interv_prescription_hist_in  IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        dt_interv_prescription_hist_nin IN BOOLEAN := TRUE,
        id_interv_presc_det_in          IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_presc_det_nin         IN BOOLEAN := TRUE,
        id_interv_prescription_in       IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_interv_prescription_nin      IN BOOLEAN := TRUE,
        id_intervention_in              IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_intervention_nin             IN BOOLEAN := TRUE,
        id_movement_in                  IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        id_movement_nin                 IN BOOLEAN := TRUE,
        flg_interv_type_in              IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_interv_type_nin             IN BOOLEAN := TRUE,
        flg_status_in                   IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        flg_status_nin                  IN BOOLEAN := TRUE,
        notes_in                        IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        notes_nin                       IN BOOLEAN := TRUE,
        id_prof_cancel_in               IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        id_prof_cancel_nin              IN BOOLEAN := TRUE,
        notes_cancel_in                 IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        notes_cancel_nin                IN BOOLEAN := TRUE,
        interval_in                     IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        interval_nin                    IN BOOLEAN := TRUE,
        num_take_in                     IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        num_take_nin                    IN BOOLEAN := TRUE,
        dosage_in                       IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        dosage_nin                      IN BOOLEAN := TRUE,
        id_drug_presc_det_in            IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_drug_presc_det_nin           IN BOOLEAN := TRUE,
        id_nurse_actv_req_det_in        IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_nin       IN BOOLEAN := TRUE,
        num_freq_in                     IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        num_freq_nin                    IN BOOLEAN := TRUE,
        flg_freq_in                     IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        flg_freq_nin                    IN BOOLEAN := TRUE,
        num_sess_in                     IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        num_sess_nin                    IN BOOLEAN := TRUE,
        flg_prty_in                     IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        flg_prty_nin                    IN BOOLEAN := TRUE,
        dt_end_tstz_in                  IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_end_tstz_nin                 IN BOOLEAN := TRUE,
        dt_begin_tstz_in                IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_nin               IN BOOLEAN := TRUE,
        dt_cancel_tstz_in               IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_nin              IN BOOLEAN := TRUE,
        dt_interv_presc_det_in          IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        dt_interv_presc_det_nin         IN BOOLEAN := TRUE,
        code_intervention_alias_in      IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        code_intervention_alias_nin     IN BOOLEAN := TRUE,
        create_user_in                  IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_user_nin                 IN BOOLEAN := TRUE,
        create_time_in                  IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_time_nin                 IN BOOLEAN := TRUE,
        create_institution_in           IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        create_institution_nin          IN BOOLEAN := TRUE,
        update_user_in                  IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_user_nin                 IN BOOLEAN := TRUE,
        update_time_in                  IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_time_nin                 IN BOOLEAN := TRUE,
        update_institution_in           IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        update_institution_nin          IN BOOLEAN := TRUE,
        flg_referral_in                 IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        flg_referral_nin                IN BOOLEAN := TRUE,
        dt_pend_req_tstz_in             IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        dt_pend_req_tstz_nin            IN BOOLEAN := TRUE,
        id_interv_codification_in       IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_interv_codification_nin      IN BOOLEAN := TRUE,
        id_exec_institution_in          IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        id_exec_institution_nin         IN BOOLEAN := TRUE,
        flg_laterality_in               IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_laterality_nin              IN BOOLEAN := TRUE,
        flg_clinical_purpose_in         IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        flg_clinical_purpose_nin        IN BOOLEAN := TRUE,
        id_presc_plan_task_in           IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_presc_plan_task_nin          IN BOOLEAN := TRUE,
        id_not_order_reason_in          IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_not_order_reason_nin         IN BOOLEAN := TRUE,
        id_cdr_event_in                 IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_cdr_event_nin                IN BOOLEAN := TRUE,
        id_co_sign_order_in             IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_co_sign_order_nin            IN BOOLEAN := TRUE,
        id_cancel_reason_in             IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_cancel_reason_nin            IN BOOLEAN := TRUE,
        id_co_sign_cancel_in            IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_co_sign_cancel_nin           IN BOOLEAN := TRUE,
        id_prof_last_update_in          IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        id_prof_last_update_nin         IN BOOLEAN := TRUE,
        dt_last_update_tstz_in          IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        dt_last_update_tstz_nin         IN BOOLEAN := TRUE,
        id_order_recurrence_in          IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        id_order_recurrence_nin         IN BOOLEAN := TRUE,
        flg_fasting_in                  IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_fasting_nin                 IN BOOLEAN := TRUE,
        flg_prn_in                      IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        flg_prn_nin                     IN BOOLEAN := TRUE,
        prn_notes_in                    IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        prn_notes_nin                   IN BOOLEAN := TRUE,
        id_pat_health_plan_in           IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_health_plan_nin          IN BOOLEAN := TRUE,
        id_pat_exemption_in             IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        id_pat_exemption_nin            IN BOOLEAN := TRUE,
        flg_req_origin_module_in        IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        flg_req_origin_module_nin       IN BOOLEAN := TRUE,
        dt_order_tstz_in                IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        dt_order_tstz_nin               IN BOOLEAN := TRUE,
        id_diagnosis_list_in            IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_diagnosis_list_nin           IN BOOLEAN := TRUE,
        id_supplies_list_in             IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_supplies_list_nin            IN BOOLEAN := TRUE,
        id_clinical_purpose_in          IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        id_clinical_purpose_nin         IN BOOLEAN := TRUE,
        clinical_purpose_notes_in       IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        clinical_purpose_notes_nin      IN BOOLEAN := TRUE,
        flg_location_in                 IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        flg_location_nin                IN BOOLEAN := TRUE,
        diagnosis_notes_in              IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        diagnosis_notes_nin             IN BOOLEAN := TRUE,
        handle_error_in                 IN BOOLEAN := FALSE,
        rows_out                        IN OUT table_varchar
    ) IS
        l_rows_out                      table_varchar;
        l_dt_interv_prescription_hist_n NUMBER(1) := sys.diutil.bool_to_int(dt_interv_prescription_hist_nin);
        l_id_interv_presc_det_n         NUMBER(1) := sys.diutil.bool_to_int(id_interv_presc_det_nin);
        l_id_interv_prescription_n      NUMBER(1) := sys.diutil.bool_to_int(id_interv_prescription_nin);
        l_id_intervention_n             NUMBER(1) := sys.diutil.bool_to_int(id_intervention_nin);
        l_id_movement_n                 NUMBER(1) := sys.diutil.bool_to_int(id_movement_nin);
        l_flg_interv_type_n             NUMBER(1) := sys.diutil.bool_to_int(flg_interv_type_nin);
        l_flg_status_n                  NUMBER(1) := sys.diutil.bool_to_int(flg_status_nin);
        l_notes_n                       NUMBER(1) := sys.diutil.bool_to_int(notes_nin);
        l_id_prof_cancel_n              NUMBER(1) := sys.diutil.bool_to_int(id_prof_cancel_nin);
        l_notes_cancel_n                NUMBER(1) := sys.diutil.bool_to_int(notes_cancel_nin);
        l_interval_n                    NUMBER(1) := sys.diutil.bool_to_int(interval_nin);
        l_num_take_n                    NUMBER(1) := sys.diutil.bool_to_int(num_take_nin);
        l_dosage_n                      NUMBER(1) := sys.diutil.bool_to_int(dosage_nin);
        l_id_drug_presc_det_n           NUMBER(1) := sys.diutil.bool_to_int(id_drug_presc_det_nin);
        l_id_nurse_actv_req_det_n       NUMBER(1) := sys.diutil.bool_to_int(id_nurse_actv_req_det_nin);
        l_num_freq_n                    NUMBER(1) := sys.diutil.bool_to_int(num_freq_nin);
        l_flg_freq_n                    NUMBER(1) := sys.diutil.bool_to_int(flg_freq_nin);
        l_num_sess_n                    NUMBER(1) := sys.diutil.bool_to_int(num_sess_nin);
        l_flg_prty_n                    NUMBER(1) := sys.diutil.bool_to_int(flg_prty_nin);
        l_dt_end_tstz_n                 NUMBER(1) := sys.diutil.bool_to_int(dt_end_tstz_nin);
        l_dt_begin_tstz_n               NUMBER(1) := sys.diutil.bool_to_int(dt_begin_tstz_nin);
        l_dt_cancel_tstz_n              NUMBER(1) := sys.diutil.bool_to_int(dt_cancel_tstz_nin);
        l_dt_interv_presc_det_n         NUMBER(1) := sys.diutil.bool_to_int(dt_interv_presc_det_nin);
        l_code_intervention_alias_n     NUMBER(1) := sys.diutil.bool_to_int(code_intervention_alias_nin);
        l_create_user_n                 NUMBER(1) := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n                 NUMBER(1) := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n          NUMBER(1) := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n                 NUMBER(1) := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n                 NUMBER(1) := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n          NUMBER(1) := sys.diutil.bool_to_int(update_institution_nin);
        l_flg_referral_n                NUMBER(1) := sys.diutil.bool_to_int(flg_referral_nin);
        l_dt_pend_req_tstz_n            NUMBER(1) := sys.diutil.bool_to_int(dt_pend_req_tstz_nin);
        l_id_interv_codification_n      NUMBER(1) := sys.diutil.bool_to_int(id_interv_codification_nin);
        l_id_exec_institution_n         NUMBER(1) := sys.diutil.bool_to_int(id_exec_institution_nin);
        l_flg_laterality_n              NUMBER(1) := sys.diutil.bool_to_int(flg_laterality_nin);
        l_flg_clinical_purpose_n        NUMBER(1) := sys.diutil.bool_to_int(flg_clinical_purpose_nin);
        l_id_presc_plan_task_n          NUMBER(1) := sys.diutil.bool_to_int(id_presc_plan_task_nin);
        l_id_not_order_reason_n         NUMBER(1) := sys.diutil.bool_to_int(id_not_order_reason_nin);
        l_id_cdr_event_n                NUMBER(1) := sys.diutil.bool_to_int(id_cdr_event_nin);
        l_id_co_sign_order_n            NUMBER(1) := sys.diutil.bool_to_int(id_co_sign_order_nin);
        l_id_cancel_reason_n            NUMBER(1) := sys.diutil.bool_to_int(id_cancel_reason_nin);
        l_id_co_sign_cancel_n           NUMBER(1) := sys.diutil.bool_to_int(id_co_sign_cancel_nin);
        l_id_prof_last_update_n         NUMBER(1) := sys.diutil.bool_to_int(id_prof_last_update_nin);
        l_dt_last_update_tstz_n         NUMBER(1) := sys.diutil.bool_to_int(dt_last_update_tstz_nin);
        l_id_order_recurrence_n         NUMBER(1) := sys.diutil.bool_to_int(id_order_recurrence_nin);
        l_flg_fasting_n                 NUMBER(1) := sys.diutil.bool_to_int(flg_fasting_nin);
        l_flg_prn_n                     NUMBER(1) := sys.diutil.bool_to_int(flg_prn_nin);
        l_prn_notes_n                   NUMBER(1) := sys.diutil.bool_to_int(prn_notes_nin);
        l_id_pat_health_plan_n          NUMBER(1) := sys.diutil.bool_to_int(id_pat_health_plan_nin);
        l_id_pat_exemption_n            NUMBER(1) := sys.diutil.bool_to_int(id_pat_exemption_nin);
        l_flg_req_origin_module_n       NUMBER(1) := sys.diutil.bool_to_int(flg_req_origin_module_nin);
        l_dt_order_tstz_n               NUMBER(1) := sys.diutil.bool_to_int(dt_order_tstz_nin);
        l_id_diagnosis_list_n           NUMBER(1) := sys.diutil.bool_to_int(id_diagnosis_list_nin);
        l_id_supplies_list_n            NUMBER(1) := sys.diutil.bool_to_int(id_supplies_list_nin);
        l_id_clinical_purpose_n         NUMBER(1) := sys.diutil.bool_to_int(id_clinical_purpose_nin);
        l_clinical_purpose_notes_n      NUMBER(1) := sys.diutil.bool_to_int(clinical_purpose_notes_nin);
        l_flg_location_n                NUMBER(1) := sys.diutil.bool_to_int(flg_location_nin);
        l_diagnosis_notes_n             NUMBER(1) := sys.diutil.bool_to_int(diagnosis_notes_nin);
    BEGIN
    
        UPDATE interv_presc_det_hist
           SET dt_interv_prescription_hist = decode(l_dt_interv_prescription_hist_n,
                                                    0,
                                                    dt_interv_prescription_hist_in,
                                                    nvl(dt_interv_prescription_hist_in, dt_interv_prescription_hist)),
               id_interv_presc_det         = decode(l_id_interv_presc_det_n,
                                                    0,
                                                    id_interv_presc_det_in,
                                                    nvl(id_interv_presc_det_in, id_interv_presc_det)),
               id_interv_prescription      = decode(l_id_interv_prescription_n,
                                                    0,
                                                    id_interv_prescription_in,
                                                    nvl(id_interv_prescription_in, id_interv_prescription)),
               id_intervention             = decode(l_id_intervention_n,
                                                    0,
                                                    id_intervention_in,
                                                    nvl(id_intervention_in, id_intervention)),
               id_movement                 = decode(l_id_movement_n, 0, id_movement_in, nvl(id_movement_in, id_movement)),
               flg_interv_type             = decode(l_flg_interv_type_n,
                                                    0,
                                                    flg_interv_type_in,
                                                    nvl(flg_interv_type_in, flg_interv_type)),
               flg_status                  = decode(l_flg_status_n, 0, flg_status_in, nvl(flg_status_in, flg_status)),
               notes                       = decode(l_notes_n, 0, notes_in, nvl(notes_in, notes)),
               id_prof_cancel              = decode(l_id_prof_cancel_n,
                                                    0,
                                                    id_prof_cancel_in,
                                                    nvl(id_prof_cancel_in, id_prof_cancel)),
               notes_cancel                = decode(l_notes_cancel_n,
                                                    0,
                                                    notes_cancel_in,
                                                    nvl(notes_cancel_in, notes_cancel)),
               INTERVAL                    = decode(l_interval_n, 0, interval_in, nvl(interval_in, INTERVAL)),
               num_take                    = decode(l_num_take_n, 0, num_take_in, nvl(num_take_in, num_take)),
               dosage                      = decode(l_dosage_n, 0, dosage_in, nvl(dosage_in, dosage)),
               id_drug_presc_det           = decode(l_id_drug_presc_det_n,
                                                    0,
                                                    id_drug_presc_det_in,
                                                    nvl(id_drug_presc_det_in, id_drug_presc_det)),
               id_nurse_actv_req_det       = decode(l_id_nurse_actv_req_det_n,
                                                    0,
                                                    id_nurse_actv_req_det_in,
                                                    nvl(id_nurse_actv_req_det_in, id_nurse_actv_req_det)),
               num_freq                    = decode(l_num_freq_n, 0, num_freq_in, nvl(num_freq_in, num_freq)),
               flg_freq                    = decode(l_flg_freq_n, 0, flg_freq_in, nvl(flg_freq_in, flg_freq)),
               num_sess                    = decode(l_num_sess_n, 0, num_sess_in, nvl(num_sess_in, num_sess)),
               flg_prty                    = decode(l_flg_prty_n, 0, flg_prty_in, nvl(flg_prty_in, flg_prty)),
               dt_end_tstz                 = decode(l_dt_end_tstz_n, 0, dt_end_tstz_in, nvl(dt_end_tstz_in, dt_end_tstz)),
               dt_begin_tstz               = decode(l_dt_begin_tstz_n,
                                                    0,
                                                    dt_begin_tstz_in,
                                                    nvl(dt_begin_tstz_in, dt_begin_tstz)),
               dt_cancel_tstz              = decode(l_dt_cancel_tstz_n,
                                                    0,
                                                    dt_cancel_tstz_in,
                                                    nvl(dt_cancel_tstz_in, dt_cancel_tstz)),
               dt_interv_presc_det         = decode(l_dt_interv_presc_det_n,
                                                    0,
                                                    dt_interv_presc_det_in,
                                                    nvl(dt_interv_presc_det_in, dt_interv_presc_det)),
               code_intervention_alias     = decode(l_code_intervention_alias_n,
                                                    0,
                                                    code_intervention_alias_in,
                                                    nvl(code_intervention_alias_in, code_intervention_alias)),
               create_user                 = decode(l_create_user_n, 0, create_user_in, nvl(create_user_in, create_user)),
               create_time                 = decode(l_create_time_n, 0, create_time_in, nvl(create_time_in, create_time)),
               create_institution          = decode(l_create_institution_n,
                                                    0,
                                                    create_institution_in,
                                                    nvl(create_institution_in, create_institution)),
               update_user                 = decode(l_update_user_n, 0, update_user_in, nvl(update_user_in, update_user)),
               update_time                 = decode(l_update_time_n, 0, update_time_in, nvl(update_time_in, update_time)),
               update_institution          = decode(l_update_institution_n,
                                                    0,
                                                    update_institution_in,
                                                    nvl(update_institution_in, update_institution)),
               flg_referral                = decode(l_flg_referral_n,
                                                    0,
                                                    flg_referral_in,
                                                    nvl(flg_referral_in, flg_referral)),
               dt_pend_req_tstz            = decode(l_dt_pend_req_tstz_n,
                                                    0,
                                                    dt_pend_req_tstz_in,
                                                    nvl(dt_pend_req_tstz_in, dt_pend_req_tstz)),
               id_interv_codification      = decode(l_id_interv_codification_n,
                                                    0,
                                                    id_interv_codification_in,
                                                    nvl(id_interv_codification_in, id_interv_codification)),
               id_exec_institution         = decode(l_id_exec_institution_n,
                                                    0,
                                                    id_exec_institution_in,
                                                    nvl(id_exec_institution_in, id_exec_institution)),
               flg_laterality              = decode(l_flg_laterality_n,
                                                    0,
                                                    flg_laterality_in,
                                                    nvl(flg_laterality_in, flg_laterality)),
               flg_clinical_purpose        = decode(l_flg_clinical_purpose_n,
                                                    0,
                                                    flg_clinical_purpose_in,
                                                    nvl(flg_clinical_purpose_in, flg_clinical_purpose)),
               id_presc_plan_task          = decode(l_id_presc_plan_task_n,
                                                    0,
                                                    id_presc_plan_task_in,
                                                    nvl(id_presc_plan_task_in, id_presc_plan_task)),
               id_not_order_reason         = decode(l_id_not_order_reason_n,
                                                    0,
                                                    id_not_order_reason_in,
                                                    nvl(id_not_order_reason_in, id_not_order_reason)),
               id_cdr_event                = decode(l_id_cdr_event_n,
                                                    0,
                                                    id_cdr_event_in,
                                                    nvl(id_cdr_event_in, id_cdr_event)),
               id_co_sign_order            = decode(l_id_co_sign_order_n,
                                                    0,
                                                    id_co_sign_order_in,
                                                    nvl(id_co_sign_order_in, id_co_sign_order)),
               id_cancel_reason            = decode(l_id_cancel_reason_n,
                                                    0,
                                                    id_cancel_reason_in,
                                                    nvl(id_cancel_reason_in, id_cancel_reason)),
               id_co_sign_cancel           = decode(l_id_co_sign_cancel_n,
                                                    0,
                                                    id_co_sign_cancel_in,
                                                    nvl(id_co_sign_cancel_in, id_co_sign_cancel)),
               id_prof_last_update         = decode(l_id_prof_last_update_n,
                                                    0,
                                                    id_prof_last_update_in,
                                                    nvl(id_prof_last_update_in, id_prof_last_update)),
               dt_last_update_tstz         = decode(l_dt_last_update_tstz_n,
                                                    0,
                                                    dt_last_update_tstz_in,
                                                    nvl(dt_last_update_tstz_in, dt_last_update_tstz)),
               id_order_recurrence         = decode(l_id_order_recurrence_n,
                                                    0,
                                                    id_order_recurrence_in,
                                                    nvl(id_order_recurrence_in, id_order_recurrence)),
               flg_fasting                 = decode(l_flg_fasting_n, 0, flg_fasting_in, nvl(flg_fasting_in, flg_fasting)),
               flg_prn                     = decode(l_flg_prn_n, 0, flg_prn_in, nvl(flg_prn_in, flg_prn)),
               prn_notes                   = decode(l_prn_notes_n, 0, prn_notes_in, nvl(prn_notes_in, prn_notes)),
               id_pat_health_plan          = decode(l_id_pat_health_plan_n,
                                                    0,
                                                    id_pat_health_plan_in,
                                                    nvl(id_pat_health_plan_in, id_pat_health_plan)),
               id_pat_exemption            = decode(l_id_pat_exemption_n,
                                                    0,
                                                    id_pat_exemption_in,
                                                    nvl(id_pat_exemption_in, id_pat_exemption)),
               flg_req_origin_module       = decode(l_flg_req_origin_module_n,
                                                    0,
                                                    flg_req_origin_module_in,
                                                    nvl(flg_req_origin_module_in, flg_req_origin_module)),
               dt_order_tstz               = decode(l_dt_order_tstz_n,
                                                    0,
                                                    dt_order_tstz_in,
                                                    nvl(dt_order_tstz_in, dt_order_tstz)),
               id_diagnosis_list           = decode(l_id_diagnosis_list_n,
                                                    0,
                                                    id_diagnosis_list_in,
                                                    nvl(id_diagnosis_list_in, id_diagnosis_list)),
               id_supplies_list            = decode(l_id_supplies_list_n,
                                                    0,
                                                    id_supplies_list_in,
                                                    nvl(id_supplies_list_in, id_supplies_list)),
               id_clinical_purpose         = decode(l_id_clinical_purpose_n,
                                                    0,
                                                    id_clinical_purpose_in,
                                                    nvl(id_clinical_purpose_in, id_clinical_purpose)),
               clinical_purpose_notes      = decode(l_clinical_purpose_notes_n,
                                                    0,
                                                    clinical_purpose_notes_in,
                                                    nvl(clinical_purpose_notes_in, clinical_purpose_notes)),
               flg_location                = decode(l_flg_location_n,
                                                    0,
                                                    flg_location_in,
                                                    nvl(flg_location_in, flg_location)),
               diagnosis_notes             = decode(l_diagnosis_notes_n,
                                                    0,
                                                    diagnosis_notes_in,
                                                    nvl(diagnosis_notes_in, diagnosis_notes))
         WHERE id_interv_presc_det_hist = id_interv_presc_det_hist_in
        RETURNING ROWID BULK COLLECT INTO l_rows_out;
        IF (rows_out IS NULL)
        THEN
            rows_out := table_varchar();
        END IF;
        rows_out := rows_out MULTISET UNION DISTINCT l_rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    -- Update any/all columns by primary key. If you pass NULL, then
    -- the current column value is set to itself. If you need a more
    -- selected UPDATE then use one of the onecol procedures below.
    PROCEDURE upd
    (
        id_interv_presc_det_hist_in     IN interv_presc_det_hist.id_interv_presc_det_hist%TYPE,
        dt_interv_prescription_hist_in  IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        dt_interv_prescription_hist_nin IN BOOLEAN := TRUE,
        id_interv_presc_det_in          IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_presc_det_nin         IN BOOLEAN := TRUE,
        id_interv_prescription_in       IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_interv_prescription_nin      IN BOOLEAN := TRUE,
        id_intervention_in              IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_intervention_nin             IN BOOLEAN := TRUE,
        id_movement_in                  IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        id_movement_nin                 IN BOOLEAN := TRUE,
        flg_interv_type_in              IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_interv_type_nin             IN BOOLEAN := TRUE,
        flg_status_in                   IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        flg_status_nin                  IN BOOLEAN := TRUE,
        notes_in                        IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        notes_nin                       IN BOOLEAN := TRUE,
        id_prof_cancel_in               IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        id_prof_cancel_nin              IN BOOLEAN := TRUE,
        notes_cancel_in                 IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        notes_cancel_nin                IN BOOLEAN := TRUE,
        interval_in                     IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        interval_nin                    IN BOOLEAN := TRUE,
        num_take_in                     IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        num_take_nin                    IN BOOLEAN := TRUE,
        dosage_in                       IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        dosage_nin                      IN BOOLEAN := TRUE,
        id_drug_presc_det_in            IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_drug_presc_det_nin           IN BOOLEAN := TRUE,
        id_nurse_actv_req_det_in        IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_nin       IN BOOLEAN := TRUE,
        num_freq_in                     IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        num_freq_nin                    IN BOOLEAN := TRUE,
        flg_freq_in                     IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        flg_freq_nin                    IN BOOLEAN := TRUE,
        num_sess_in                     IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        num_sess_nin                    IN BOOLEAN := TRUE,
        flg_prty_in                     IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        flg_prty_nin                    IN BOOLEAN := TRUE,
        dt_end_tstz_in                  IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_end_tstz_nin                 IN BOOLEAN := TRUE,
        dt_begin_tstz_in                IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_nin               IN BOOLEAN := TRUE,
        dt_cancel_tstz_in               IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_nin              IN BOOLEAN := TRUE,
        dt_interv_presc_det_in          IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        dt_interv_presc_det_nin         IN BOOLEAN := TRUE,
        code_intervention_alias_in      IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        code_intervention_alias_nin     IN BOOLEAN := TRUE,
        create_user_in                  IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_user_nin                 IN BOOLEAN := TRUE,
        create_time_in                  IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_time_nin                 IN BOOLEAN := TRUE,
        create_institution_in           IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        create_institution_nin          IN BOOLEAN := TRUE,
        update_user_in                  IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_user_nin                 IN BOOLEAN := TRUE,
        update_time_in                  IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_time_nin                 IN BOOLEAN := TRUE,
        update_institution_in           IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        update_institution_nin          IN BOOLEAN := TRUE,
        flg_referral_in                 IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        flg_referral_nin                IN BOOLEAN := TRUE,
        dt_pend_req_tstz_in             IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        dt_pend_req_tstz_nin            IN BOOLEAN := TRUE,
        id_interv_codification_in       IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_interv_codification_nin      IN BOOLEAN := TRUE,
        id_exec_institution_in          IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        id_exec_institution_nin         IN BOOLEAN := TRUE,
        flg_laterality_in               IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_laterality_nin              IN BOOLEAN := TRUE,
        flg_clinical_purpose_in         IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        flg_clinical_purpose_nin        IN BOOLEAN := TRUE,
        id_presc_plan_task_in           IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_presc_plan_task_nin          IN BOOLEAN := TRUE,
        id_not_order_reason_in          IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_not_order_reason_nin         IN BOOLEAN := TRUE,
        id_cdr_event_in                 IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_cdr_event_nin                IN BOOLEAN := TRUE,
        id_co_sign_order_in             IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_co_sign_order_nin            IN BOOLEAN := TRUE,
        id_cancel_reason_in             IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_cancel_reason_nin            IN BOOLEAN := TRUE,
        id_co_sign_cancel_in            IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_co_sign_cancel_nin           IN BOOLEAN := TRUE,
        id_prof_last_update_in          IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        id_prof_last_update_nin         IN BOOLEAN := TRUE,
        dt_last_update_tstz_in          IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        dt_last_update_tstz_nin         IN BOOLEAN := TRUE,
        id_order_recurrence_in          IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        id_order_recurrence_nin         IN BOOLEAN := TRUE,
        flg_fasting_in                  IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_fasting_nin                 IN BOOLEAN := TRUE,
        flg_prn_in                      IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        flg_prn_nin                     IN BOOLEAN := TRUE,
        prn_notes_in                    IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        prn_notes_nin                   IN BOOLEAN := TRUE,
        id_pat_health_plan_in           IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_health_plan_nin          IN BOOLEAN := TRUE,
        id_pat_exemption_in             IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        id_pat_exemption_nin            IN BOOLEAN := TRUE,
        flg_req_origin_module_in        IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        flg_req_origin_module_nin       IN BOOLEAN := TRUE,
        dt_order_tstz_in                IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        dt_order_tstz_nin               IN BOOLEAN := TRUE,
        id_diagnosis_list_in            IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_diagnosis_list_nin           IN BOOLEAN := TRUE,
        id_supplies_list_in             IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_supplies_list_nin            IN BOOLEAN := TRUE,
        id_clinical_purpose_in          IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        id_clinical_purpose_nin         IN BOOLEAN := TRUE,
        clinical_purpose_notes_in       IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        clinical_purpose_notes_nin      IN BOOLEAN := TRUE,
        flg_location_in                 IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        flg_location_nin                IN BOOLEAN := TRUE,
        diagnosis_notes_in              IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        diagnosis_notes_nin             IN BOOLEAN := TRUE,
        handle_error_in                 IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(id_interv_presc_det_hist_in     => id_interv_presc_det_hist_in,
            dt_interv_prescription_hist_in  => dt_interv_prescription_hist_in,
            dt_interv_prescription_hist_nin => dt_interv_prescription_hist_nin,
            id_interv_presc_det_in          => id_interv_presc_det_in,
            id_interv_presc_det_nin         => id_interv_presc_det_nin,
            id_interv_prescription_in       => id_interv_prescription_in,
            id_interv_prescription_nin      => id_interv_prescription_nin,
            id_intervention_in              => id_intervention_in,
            id_intervention_nin             => id_intervention_nin,
            id_movement_in                  => id_movement_in,
            id_movement_nin                 => id_movement_nin,
            flg_interv_type_in              => flg_interv_type_in,
            flg_interv_type_nin             => flg_interv_type_nin,
            flg_status_in                   => flg_status_in,
            flg_status_nin                  => flg_status_nin,
            notes_in                        => notes_in,
            notes_nin                       => notes_nin,
            id_prof_cancel_in               => id_prof_cancel_in,
            id_prof_cancel_nin              => id_prof_cancel_nin,
            notes_cancel_in                 => notes_cancel_in,
            notes_cancel_nin                => notes_cancel_nin,
            interval_in                     => interval_in,
            interval_nin                    => interval_nin,
            num_take_in                     => num_take_in,
            num_take_nin                    => num_take_nin,
            dosage_in                       => dosage_in,
            dosage_nin                      => dosage_nin,
            id_drug_presc_det_in            => id_drug_presc_det_in,
            id_drug_presc_det_nin           => id_drug_presc_det_nin,
            id_nurse_actv_req_det_in        => id_nurse_actv_req_det_in,
            id_nurse_actv_req_det_nin       => id_nurse_actv_req_det_nin,
            num_freq_in                     => num_freq_in,
            num_freq_nin                    => num_freq_nin,
            flg_freq_in                     => flg_freq_in,
            flg_freq_nin                    => flg_freq_nin,
            num_sess_in                     => num_sess_in,
            num_sess_nin                    => num_sess_nin,
            flg_prty_in                     => flg_prty_in,
            flg_prty_nin                    => flg_prty_nin,
            dt_end_tstz_in                  => dt_end_tstz_in,
            dt_end_tstz_nin                 => dt_end_tstz_nin,
            dt_begin_tstz_in                => dt_begin_tstz_in,
            dt_begin_tstz_nin               => dt_begin_tstz_nin,
            dt_cancel_tstz_in               => dt_cancel_tstz_in,
            dt_cancel_tstz_nin              => dt_cancel_tstz_nin,
            dt_interv_presc_det_in          => dt_interv_presc_det_in,
            dt_interv_presc_det_nin         => dt_interv_presc_det_nin,
            code_intervention_alias_in      => code_intervention_alias_in,
            code_intervention_alias_nin     => code_intervention_alias_nin,
            create_user_in                  => create_user_in,
            create_user_nin                 => create_user_nin,
            create_time_in                  => create_time_in,
            create_time_nin                 => create_time_nin,
            create_institution_in           => create_institution_in,
            create_institution_nin          => create_institution_nin,
            update_user_in                  => update_user_in,
            update_user_nin                 => update_user_nin,
            update_time_in                  => update_time_in,
            update_time_nin                 => update_time_nin,
            update_institution_in           => update_institution_in,
            update_institution_nin          => update_institution_nin,
            flg_referral_in                 => flg_referral_in,
            flg_referral_nin                => flg_referral_nin,
            dt_pend_req_tstz_in             => dt_pend_req_tstz_in,
            dt_pend_req_tstz_nin            => dt_pend_req_tstz_nin,
            id_interv_codification_in       => id_interv_codification_in,
            id_interv_codification_nin      => id_interv_codification_nin,
            id_exec_institution_in          => id_exec_institution_in,
            id_exec_institution_nin         => id_exec_institution_nin,
            flg_laterality_in               => flg_laterality_in,
            flg_laterality_nin              => flg_laterality_nin,
            flg_clinical_purpose_in         => flg_clinical_purpose_in,
            flg_clinical_purpose_nin        => flg_clinical_purpose_nin,
            id_presc_plan_task_in           => id_presc_plan_task_in,
            id_presc_plan_task_nin          => id_presc_plan_task_nin,
            id_not_order_reason_in          => id_not_order_reason_in,
            id_not_order_reason_nin         => id_not_order_reason_nin,
            id_cdr_event_in                 => id_cdr_event_in,
            id_cdr_event_nin                => id_cdr_event_nin,
            id_co_sign_order_in             => id_co_sign_order_in,
            id_co_sign_order_nin            => id_co_sign_order_nin,
            id_cancel_reason_in             => id_cancel_reason_in,
            id_cancel_reason_nin            => id_cancel_reason_nin,
            id_co_sign_cancel_in            => id_co_sign_cancel_in,
            id_co_sign_cancel_nin           => id_co_sign_cancel_nin,
            id_prof_last_update_in          => id_prof_last_update_in,
            id_prof_last_update_nin         => id_prof_last_update_nin,
            dt_last_update_tstz_in          => dt_last_update_tstz_in,
            dt_last_update_tstz_nin         => dt_last_update_tstz_nin,
            id_order_recurrence_in          => id_order_recurrence_in,
            id_order_recurrence_nin         => id_order_recurrence_nin,
            flg_fasting_in                  => flg_fasting_in,
            flg_fasting_nin                 => flg_fasting_nin,
            flg_prn_in                      => flg_prn_in,
            flg_prn_nin                     => flg_prn_nin,
            prn_notes_in                    => prn_notes_in,
            prn_notes_nin                   => prn_notes_nin,
            id_pat_health_plan_in           => id_pat_health_plan_in,
            id_pat_health_plan_nin          => id_pat_health_plan_nin,
            id_pat_exemption_in             => id_pat_exemption_in,
            id_pat_exemption_nin            => id_pat_exemption_nin,
            flg_req_origin_module_in        => flg_req_origin_module_in,
            flg_req_origin_module_nin       => flg_req_origin_module_nin,
            dt_order_tstz_in                => dt_order_tstz_in,
            dt_order_tstz_nin               => dt_order_tstz_nin,
            id_diagnosis_list_in            => id_diagnosis_list_in,
            id_diagnosis_list_nin           => id_diagnosis_list_nin,
            id_supplies_list_in             => id_supplies_list_in,
            id_supplies_list_nin            => id_supplies_list_nin,
            id_clinical_purpose_in          => id_clinical_purpose_in,
            id_clinical_purpose_nin         => id_clinical_purpose_nin,
            clinical_purpose_notes_in       => clinical_purpose_notes_in,
            clinical_purpose_notes_nin      => clinical_purpose_notes_nin,
            flg_location_in                 => flg_location_in,
            flg_location_nin                => flg_location_nin,
            diagnosis_notes_in              => diagnosis_notes_in,
            diagnosis_notes_nin             => diagnosis_notes_nin,
            handle_error_in                 => handle_error_in,
            rows_out                        => rows_out);
    END upd;

    --Update any/all columns by dynamic WHERE
    -- If you pass NULL, then the current column value is set to itself
    PROCEDURE upd
    (
        dt_interv_prescription_hist_in  IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        dt_interv_prescription_hist_nin IN BOOLEAN := TRUE,
        id_interv_presc_det_in          IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_presc_det_nin         IN BOOLEAN := TRUE,
        id_interv_prescription_in       IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_interv_prescription_nin      IN BOOLEAN := TRUE,
        id_intervention_in              IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_intervention_nin             IN BOOLEAN := TRUE,
        id_movement_in                  IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        id_movement_nin                 IN BOOLEAN := TRUE,
        flg_interv_type_in              IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_interv_type_nin             IN BOOLEAN := TRUE,
        flg_status_in                   IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        flg_status_nin                  IN BOOLEAN := TRUE,
        notes_in                        IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        notes_nin                       IN BOOLEAN := TRUE,
        id_prof_cancel_in               IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        id_prof_cancel_nin              IN BOOLEAN := TRUE,
        notes_cancel_in                 IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        notes_cancel_nin                IN BOOLEAN := TRUE,
        interval_in                     IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        interval_nin                    IN BOOLEAN := TRUE,
        num_take_in                     IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        num_take_nin                    IN BOOLEAN := TRUE,
        dosage_in                       IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        dosage_nin                      IN BOOLEAN := TRUE,
        id_drug_presc_det_in            IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_drug_presc_det_nin           IN BOOLEAN := TRUE,
        id_nurse_actv_req_det_in        IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_nin       IN BOOLEAN := TRUE,
        num_freq_in                     IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        num_freq_nin                    IN BOOLEAN := TRUE,
        flg_freq_in                     IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        flg_freq_nin                    IN BOOLEAN := TRUE,
        num_sess_in                     IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        num_sess_nin                    IN BOOLEAN := TRUE,
        flg_prty_in                     IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        flg_prty_nin                    IN BOOLEAN := TRUE,
        dt_end_tstz_in                  IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_end_tstz_nin                 IN BOOLEAN := TRUE,
        dt_begin_tstz_in                IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_nin               IN BOOLEAN := TRUE,
        dt_cancel_tstz_in               IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_nin              IN BOOLEAN := TRUE,
        dt_interv_presc_det_in          IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        dt_interv_presc_det_nin         IN BOOLEAN := TRUE,
        code_intervention_alias_in      IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        code_intervention_alias_nin     IN BOOLEAN := TRUE,
        create_user_in                  IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_user_nin                 IN BOOLEAN := TRUE,
        create_time_in                  IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_time_nin                 IN BOOLEAN := TRUE,
        create_institution_in           IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        create_institution_nin          IN BOOLEAN := TRUE,
        update_user_in                  IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_user_nin                 IN BOOLEAN := TRUE,
        update_time_in                  IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_time_nin                 IN BOOLEAN := TRUE,
        update_institution_in           IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        update_institution_nin          IN BOOLEAN := TRUE,
        flg_referral_in                 IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        flg_referral_nin                IN BOOLEAN := TRUE,
        dt_pend_req_tstz_in             IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        dt_pend_req_tstz_nin            IN BOOLEAN := TRUE,
        id_interv_codification_in       IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_interv_codification_nin      IN BOOLEAN := TRUE,
        id_exec_institution_in          IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        id_exec_institution_nin         IN BOOLEAN := TRUE,
        flg_laterality_in               IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_laterality_nin              IN BOOLEAN := TRUE,
        flg_clinical_purpose_in         IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        flg_clinical_purpose_nin        IN BOOLEAN := TRUE,
        id_presc_plan_task_in           IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_presc_plan_task_nin          IN BOOLEAN := TRUE,
        id_not_order_reason_in          IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_not_order_reason_nin         IN BOOLEAN := TRUE,
        id_cdr_event_in                 IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_cdr_event_nin                IN BOOLEAN := TRUE,
        id_co_sign_order_in             IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_co_sign_order_nin            IN BOOLEAN := TRUE,
        id_cancel_reason_in             IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_cancel_reason_nin            IN BOOLEAN := TRUE,
        id_co_sign_cancel_in            IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_co_sign_cancel_nin           IN BOOLEAN := TRUE,
        id_prof_last_update_in          IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        id_prof_last_update_nin         IN BOOLEAN := TRUE,
        dt_last_update_tstz_in          IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        dt_last_update_tstz_nin         IN BOOLEAN := TRUE,
        id_order_recurrence_in          IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        id_order_recurrence_nin         IN BOOLEAN := TRUE,
        flg_fasting_in                  IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_fasting_nin                 IN BOOLEAN := TRUE,
        flg_prn_in                      IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        flg_prn_nin                     IN BOOLEAN := TRUE,
        prn_notes_in                    IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        prn_notes_nin                   IN BOOLEAN := TRUE,
        id_pat_health_plan_in           IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_health_plan_nin          IN BOOLEAN := TRUE,
        id_pat_exemption_in             IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        id_pat_exemption_nin            IN BOOLEAN := TRUE,
        flg_req_origin_module_in        IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        flg_req_origin_module_nin       IN BOOLEAN := TRUE,
        dt_order_tstz_in                IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        dt_order_tstz_nin               IN BOOLEAN := TRUE,
        id_diagnosis_list_in            IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_diagnosis_list_nin           IN BOOLEAN := TRUE,
        id_supplies_list_in             IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_supplies_list_nin            IN BOOLEAN := TRUE,
        id_clinical_purpose_in          IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        id_clinical_purpose_nin         IN BOOLEAN := TRUE,
        clinical_purpose_notes_in       IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        clinical_purpose_notes_nin      IN BOOLEAN := TRUE,
        flg_location_in                 IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        flg_location_nin                IN BOOLEAN := TRUE,
        diagnosis_notes_in              IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        diagnosis_notes_nin             IN BOOLEAN := TRUE,
        where_in                        IN VARCHAR2,
        handle_error_in                 IN BOOLEAN := FALSE,
        rows_out                        IN OUT table_varchar
    ) IS
        l_sql                           VARCHAR2(32767);
        l_rows_out                      table_varchar;
        l_dt_interv_prescription_hist_n NUMBER(1) := sys.diutil.bool_to_int(dt_interv_prescription_hist_nin);
        l_id_interv_presc_det_n         NUMBER(1) := sys.diutil.bool_to_int(id_interv_presc_det_nin);
        l_id_interv_prescription_n      NUMBER(1) := sys.diutil.bool_to_int(id_interv_prescription_nin);
        l_id_intervention_n             NUMBER(1) := sys.diutil.bool_to_int(id_intervention_nin);
        l_id_movement_n                 NUMBER(1) := sys.diutil.bool_to_int(id_movement_nin);
        l_flg_interv_type_n             NUMBER(1) := sys.diutil.bool_to_int(flg_interv_type_nin);
        l_flg_status_n                  NUMBER(1) := sys.diutil.bool_to_int(flg_status_nin);
        l_notes_n                       NUMBER(1) := sys.diutil.bool_to_int(notes_nin);
        l_id_prof_cancel_n              NUMBER(1) := sys.diutil.bool_to_int(id_prof_cancel_nin);
        l_notes_cancel_n                NUMBER(1) := sys.diutil.bool_to_int(notes_cancel_nin);
        l_interval_n                    NUMBER(1) := sys.diutil.bool_to_int(interval_nin);
        l_num_take_n                    NUMBER(1) := sys.diutil.bool_to_int(num_take_nin);
        l_dosage_n                      NUMBER(1) := sys.diutil.bool_to_int(dosage_nin);
        l_id_drug_presc_det_n           NUMBER(1) := sys.diutil.bool_to_int(id_drug_presc_det_nin);
        l_id_nurse_actv_req_det_n       NUMBER(1) := sys.diutil.bool_to_int(id_nurse_actv_req_det_nin);
        l_num_freq_n                    NUMBER(1) := sys.diutil.bool_to_int(num_freq_nin);
        l_flg_freq_n                    NUMBER(1) := sys.diutil.bool_to_int(flg_freq_nin);
        l_num_sess_n                    NUMBER(1) := sys.diutil.bool_to_int(num_sess_nin);
        l_flg_prty_n                    NUMBER(1) := sys.diutil.bool_to_int(flg_prty_nin);
        l_dt_end_tstz_n                 NUMBER(1) := sys.diutil.bool_to_int(dt_end_tstz_nin);
        l_dt_begin_tstz_n               NUMBER(1) := sys.diutil.bool_to_int(dt_begin_tstz_nin);
        l_dt_cancel_tstz_n              NUMBER(1) := sys.diutil.bool_to_int(dt_cancel_tstz_nin);
        l_dt_interv_presc_det_n         NUMBER(1) := sys.diutil.bool_to_int(dt_interv_presc_det_nin);
        l_code_intervention_alias_n     NUMBER(1) := sys.diutil.bool_to_int(code_intervention_alias_nin);
        l_create_user_n                 NUMBER(1) := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n                 NUMBER(1) := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n          NUMBER(1) := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n                 NUMBER(1) := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n                 NUMBER(1) := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n          NUMBER(1) := sys.diutil.bool_to_int(update_institution_nin);
        l_flg_referral_n                NUMBER(1) := sys.diutil.bool_to_int(flg_referral_nin);
        l_dt_pend_req_tstz_n            NUMBER(1) := sys.diutil.bool_to_int(dt_pend_req_tstz_nin);
        l_id_interv_codification_n      NUMBER(1) := sys.diutil.bool_to_int(id_interv_codification_nin);
        l_id_exec_institution_n         NUMBER(1) := sys.diutil.bool_to_int(id_exec_institution_nin);
        l_flg_laterality_n              NUMBER(1) := sys.diutil.bool_to_int(flg_laterality_nin);
        l_flg_clinical_purpose_n        NUMBER(1) := sys.diutil.bool_to_int(flg_clinical_purpose_nin);
        l_id_presc_plan_task_n          NUMBER(1) := sys.diutil.bool_to_int(id_presc_plan_task_nin);
        l_id_not_order_reason_n         NUMBER(1) := sys.diutil.bool_to_int(id_not_order_reason_nin);
        l_id_cdr_event_n                NUMBER(1) := sys.diutil.bool_to_int(id_cdr_event_nin);
        l_id_co_sign_order_n            NUMBER(1) := sys.diutil.bool_to_int(id_co_sign_order_nin);
        l_id_cancel_reason_n            NUMBER(1) := sys.diutil.bool_to_int(id_cancel_reason_nin);
        l_id_co_sign_cancel_n           NUMBER(1) := sys.diutil.bool_to_int(id_co_sign_cancel_nin);
        l_id_prof_last_update_n         NUMBER(1) := sys.diutil.bool_to_int(id_prof_last_update_nin);
        l_dt_last_update_tstz_n         NUMBER(1) := sys.diutil.bool_to_int(dt_last_update_tstz_nin);
        l_id_order_recurrence_n         NUMBER(1) := sys.diutil.bool_to_int(id_order_recurrence_nin);
        l_flg_fasting_n                 NUMBER(1) := sys.diutil.bool_to_int(flg_fasting_nin);
        l_flg_prn_n                     NUMBER(1) := sys.diutil.bool_to_int(flg_prn_nin);
        l_prn_notes_n                   NUMBER(1) := sys.diutil.bool_to_int(prn_notes_nin);
        l_id_pat_health_plan_n          NUMBER(1) := sys.diutil.bool_to_int(id_pat_health_plan_nin);
        l_id_pat_exemption_n            NUMBER(1) := sys.diutil.bool_to_int(id_pat_exemption_nin);
        l_flg_req_origin_module_n       NUMBER(1) := sys.diutil.bool_to_int(flg_req_origin_module_nin);
        l_dt_order_tstz_n               NUMBER(1) := sys.diutil.bool_to_int(dt_order_tstz_nin);
        l_id_diagnosis_list_n           NUMBER(1) := sys.diutil.bool_to_int(id_diagnosis_list_nin);
        l_id_supplies_list_n            NUMBER(1) := sys.diutil.bool_to_int(id_supplies_list_nin);
        l_id_clinical_purpose_n         NUMBER(1) := sys.diutil.bool_to_int(id_clinical_purpose_nin);
        l_clinical_purpose_notes_n      NUMBER(1) := sys.diutil.bool_to_int(clinical_purpose_notes_nin);
        l_flg_location_n                NUMBER(1) := sys.diutil.bool_to_int(flg_location_nin);
        l_diagnosis_notes_n             NUMBER(1) := sys.diutil.bool_to_int(diagnosis_notes_nin);
    BEGIN
        l_dt_interv_prescription_hist_n := sys.diutil.bool_to_int(dt_interv_prescription_hist_nin);
        l_id_interv_presc_det_n         := sys.diutil.bool_to_int(id_interv_presc_det_nin);
        l_id_interv_prescription_n      := sys.diutil.bool_to_int(id_interv_prescription_nin);
        l_id_intervention_n             := sys.diutil.bool_to_int(id_intervention_nin);
        l_id_movement_n                 := sys.diutil.bool_to_int(id_movement_nin);
        l_flg_interv_type_n             := sys.diutil.bool_to_int(flg_interv_type_nin);
        l_flg_status_n                  := sys.diutil.bool_to_int(flg_status_nin);
        l_notes_n                       := sys.diutil.bool_to_int(notes_nin);
        l_id_prof_cancel_n              := sys.diutil.bool_to_int(id_prof_cancel_nin);
        l_notes_cancel_n                := sys.diutil.bool_to_int(notes_cancel_nin);
        l_interval_n                    := sys.diutil.bool_to_int(interval_nin);
        l_num_take_n                    := sys.diutil.bool_to_int(num_take_nin);
        l_dosage_n                      := sys.diutil.bool_to_int(dosage_nin);
        l_id_drug_presc_det_n           := sys.diutil.bool_to_int(id_drug_presc_det_nin);
        l_id_nurse_actv_req_det_n       := sys.diutil.bool_to_int(id_nurse_actv_req_det_nin);
        l_num_freq_n                    := sys.diutil.bool_to_int(num_freq_nin);
        l_flg_freq_n                    := sys.diutil.bool_to_int(flg_freq_nin);
        l_num_sess_n                    := sys.diutil.bool_to_int(num_sess_nin);
        l_flg_prty_n                    := sys.diutil.bool_to_int(flg_prty_nin);
        l_dt_end_tstz_n                 := sys.diutil.bool_to_int(dt_end_tstz_nin);
        l_dt_begin_tstz_n               := sys.diutil.bool_to_int(dt_begin_tstz_nin);
        l_dt_cancel_tstz_n              := sys.diutil.bool_to_int(dt_cancel_tstz_nin);
        l_dt_interv_presc_det_n         := sys.diutil.bool_to_int(dt_interv_presc_det_nin);
        l_code_intervention_alias_n     := sys.diutil.bool_to_int(code_intervention_alias_nin);
        l_create_user_n                 := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n                 := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n          := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n                 := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n                 := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n          := sys.diutil.bool_to_int(update_institution_nin);
        l_flg_referral_n                := sys.diutil.bool_to_int(flg_referral_nin);
        l_dt_pend_req_tstz_n            := sys.diutil.bool_to_int(dt_pend_req_tstz_nin);
        l_id_interv_codification_n      := sys.diutil.bool_to_int(id_interv_codification_nin);
        l_id_exec_institution_n         := sys.diutil.bool_to_int(id_exec_institution_nin);
        l_flg_laterality_n              := sys.diutil.bool_to_int(flg_laterality_nin);
        l_flg_clinical_purpose_n        := sys.diutil.bool_to_int(flg_clinical_purpose_nin);
        l_id_presc_plan_task_n          := sys.diutil.bool_to_int(id_presc_plan_task_nin);
        l_id_not_order_reason_n         := sys.diutil.bool_to_int(id_not_order_reason_nin);
        l_id_cdr_event_n                := sys.diutil.bool_to_int(id_cdr_event_nin);
        l_id_co_sign_order_n            := sys.diutil.bool_to_int(id_co_sign_order_nin);
        l_id_cancel_reason_n            := sys.diutil.bool_to_int(id_cancel_reason_nin);
        l_id_co_sign_cancel_n           := sys.diutil.bool_to_int(id_co_sign_cancel_nin);
        l_id_prof_last_update_n         := sys.diutil.bool_to_int(id_prof_last_update_nin);
        l_dt_last_update_tstz_n         := sys.diutil.bool_to_int(dt_last_update_tstz_nin);
        l_id_order_recurrence_n         := sys.diutil.bool_to_int(id_order_recurrence_nin);
        l_flg_fasting_n                 := sys.diutil.bool_to_int(flg_fasting_nin);
        l_flg_prn_n                     := sys.diutil.bool_to_int(flg_prn_nin);
        l_prn_notes_n                   := sys.diutil.bool_to_int(prn_notes_nin);
        l_id_pat_health_plan_n          := sys.diutil.bool_to_int(id_pat_health_plan_nin);
        l_id_pat_exemption_n            := sys.diutil.bool_to_int(id_pat_exemption_nin);
        l_flg_req_origin_module_n       := sys.diutil.bool_to_int(flg_req_origin_module_nin);
        l_dt_order_tstz_n               := sys.diutil.bool_to_int(dt_order_tstz_nin);
        l_id_diagnosis_list_n           := sys.diutil.bool_to_int(id_diagnosis_list_nin);
        l_id_supplies_list_n            := sys.diutil.bool_to_int(id_supplies_list_nin);
        l_id_clinical_purpose_n         := sys.diutil.bool_to_int(id_clinical_purpose_nin);
        l_clinical_purpose_notes_n      := sys.diutil.bool_to_int(clinical_purpose_notes_nin);
        l_flg_location_n                := sys.diutil.bool_to_int(flg_location_nin);
        l_diagnosis_notes_n             := sys.diutil.bool_to_int(diagnosis_notes_nin);
        l_sql                           := 'UPDATE interv_presc_det_hist SET' ||
                                           ' DT_INTERV_PRESCRIPTION_HIST = decode (' || l_dt_interv_prescription_hist_n ||
                                           ',0,:DT_INTERV_PRESCRIPTION_HIST_in, NVL (:DT_INTERV_PRESCRIPTION_HIST_in, DT_INTERV_PRESCRIPTION_HIST)) ' || ',' ||
                                           ' ID_INTERV_PRESC_DET = decode (' || l_id_interv_presc_det_n ||
                                           ',0,:ID_INTERV_PRESC_DET_in, NVL (:ID_INTERV_PRESC_DET_in, ID_INTERV_PRESC_DET)) ' || ',' ||
                                           ' ID_INTERV_PRESCRIPTION = decode (' || l_id_interv_prescription_n ||
                                           ',0,:ID_INTERV_PRESCRIPTION_in, NVL (:ID_INTERV_PRESCRIPTION_in, ID_INTERV_PRESCRIPTION)) ' || ',' ||
                                           ' ID_INTERVENTION = decode (' || l_id_intervention_n ||
                                           ',0,:ID_INTERVENTION_in, NVL (:ID_INTERVENTION_in, ID_INTERVENTION)) ' || ',' ||
                                           ' ID_MOVEMENT = decode (' || l_id_movement_n ||
                                           ',0,:ID_MOVEMENT_in, NVL (:ID_MOVEMENT_in, ID_MOVEMENT)) ' || ',' ||
                                           ' FLG_INTERV_TYPE = decode (' || l_flg_interv_type_n ||
                                           ',0,:FLG_INTERV_TYPE_in, NVL (:FLG_INTERV_TYPE_in, FLG_INTERV_TYPE)) ' || ',' ||
                                           ' FLG_STATUS = decode (' || l_flg_status_n ||
                                           ',0,:FLG_STATUS_in, NVL (:FLG_STATUS_in, FLG_STATUS)) ' || ',' ||
                                           ' NOTES = decode (' || l_notes_n || ',0,:NOTES_in, NVL (:NOTES_in, NOTES)) ' || ',' ||
                                           ' ID_PROF_CANCEL = decode (' || l_id_prof_cancel_n ||
                                           ',0,:ID_PROF_CANCEL_in, NVL (:ID_PROF_CANCEL_in, ID_PROF_CANCEL)) ' || ',' ||
                                           ' NOTES_CANCEL = decode (' || l_notes_cancel_n ||
                                           ',0,:NOTES_CANCEL_in, NVL (:NOTES_CANCEL_in, NOTES_CANCEL)) ' || ',' ||
                                           ' INTERVAL = decode (' || l_interval_n ||
                                           ',0,:INTERVAL_in, NVL (:INTERVAL_in, INTERVAL)) ' || ',' ||
                                           ' NUM_TAKE = decode (' || l_num_take_n ||
                                           ',0,:NUM_TAKE_in, NVL (:NUM_TAKE_in, NUM_TAKE)) ' || ',' ||
                                           ' DOSAGE = decode (' || l_dosage_n ||
                                           ',0,:DOSAGE_in, NVL (:DOSAGE_in, DOSAGE)) ' || ',' ||
                                           ' ID_DRUG_PRESC_DET = decode (' || l_id_drug_presc_det_n ||
                                           ',0,:ID_DRUG_PRESC_DET_in, NVL (:ID_DRUG_PRESC_DET_in, ID_DRUG_PRESC_DET)) ' || ',' ||
                                           ' ID_NURSE_ACTV_REQ_DET = decode (' || l_id_nurse_actv_req_det_n ||
                                           ',0,:ID_NURSE_ACTV_REQ_DET_in, NVL (:ID_NURSE_ACTV_REQ_DET_in, ID_NURSE_ACTV_REQ_DET)) ' || ',' ||
                                           ' NUM_FREQ = decode (' || l_num_freq_n ||
                                           ',0,:NUM_FREQ_in, NVL (:NUM_FREQ_in, NUM_FREQ)) ' || ',' ||
                                           ' FLG_FREQ = decode (' || l_flg_freq_n ||
                                           ',0,:FLG_FREQ_in, NVL (:FLG_FREQ_in, FLG_FREQ)) ' || ',' ||
                                           ' NUM_SESS = decode (' || l_num_sess_n ||
                                           ',0,:NUM_SESS_in, NVL (:NUM_SESS_in, NUM_SESS)) ' || ',' ||
                                           ' FLG_PRTY = decode (' || l_flg_prty_n ||
                                           ',0,:FLG_PRTY_in, NVL (:FLG_PRTY_in, FLG_PRTY)) ' || ',' ||
                                           ' DT_END_TSTZ = decode (' || l_dt_end_tstz_n ||
                                           ',0,:DT_END_TSTZ_in, NVL (:DT_END_TSTZ_in, DT_END_TSTZ)) ' || ',' ||
                                           ' DT_BEGIN_TSTZ = decode (' || l_dt_begin_tstz_n ||
                                           ',0,:DT_BEGIN_TSTZ_in, NVL (:DT_BEGIN_TSTZ_in, DT_BEGIN_TSTZ)) ' || ',' ||
                                           ' DT_CANCEL_TSTZ = decode (' || l_dt_cancel_tstz_n ||
                                           ',0,:DT_CANCEL_TSTZ_in, NVL (:DT_CANCEL_TSTZ_in, DT_CANCEL_TSTZ)) ' || ',' ||
                                           ' DT_INTERV_PRESC_DET = decode (' || l_dt_interv_presc_det_n ||
                                           ',0,:DT_INTERV_PRESC_DET_in, NVL (:DT_INTERV_PRESC_DET_in, DT_INTERV_PRESC_DET)) ' || ',' ||
                                           ' CODE_INTERVENTION_ALIAS = decode (' || l_code_intervention_alias_n ||
                                           ',0,:CODE_INTERVENTION_ALIAS_in, NVL (:CODE_INTERVENTION_ALIAS_in, CODE_INTERVENTION_ALIAS)) ' || ',' ||
                                           ' CREATE_USER = decode (' || l_create_user_n ||
                                           ',0,:CREATE_USER_in, NVL (:CREATE_USER_in, CREATE_USER)) ' || ',' ||
                                           ' CREATE_TIME = decode (' || l_create_time_n ||
                                           ',0,:CREATE_TIME_in, NVL (:CREATE_TIME_in, CREATE_TIME)) ' || ',' ||
                                           ' CREATE_INSTITUTION = decode (' || l_create_institution_n ||
                                           ',0,:CREATE_INSTITUTION_in, NVL (:CREATE_INSTITUTION_in, CREATE_INSTITUTION)) ' || ',' ||
                                           ' UPDATE_USER = decode (' || l_update_user_n ||
                                           ',0,:UPDATE_USER_in, NVL (:UPDATE_USER_in, UPDATE_USER)) ' || ',' ||
                                           ' UPDATE_TIME = decode (' || l_update_time_n ||
                                           ',0,:UPDATE_TIME_in, NVL (:UPDATE_TIME_in, UPDATE_TIME)) ' || ',' ||
                                           ' UPDATE_INSTITUTION = decode (' || l_update_institution_n ||
                                           ',0,:UPDATE_INSTITUTION_in, NVL (:UPDATE_INSTITUTION_in, UPDATE_INSTITUTION)) ' || ',' ||
                                           ' FLG_REFERRAL = decode (' || l_flg_referral_n ||
                                           ',0,:FLG_REFERRAL_in, NVL (:FLG_REFERRAL_in, FLG_REFERRAL)) ' || ',' ||
                                           ' DT_PEND_REQ_TSTZ = decode (' || l_dt_pend_req_tstz_n ||
                                           ',0,:DT_PEND_REQ_TSTZ_in, NVL (:DT_PEND_REQ_TSTZ_in, DT_PEND_REQ_TSTZ)) ' || ',' ||
                                           ' ID_INTERV_CODIFICATION = decode (' || l_id_interv_codification_n ||
                                           ',0,:ID_INTERV_CODIFICATION_in, NVL (:ID_INTERV_CODIFICATION_in, ID_INTERV_CODIFICATION)) ' || ',' ||
                                           ' ID_EXEC_INSTITUTION = decode (' || l_id_exec_institution_n ||
                                           ',0,:ID_EXEC_INSTITUTION_in, NVL (:ID_EXEC_INSTITUTION_in, ID_EXEC_INSTITUTION)) ' || ',' ||
                                           ' FLG_LATERALITY = decode (' || l_flg_laterality_n ||
                                           ',0,:FLG_LATERALITY_in, NVL (:FLG_LATERALITY_in, FLG_LATERALITY)) ' || ',' ||
                                           ' FLG_CLINICAL_PURPOSE = decode (' || l_flg_clinical_purpose_n ||
                                           ',0,:FLG_CLINICAL_PURPOSE_in, NVL (:FLG_CLINICAL_PURPOSE_in, FLG_CLINICAL_PURPOSE)) ' || ',' ||
                                           ' ID_PRESC_PLAN_TASK = decode (' || l_id_presc_plan_task_n ||
                                           ',0,:ID_PRESC_PLAN_TASK_in, NVL (:ID_PRESC_PLAN_TASK_in, ID_PRESC_PLAN_TASK)) ' || ',' ||
                                           ' ID_NOT_ORDER_REASON = decode (' || l_id_not_order_reason_n ||
                                           ',0,:ID_NOT_ORDER_REASON_in, NVL (:ID_NOT_ORDER_REASON_in, ID_NOT_ORDER_REASON)) ' || ',' ||
                                           ' ID_CDR_EVENT = decode (' || l_id_cdr_event_n ||
                                           ',0,:ID_CDR_EVENT_in, NVL (:ID_CDR_EVENT_in, ID_CDR_EVENT)) ' || ',' ||
                                           ' ID_CO_SIGN_ORDER = decode (' || l_id_co_sign_order_n ||
                                           ',0,:ID_CO_SIGN_ORDER_in, NVL (:ID_CO_SIGN_ORDER_in, ID_CO_SIGN_ORDER)) ' || ',' ||
                                           ' ID_CANCEL_REASON = decode (' || l_id_cancel_reason_n ||
                                           ',0,:ID_CANCEL_REASON_in, NVL (:ID_CANCEL_REASON_in, ID_CANCEL_REASON)) ' || ',' ||
                                           ' ID_CO_SIGN_CANCEL = decode (' || l_id_co_sign_cancel_n ||
                                           ',0,:ID_CO_SIGN_CANCEL_in, NVL (:ID_CO_SIGN_CANCEL_in, ID_CO_SIGN_CANCEL)) ' || ',' ||
                                           ' ID_PROF_LAST_UPDATE = decode (' || l_id_prof_last_update_n ||
                                           ',0,:ID_PROF_LAST_UPDATE_in, NVL (:ID_PROF_LAST_UPDATE_in, ID_PROF_LAST_UPDATE)) ' || ',' ||
                                           ' DT_LAST_UPDATE_TSTZ = decode (' || l_dt_last_update_tstz_n ||
                                           ',0,:DT_LAST_UPDATE_TSTZ_in, NVL (:DT_LAST_UPDATE_TSTZ_in, DT_LAST_UPDATE_TSTZ)) ' || ',' ||
                                           ' ID_ORDER_RECURRENCE = decode (' || l_id_order_recurrence_n ||
                                           ',0,:ID_ORDER_RECURRENCE_in, NVL (:ID_ORDER_RECURRENCE_in, ID_ORDER_RECURRENCE)) ' || ',' ||
                                           ' FLG_FASTING = decode (' || l_flg_fasting_n ||
                                           ',0,:FLG_FASTING_in, NVL (:FLG_FASTING_in, FLG_FASTING)) ' || ',' ||
                                           ' FLG_PRN = decode (' || l_flg_prn_n ||
                                           ',0,:FLG_PRN_in, NVL (:FLG_PRN_in, FLG_PRN)) ' || ',' ||
                                           ' PRN_NOTES = decode (' || l_prn_notes_n ||
                                           ',0,:PRN_NOTES_in, NVL (:PRN_NOTES_in, PRN_NOTES)) ' || ',' ||
                                           ' ID_PAT_HEALTH_PLAN = decode (' || l_id_pat_health_plan_n ||
                                           ',0,:ID_PAT_HEALTH_PLAN_in, NVL (:ID_PAT_HEALTH_PLAN_in, ID_PAT_HEALTH_PLAN)) ' || ',' ||
                                           ' ID_PAT_EXEMPTION = decode (' || l_id_pat_exemption_n ||
                                           ',0,:ID_PAT_EXEMPTION_in, NVL (:ID_PAT_EXEMPTION_in, ID_PAT_EXEMPTION)) ' || ',' ||
                                           ' FLG_REQ_ORIGIN_MODULE = decode (' || l_flg_req_origin_module_n ||
                                           ',0,:FLG_REQ_ORIGIN_MODULE_in, NVL (:FLG_REQ_ORIGIN_MODULE_in, FLG_REQ_ORIGIN_MODULE)) ' || ',' ||
                                           ' DT_ORDER_TSTZ = decode (' || l_dt_order_tstz_n ||
                                           ',0,:DT_ORDER_TSTZ_in, NVL (:DT_ORDER_TSTZ_in, DT_ORDER_TSTZ)) ' || ',' ||
                                           ' ID_DIAGNOSIS_LIST = decode (' || l_id_diagnosis_list_n ||
                                           ',0,:ID_DIAGNOSIS_LIST_in, NVL (:ID_DIAGNOSIS_LIST_in, ID_DIAGNOSIS_LIST)) ' || ',' ||
                                           ' ID_SUPPLIES_LIST = decode (' || l_id_supplies_list_n ||
                                           ',0,:ID_SUPPLIES_LIST_in, NVL (:ID_SUPPLIES_LIST_in, ID_SUPPLIES_LIST)) ' || ',' ||
                                           ' ID_CLINICAL_PURPOSE = decode (' || l_id_clinical_purpose_n ||
                                           ',0,:ID_CLINICAL_PURPOSE_in, NVL (:ID_CLINICAL_PURPOSE_in, ID_CLINICAL_PURPOSE)) ' || ',' ||
                                           ' CLINICAL_PURPOSE_NOTES = decode (' || l_clinical_purpose_notes_n ||
                                           ',0,:CLINICAL_PURPOSE_NOTES_in, NVL (:CLINICAL_PURPOSE_NOTES_in, CLINICAL_PURPOSE_NOTES)) ' || ',' ||
                                           ' FLG_LOCATION = decode (' || l_flg_location_n ||
                                           ',0,:FLG_LOCATION_in, NVL (:FLG_LOCATION_in, FLG_LOCATION)) ' || ',' ||
                                           ' DIAGNOSIS_NOTES = decode (' || l_diagnosis_notes_n ||
                                           ',0,:DIAGNOSIS_NOTES_in, NVL (:DIAGNOSIS_NOTES_in, DIAGNOSIS_NOTES)) ' ||
                                           ' where ' || nvl(where_in, '(1=1)') ||
                                           ' RETURNING ROWID BULK COLLECT INTO :l_rows_out';
        EXECUTE IMMEDIATE 'BEGIN ' || l_sql || '; END;'
            USING IN dt_interv_prescription_hist_in, id_interv_presc_det_in, id_interv_prescription_in, id_intervention_in, id_movement_in, flg_interv_type_in, flg_status_in, notes_in, id_prof_cancel_in, notes_cancel_in, interval_in, num_take_in, dosage_in, id_drug_presc_det_in, id_nurse_actv_req_det_in, num_freq_in, flg_freq_in, num_sess_in, flg_prty_in, dt_end_tstz_in, dt_begin_tstz_in, dt_cancel_tstz_in, dt_interv_presc_det_in, code_intervention_alias_in, create_user_in, create_time_in, create_institution_in, update_user_in, update_time_in, update_institution_in, flg_referral_in, dt_pend_req_tstz_in, id_interv_codification_in, id_exec_institution_in, flg_laterality_in, flg_clinical_purpose_in, id_presc_plan_task_in, id_not_order_reason_in, id_cdr_event_in, id_co_sign_order_in, id_cancel_reason_in, id_co_sign_cancel_in, id_prof_last_update_in, dt_last_update_tstz_in, id_order_recurrence_in, flg_fasting_in, flg_prn_in, prn_notes_in, id_pat_health_plan_in, id_pat_exemption_in, flg_req_origin_module_in, dt_order_tstz_in, id_diagnosis_list_in, id_supplies_list_in, id_clinical_purpose_in, clinical_purpose_notes_in, flg_location_in, diagnosis_notes_in, OUT l_rows_out;
        IF (rows_out IS NULL)
        THEN
            rows_out := table_varchar();
        END IF;
        rows_out := rows_out MULTISET UNION DISTINCT l_rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    --Update any/all columns by dynamic WHERE
    -- If you pass NULL, then the current column value is set to itself
    PROCEDURE upd
    (
        dt_interv_prescription_hist_in  IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        dt_interv_prescription_hist_nin IN BOOLEAN := TRUE,
        id_interv_presc_det_in          IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_presc_det_nin         IN BOOLEAN := TRUE,
        id_interv_prescription_in       IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_interv_prescription_nin      IN BOOLEAN := TRUE,
        id_intervention_in              IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_intervention_nin             IN BOOLEAN := TRUE,
        id_movement_in                  IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        id_movement_nin                 IN BOOLEAN := TRUE,
        flg_interv_type_in              IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_interv_type_nin             IN BOOLEAN := TRUE,
        flg_status_in                   IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        flg_status_nin                  IN BOOLEAN := TRUE,
        notes_in                        IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        notes_nin                       IN BOOLEAN := TRUE,
        id_prof_cancel_in               IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        id_prof_cancel_nin              IN BOOLEAN := TRUE,
        notes_cancel_in                 IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        notes_cancel_nin                IN BOOLEAN := TRUE,
        interval_in                     IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        interval_nin                    IN BOOLEAN := TRUE,
        num_take_in                     IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        num_take_nin                    IN BOOLEAN := TRUE,
        dosage_in                       IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        dosage_nin                      IN BOOLEAN := TRUE,
        id_drug_presc_det_in            IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_drug_presc_det_nin           IN BOOLEAN := TRUE,
        id_nurse_actv_req_det_in        IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_nin       IN BOOLEAN := TRUE,
        num_freq_in                     IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        num_freq_nin                    IN BOOLEAN := TRUE,
        flg_freq_in                     IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        flg_freq_nin                    IN BOOLEAN := TRUE,
        num_sess_in                     IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        num_sess_nin                    IN BOOLEAN := TRUE,
        flg_prty_in                     IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        flg_prty_nin                    IN BOOLEAN := TRUE,
        dt_end_tstz_in                  IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_end_tstz_nin                 IN BOOLEAN := TRUE,
        dt_begin_tstz_in                IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_nin               IN BOOLEAN := TRUE,
        dt_cancel_tstz_in               IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_nin              IN BOOLEAN := TRUE,
        dt_interv_presc_det_in          IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        dt_interv_presc_det_nin         IN BOOLEAN := TRUE,
        code_intervention_alias_in      IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        code_intervention_alias_nin     IN BOOLEAN := TRUE,
        create_user_in                  IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_user_nin                 IN BOOLEAN := TRUE,
        create_time_in                  IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_time_nin                 IN BOOLEAN := TRUE,
        create_institution_in           IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        create_institution_nin          IN BOOLEAN := TRUE,
        update_user_in                  IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_user_nin                 IN BOOLEAN := TRUE,
        update_time_in                  IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_time_nin                 IN BOOLEAN := TRUE,
        update_institution_in           IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        update_institution_nin          IN BOOLEAN := TRUE,
        flg_referral_in                 IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        flg_referral_nin                IN BOOLEAN := TRUE,
        dt_pend_req_tstz_in             IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        dt_pend_req_tstz_nin            IN BOOLEAN := TRUE,
        id_interv_codification_in       IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_interv_codification_nin      IN BOOLEAN := TRUE,
        id_exec_institution_in          IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        id_exec_institution_nin         IN BOOLEAN := TRUE,
        flg_laterality_in               IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_laterality_nin              IN BOOLEAN := TRUE,
        flg_clinical_purpose_in         IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        flg_clinical_purpose_nin        IN BOOLEAN := TRUE,
        id_presc_plan_task_in           IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_presc_plan_task_nin          IN BOOLEAN := TRUE,
        id_not_order_reason_in          IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_not_order_reason_nin         IN BOOLEAN := TRUE,
        id_cdr_event_in                 IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_cdr_event_nin                IN BOOLEAN := TRUE,
        id_co_sign_order_in             IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_co_sign_order_nin            IN BOOLEAN := TRUE,
        id_cancel_reason_in             IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_cancel_reason_nin            IN BOOLEAN := TRUE,
        id_co_sign_cancel_in            IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_co_sign_cancel_nin           IN BOOLEAN := TRUE,
        id_prof_last_update_in          IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        id_prof_last_update_nin         IN BOOLEAN := TRUE,
        dt_last_update_tstz_in          IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        dt_last_update_tstz_nin         IN BOOLEAN := TRUE,
        id_order_recurrence_in          IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        id_order_recurrence_nin         IN BOOLEAN := TRUE,
        flg_fasting_in                  IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_fasting_nin                 IN BOOLEAN := TRUE,
        flg_prn_in                      IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        flg_prn_nin                     IN BOOLEAN := TRUE,
        prn_notes_in                    IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        prn_notes_nin                   IN BOOLEAN := TRUE,
        id_pat_health_plan_in           IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_health_plan_nin          IN BOOLEAN := TRUE,
        id_pat_exemption_in             IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        id_pat_exemption_nin            IN BOOLEAN := TRUE,
        flg_req_origin_module_in        IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        flg_req_origin_module_nin       IN BOOLEAN := TRUE,
        dt_order_tstz_in                IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        dt_order_tstz_nin               IN BOOLEAN := TRUE,
        id_diagnosis_list_in            IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_diagnosis_list_nin           IN BOOLEAN := TRUE,
        id_supplies_list_in             IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_supplies_list_nin            IN BOOLEAN := TRUE,
        id_clinical_purpose_in          IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        id_clinical_purpose_nin         IN BOOLEAN := TRUE,
        clinical_purpose_notes_in       IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        clinical_purpose_notes_nin      IN BOOLEAN := TRUE,
        flg_location_in                 IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        flg_location_nin                IN BOOLEAN := TRUE,
        diagnosis_notes_in              IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        diagnosis_notes_nin             IN BOOLEAN := TRUE,
        where_in                        IN VARCHAR2,
        handle_error_in                 IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(dt_interv_prescription_hist_in  => dt_interv_prescription_hist_in,
            dt_interv_prescription_hist_nin => dt_interv_prescription_hist_nin,
            id_interv_presc_det_in          => id_interv_presc_det_in,
            id_interv_presc_det_nin         => id_interv_presc_det_nin,
            id_interv_prescription_in       => id_interv_prescription_in,
            id_interv_prescription_nin      => id_interv_prescription_nin,
            id_intervention_in              => id_intervention_in,
            id_intervention_nin             => id_intervention_nin,
            id_movement_in                  => id_movement_in,
            id_movement_nin                 => id_movement_nin,
            flg_interv_type_in              => flg_interv_type_in,
            flg_interv_type_nin             => flg_interv_type_nin,
            flg_status_in                   => flg_status_in,
            flg_status_nin                  => flg_status_nin,
            notes_in                        => notes_in,
            notes_nin                       => notes_nin,
            id_prof_cancel_in               => id_prof_cancel_in,
            id_prof_cancel_nin              => id_prof_cancel_nin,
            notes_cancel_in                 => notes_cancel_in,
            notes_cancel_nin                => notes_cancel_nin,
            interval_in                     => interval_in,
            interval_nin                    => interval_nin,
            num_take_in                     => num_take_in,
            num_take_nin                    => num_take_nin,
            dosage_in                       => dosage_in,
            dosage_nin                      => dosage_nin,
            id_drug_presc_det_in            => id_drug_presc_det_in,
            id_drug_presc_det_nin           => id_drug_presc_det_nin,
            id_nurse_actv_req_det_in        => id_nurse_actv_req_det_in,
            id_nurse_actv_req_det_nin       => id_nurse_actv_req_det_nin,
            num_freq_in                     => num_freq_in,
            num_freq_nin                    => num_freq_nin,
            flg_freq_in                     => flg_freq_in,
            flg_freq_nin                    => flg_freq_nin,
            num_sess_in                     => num_sess_in,
            num_sess_nin                    => num_sess_nin,
            flg_prty_in                     => flg_prty_in,
            flg_prty_nin                    => flg_prty_nin,
            dt_end_tstz_in                  => dt_end_tstz_in,
            dt_end_tstz_nin                 => dt_end_tstz_nin,
            dt_begin_tstz_in                => dt_begin_tstz_in,
            dt_begin_tstz_nin               => dt_begin_tstz_nin,
            dt_cancel_tstz_in               => dt_cancel_tstz_in,
            dt_cancel_tstz_nin              => dt_cancel_tstz_nin,
            dt_interv_presc_det_in          => dt_interv_presc_det_in,
            dt_interv_presc_det_nin         => dt_interv_presc_det_nin,
            code_intervention_alias_in      => code_intervention_alias_in,
            code_intervention_alias_nin     => code_intervention_alias_nin,
            create_user_in                  => create_user_in,
            create_user_nin                 => create_user_nin,
            create_time_in                  => create_time_in,
            create_time_nin                 => create_time_nin,
            create_institution_in           => create_institution_in,
            create_institution_nin          => create_institution_nin,
            update_user_in                  => update_user_in,
            update_user_nin                 => update_user_nin,
            update_time_in                  => update_time_in,
            update_time_nin                 => update_time_nin,
            update_institution_in           => update_institution_in,
            update_institution_nin          => update_institution_nin,
            flg_referral_in                 => flg_referral_in,
            flg_referral_nin                => flg_referral_nin,
            dt_pend_req_tstz_in             => dt_pend_req_tstz_in,
            dt_pend_req_tstz_nin            => dt_pend_req_tstz_nin,
            id_interv_codification_in       => id_interv_codification_in,
            id_interv_codification_nin      => id_interv_codification_nin,
            id_exec_institution_in          => id_exec_institution_in,
            id_exec_institution_nin         => id_exec_institution_nin,
            flg_laterality_in               => flg_laterality_in,
            flg_laterality_nin              => flg_laterality_nin,
            flg_clinical_purpose_in         => flg_clinical_purpose_in,
            flg_clinical_purpose_nin        => flg_clinical_purpose_nin,
            id_presc_plan_task_in           => id_presc_plan_task_in,
            id_presc_plan_task_nin          => id_presc_plan_task_nin,
            id_not_order_reason_in          => id_not_order_reason_in,
            id_not_order_reason_nin         => id_not_order_reason_nin,
            id_cdr_event_in                 => id_cdr_event_in,
            id_cdr_event_nin                => id_cdr_event_nin,
            id_co_sign_order_in             => id_co_sign_order_in,
            id_co_sign_order_nin            => id_co_sign_order_nin,
            id_cancel_reason_in             => id_cancel_reason_in,
            id_cancel_reason_nin            => id_cancel_reason_nin,
            id_co_sign_cancel_in            => id_co_sign_cancel_in,
            id_co_sign_cancel_nin           => id_co_sign_cancel_nin,
            id_prof_last_update_in          => id_prof_last_update_in,
            id_prof_last_update_nin         => id_prof_last_update_nin,
            dt_last_update_tstz_in          => dt_last_update_tstz_in,
            dt_last_update_tstz_nin         => dt_last_update_tstz_nin,
            id_order_recurrence_in          => id_order_recurrence_in,
            id_order_recurrence_nin         => id_order_recurrence_nin,
            flg_fasting_in                  => flg_fasting_in,
            flg_fasting_nin                 => flg_fasting_nin,
            flg_prn_in                      => flg_prn_in,
            flg_prn_nin                     => flg_prn_nin,
            prn_notes_in                    => prn_notes_in,
            prn_notes_nin                   => prn_notes_nin,
            id_pat_health_plan_in           => id_pat_health_plan_in,
            id_pat_health_plan_nin          => id_pat_health_plan_nin,
            id_pat_exemption_in             => id_pat_exemption_in,
            id_pat_exemption_nin            => id_pat_exemption_nin,
            flg_req_origin_module_in        => flg_req_origin_module_in,
            flg_req_origin_module_nin       => flg_req_origin_module_nin,
            dt_order_tstz_in                => dt_order_tstz_in,
            dt_order_tstz_nin               => dt_order_tstz_nin,
            id_diagnosis_list_in            => id_diagnosis_list_in,
            id_diagnosis_list_nin           => id_diagnosis_list_nin,
            id_supplies_list_in             => id_supplies_list_in,
            id_supplies_list_nin            => id_supplies_list_nin,
            id_clinical_purpose_in          => id_clinical_purpose_in,
            id_clinical_purpose_nin         => id_clinical_purpose_nin,
            clinical_purpose_notes_in       => clinical_purpose_notes_in,
            clinical_purpose_notes_nin      => clinical_purpose_notes_nin,
            flg_location_in                 => flg_location_in,
            flg_location_nin                => flg_location_nin,
            diagnosis_notes_in              => diagnosis_notes_in,
            diagnosis_notes_nin             => diagnosis_notes_nin,
            where_in                        => where_in,
            handle_error_in                 => handle_error_in,
            rows_out                        => rows_out);
    END upd;

    --Update/insert columns (with rows_out)
    PROCEDURE upd_ins
    (
        id_interv_presc_det_hist_in    IN interv_presc_det_hist.id_interv_presc_det_hist%TYPE,
        dt_interv_prescription_hist_in IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        id_interv_presc_det_in         IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_prescription_in      IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_intervention_in             IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_movement_in                 IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        flg_interv_type_in             IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_status_in                  IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        notes_in                       IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        id_prof_cancel_in              IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        notes_cancel_in                IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        interval_in                    IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        num_take_in                    IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        dosage_in                      IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        id_drug_presc_det_in           IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_in       IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        num_freq_in                    IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        flg_freq_in                    IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        num_sess_in                    IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        flg_prty_in                    IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        dt_end_tstz_in                 IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_in               IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in              IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_interv_presc_det_in         IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        code_intervention_alias_in     IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        create_user_in                 IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_time_in                 IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_institution_in          IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        update_user_in                 IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_time_in                 IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_institution_in          IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        flg_referral_in                IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        dt_pend_req_tstz_in            IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        id_interv_codification_in      IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_exec_institution_in         IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        flg_laterality_in              IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_clinical_purpose_in        IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        id_presc_plan_task_in          IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_not_order_reason_in         IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_cdr_event_in                IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_co_sign_order_in            IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_cancel_reason_in            IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_co_sign_cancel_in           IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_prof_last_update_in         IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        dt_last_update_tstz_in         IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        id_order_recurrence_in         IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        flg_fasting_in                 IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_prn_in                     IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        prn_notes_in                   IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        id_pat_health_plan_in          IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_exemption_in            IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        flg_req_origin_module_in       IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        dt_order_tstz_in               IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        id_diagnosis_list_in           IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_supplies_list_in            IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_clinical_purpose_in         IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        clinical_purpose_notes_in      IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        flg_location_in                IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        diagnosis_notes_in             IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        handle_error_in                IN BOOLEAN := FALSE,
        rows_out                       IN OUT table_varchar
    ) IS
    BEGIN
        upd(id_interv_presc_det_hist_in    => id_interv_presc_det_hist_in,
            dt_interv_prescription_hist_in => dt_interv_prescription_hist_in,
            id_interv_presc_det_in         => id_interv_presc_det_in,
            id_interv_prescription_in      => id_interv_prescription_in,
            id_intervention_in             => id_intervention_in,
            id_movement_in                 => id_movement_in,
            flg_interv_type_in             => flg_interv_type_in,
            flg_status_in                  => flg_status_in,
            notes_in                       => notes_in,
            id_prof_cancel_in              => id_prof_cancel_in,
            notes_cancel_in                => notes_cancel_in,
            interval_in                    => interval_in,
            num_take_in                    => num_take_in,
            dosage_in                      => dosage_in,
            id_drug_presc_det_in           => id_drug_presc_det_in,
            id_nurse_actv_req_det_in       => id_nurse_actv_req_det_in,
            num_freq_in                    => num_freq_in,
            flg_freq_in                    => flg_freq_in,
            num_sess_in                    => num_sess_in,
            flg_prty_in                    => flg_prty_in,
            dt_end_tstz_in                 => dt_end_tstz_in,
            dt_begin_tstz_in               => dt_begin_tstz_in,
            dt_cancel_tstz_in              => dt_cancel_tstz_in,
            dt_interv_presc_det_in         => dt_interv_presc_det_in,
            code_intervention_alias_in     => code_intervention_alias_in,
            create_user_in                 => create_user_in,
            create_time_in                 => create_time_in,
            create_institution_in          => create_institution_in,
            update_user_in                 => update_user_in,
            update_time_in                 => update_time_in,
            update_institution_in          => update_institution_in,
            flg_referral_in                => flg_referral_in,
            dt_pend_req_tstz_in            => dt_pend_req_tstz_in,
            id_interv_codification_in      => id_interv_codification_in,
            id_exec_institution_in         => id_exec_institution_in,
            flg_laterality_in              => flg_laterality_in,
            flg_clinical_purpose_in        => flg_clinical_purpose_in,
            id_presc_plan_task_in          => id_presc_plan_task_in,
            id_not_order_reason_in         => id_not_order_reason_in,
            id_cdr_event_in                => id_cdr_event_in,
            id_co_sign_order_in            => id_co_sign_order_in,
            id_cancel_reason_in            => id_cancel_reason_in,
            id_co_sign_cancel_in           => id_co_sign_cancel_in,
            id_prof_last_update_in         => id_prof_last_update_in,
            dt_last_update_tstz_in         => dt_last_update_tstz_in,
            id_order_recurrence_in         => id_order_recurrence_in,
            flg_fasting_in                 => flg_fasting_in,
            flg_prn_in                     => flg_prn_in,
            prn_notes_in                   => prn_notes_in,
            id_pat_health_plan_in          => id_pat_health_plan_in,
            id_pat_exemption_in            => id_pat_exemption_in,
            flg_req_origin_module_in       => flg_req_origin_module_in,
            dt_order_tstz_in               => dt_order_tstz_in,
            id_diagnosis_list_in           => id_diagnosis_list_in,
            id_supplies_list_in            => id_supplies_list_in,
            id_clinical_purpose_in         => id_clinical_purpose_in,
            clinical_purpose_notes_in      => clinical_purpose_notes_in,
            flg_location_in                => flg_location_in,
            diagnosis_notes_in             => diagnosis_notes_in,
            handle_error_in                => handle_error_in,
            rows_out                       => rows_out);
        IF SQL%ROWCOUNT = 0
        THEN
            ins(id_interv_presc_det_hist_in    => id_interv_presc_det_hist_in,
                dt_interv_prescription_hist_in => dt_interv_prescription_hist_in,
                id_interv_presc_det_in         => id_interv_presc_det_in,
                id_interv_prescription_in      => id_interv_prescription_in,
                id_intervention_in             => id_intervention_in,
                id_movement_in                 => id_movement_in,
                flg_interv_type_in             => flg_interv_type_in,
                flg_status_in                  => flg_status_in,
                notes_in                       => notes_in,
                id_prof_cancel_in              => id_prof_cancel_in,
                notes_cancel_in                => notes_cancel_in,
                interval_in                    => interval_in,
                num_take_in                    => num_take_in,
                dosage_in                      => dosage_in,
                id_drug_presc_det_in           => id_drug_presc_det_in,
                id_nurse_actv_req_det_in       => id_nurse_actv_req_det_in,
                num_freq_in                    => num_freq_in,
                flg_freq_in                    => flg_freq_in,
                num_sess_in                    => num_sess_in,
                flg_prty_in                    => flg_prty_in,
                dt_end_tstz_in                 => dt_end_tstz_in,
                dt_begin_tstz_in               => dt_begin_tstz_in,
                dt_cancel_tstz_in              => dt_cancel_tstz_in,
                dt_interv_presc_det_in         => dt_interv_presc_det_in,
                code_intervention_alias_in     => code_intervention_alias_in,
                create_user_in                 => create_user_in,
                create_time_in                 => create_time_in,
                create_institution_in          => create_institution_in,
                update_user_in                 => update_user_in,
                update_time_in                 => update_time_in,
                update_institution_in          => update_institution_in,
                flg_referral_in                => flg_referral_in,
                dt_pend_req_tstz_in            => dt_pend_req_tstz_in,
                id_interv_codification_in      => id_interv_codification_in,
                id_exec_institution_in         => id_exec_institution_in,
                flg_laterality_in              => flg_laterality_in,
                flg_clinical_purpose_in        => flg_clinical_purpose_in,
                id_presc_plan_task_in          => id_presc_plan_task_in,
                id_not_order_reason_in         => id_not_order_reason_in,
                id_cdr_event_in                => id_cdr_event_in,
                id_co_sign_order_in            => id_co_sign_order_in,
                id_cancel_reason_in            => id_cancel_reason_in,
                id_co_sign_cancel_in           => id_co_sign_cancel_in,
                id_prof_last_update_in         => id_prof_last_update_in,
                dt_last_update_tstz_in         => dt_last_update_tstz_in,
                id_order_recurrence_in         => id_order_recurrence_in,
                flg_fasting_in                 => flg_fasting_in,
                flg_prn_in                     => flg_prn_in,
                prn_notes_in                   => prn_notes_in,
                id_pat_health_plan_in          => id_pat_health_plan_in,
                id_pat_exemption_in            => id_pat_exemption_in,
                flg_req_origin_module_in       => flg_req_origin_module_in,
                dt_order_tstz_in               => dt_order_tstz_in,
                id_diagnosis_list_in           => id_diagnosis_list_in,
                id_supplies_list_in            => id_supplies_list_in,
                id_clinical_purpose_in         => id_clinical_purpose_in,
                clinical_purpose_notes_in      => clinical_purpose_notes_in,
                flg_location_in                => flg_location_in,
                diagnosis_notes_in             => diagnosis_notes_in,
                handle_error_in                => handle_error_in,
                rows_out                       => rows_out);
        END IF;
    END upd_ins;

    --Update/insert columns (without rows_out)
    PROCEDURE upd_ins
    (
        id_interv_presc_det_hist_in    IN interv_presc_det_hist.id_interv_presc_det_hist%TYPE,
        dt_interv_prescription_hist_in IN interv_presc_det_hist.dt_interv_prescription_hist%TYPE DEFAULT NULL,
        id_interv_presc_det_in         IN interv_presc_det_hist.id_interv_presc_det%TYPE DEFAULT NULL,
        id_interv_prescription_in      IN interv_presc_det_hist.id_interv_prescription%TYPE DEFAULT NULL,
        id_intervention_in             IN interv_presc_det_hist.id_intervention%TYPE DEFAULT NULL,
        id_movement_in                 IN interv_presc_det_hist.id_movement%TYPE DEFAULT NULL,
        flg_interv_type_in             IN interv_presc_det_hist.flg_interv_type%TYPE DEFAULT NULL,
        flg_status_in                  IN interv_presc_det_hist.flg_status%TYPE DEFAULT NULL,
        notes_in                       IN interv_presc_det_hist.notes%TYPE DEFAULT NULL,
        id_prof_cancel_in              IN interv_presc_det_hist.id_prof_cancel%TYPE DEFAULT NULL,
        notes_cancel_in                IN interv_presc_det_hist.notes_cancel%TYPE DEFAULT NULL,
        interval_in                    IN interv_presc_det_hist.interval%TYPE DEFAULT NULL,
        num_take_in                    IN interv_presc_det_hist.num_take%TYPE DEFAULT NULL,
        dosage_in                      IN interv_presc_det_hist.dosage%TYPE DEFAULT NULL,
        id_drug_presc_det_in           IN interv_presc_det_hist.id_drug_presc_det%TYPE DEFAULT NULL,
        id_nurse_actv_req_det_in       IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE DEFAULT NULL,
        num_freq_in                    IN interv_presc_det_hist.num_freq%TYPE DEFAULT NULL,
        flg_freq_in                    IN interv_presc_det_hist.flg_freq%TYPE DEFAULT NULL,
        num_sess_in                    IN interv_presc_det_hist.num_sess%TYPE DEFAULT NULL,
        flg_prty_in                    IN interv_presc_det_hist.flg_prty%TYPE DEFAULT NULL,
        dt_end_tstz_in                 IN interv_presc_det_hist.dt_end_tstz%TYPE DEFAULT NULL,
        dt_begin_tstz_in               IN interv_presc_det_hist.dt_begin_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in              IN interv_presc_det_hist.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_interv_presc_det_in         IN interv_presc_det_hist.dt_interv_presc_det%TYPE DEFAULT NULL,
        code_intervention_alias_in     IN interv_presc_det_hist.code_intervention_alias%TYPE DEFAULT NULL,
        create_user_in                 IN interv_presc_det_hist.create_user%TYPE DEFAULT NULL,
        create_time_in                 IN interv_presc_det_hist.create_time%TYPE DEFAULT NULL,
        create_institution_in          IN interv_presc_det_hist.create_institution%TYPE DEFAULT NULL,
        update_user_in                 IN interv_presc_det_hist.update_user%TYPE DEFAULT NULL,
        update_time_in                 IN interv_presc_det_hist.update_time%TYPE DEFAULT NULL,
        update_institution_in          IN interv_presc_det_hist.update_institution%TYPE DEFAULT NULL,
        flg_referral_in                IN interv_presc_det_hist.flg_referral%TYPE DEFAULT NULL,
        dt_pend_req_tstz_in            IN interv_presc_det_hist.dt_pend_req_tstz%TYPE DEFAULT NULL,
        id_interv_codification_in      IN interv_presc_det_hist.id_interv_codification%TYPE DEFAULT NULL,
        id_exec_institution_in         IN interv_presc_det_hist.id_exec_institution%TYPE DEFAULT NULL,
        flg_laterality_in              IN interv_presc_det_hist.flg_laterality%TYPE DEFAULT NULL,
        flg_clinical_purpose_in        IN interv_presc_det_hist.flg_clinical_purpose%TYPE DEFAULT NULL,
        id_presc_plan_task_in          IN interv_presc_det_hist.id_presc_plan_task%TYPE DEFAULT NULL,
        id_not_order_reason_in         IN interv_presc_det_hist.id_not_order_reason%TYPE DEFAULT NULL,
        id_cdr_event_in                IN interv_presc_det_hist.id_cdr_event%TYPE DEFAULT NULL,
        id_co_sign_order_in            IN interv_presc_det_hist.id_co_sign_order%TYPE DEFAULT NULL,
        id_cancel_reason_in            IN interv_presc_det_hist.id_cancel_reason%TYPE DEFAULT NULL,
        id_co_sign_cancel_in           IN interv_presc_det_hist.id_co_sign_cancel%TYPE DEFAULT NULL,
        id_prof_last_update_in         IN interv_presc_det_hist.id_prof_last_update%TYPE DEFAULT NULL,
        dt_last_update_tstz_in         IN interv_presc_det_hist.dt_last_update_tstz%TYPE DEFAULT NULL,
        id_order_recurrence_in         IN interv_presc_det_hist.id_order_recurrence%TYPE DEFAULT NULL,
        flg_fasting_in                 IN interv_presc_det_hist.flg_fasting%TYPE DEFAULT NULL,
        flg_prn_in                     IN interv_presc_det_hist.flg_prn%TYPE DEFAULT NULL,
        prn_notes_in                   IN interv_presc_det_hist.prn_notes%TYPE DEFAULT NULL,
        id_pat_health_plan_in          IN interv_presc_det_hist.id_pat_health_plan%TYPE DEFAULT NULL,
        id_pat_exemption_in            IN interv_presc_det_hist.id_pat_exemption%TYPE DEFAULT NULL,
        flg_req_origin_module_in       IN interv_presc_det_hist.flg_req_origin_module%TYPE DEFAULT NULL,
        dt_order_tstz_in               IN interv_presc_det_hist.dt_order_tstz%TYPE DEFAULT NULL,
        id_diagnosis_list_in           IN interv_presc_det_hist.id_diagnosis_list%TYPE DEFAULT NULL,
        id_supplies_list_in            IN interv_presc_det_hist.id_supplies_list%TYPE DEFAULT NULL,
        id_clinical_purpose_in         IN interv_presc_det_hist.id_clinical_purpose%TYPE DEFAULT NULL,
        clinical_purpose_notes_in      IN interv_presc_det_hist.clinical_purpose_notes%TYPE DEFAULT NULL,
        flg_location_in                IN interv_presc_det_hist.flg_location%TYPE DEFAULT NULL,
        diagnosis_notes_in             IN interv_presc_det_hist.diagnosis_notes%TYPE DEFAULT NULL,
        handle_error_in                IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd_ins(id_interv_presc_det_hist_in,
                dt_interv_prescription_hist_in,
                id_interv_presc_det_in,
                id_interv_prescription_in,
                id_intervention_in,
                id_movement_in,
                flg_interv_type_in,
                flg_status_in,
                notes_in,
                id_prof_cancel_in,
                notes_cancel_in,
                interval_in,
                num_take_in,
                dosage_in,
                id_drug_presc_det_in,
                id_nurse_actv_req_det_in,
                num_freq_in,
                flg_freq_in,
                num_sess_in,
                flg_prty_in,
                dt_end_tstz_in,
                dt_begin_tstz_in,
                dt_cancel_tstz_in,
                dt_interv_presc_det_in,
                code_intervention_alias_in,
                create_user_in,
                create_time_in,
                create_institution_in,
                update_user_in,
                update_time_in,
                update_institution_in,
                flg_referral_in,
                dt_pend_req_tstz_in,
                id_interv_codification_in,
                id_exec_institution_in,
                flg_laterality_in,
                flg_clinical_purpose_in,
                id_presc_plan_task_in,
                id_not_order_reason_in,
                id_cdr_event_in,
                id_co_sign_order_in,
                id_cancel_reason_in,
                id_co_sign_cancel_in,
                id_prof_last_update_in,
                dt_last_update_tstz_in,
                id_order_recurrence_in,
                flg_fasting_in,
                flg_prn_in,
                prn_notes_in,
                id_pat_health_plan_in,
                id_pat_exemption_in,
                flg_req_origin_module_in,
                dt_order_tstz_in,
                id_diagnosis_list_in,
                id_supplies_list_in,
                id_clinical_purpose_in,
                clinical_purpose_notes_in,
                flg_location_in,
                diagnosis_notes_in,
                handle_error_in,
                rows_out);
    END upd_ins;

    --Update by record (with rows_out)
    PROCEDURE upd
    (
        rec_in          IN interv_presc_det_hist%ROWTYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        IN OUT table_varchar
    ) IS
    BEGIN
        upd(id_interv_presc_det_hist_in    => rec_in.id_interv_presc_det_hist,
            dt_interv_prescription_hist_in => rec_in.dt_interv_prescription_hist,
            id_interv_presc_det_in         => rec_in.id_interv_presc_det,
            id_interv_prescription_in      => rec_in.id_interv_prescription,
            id_intervention_in             => rec_in.id_intervention,
            id_movement_in                 => rec_in.id_movement,
            flg_interv_type_in             => rec_in.flg_interv_type,
            flg_status_in                  => rec_in.flg_status,
            notes_in                       => rec_in.notes,
            id_prof_cancel_in              => rec_in.id_prof_cancel,
            notes_cancel_in                => rec_in.notes_cancel,
            interval_in                    => rec_in.interval,
            num_take_in                    => rec_in.num_take,
            dosage_in                      => rec_in.dosage,
            id_drug_presc_det_in           => rec_in.id_drug_presc_det,
            id_nurse_actv_req_det_in       => rec_in.id_nurse_actv_req_det,
            num_freq_in                    => rec_in.num_freq,
            flg_freq_in                    => rec_in.flg_freq,
            num_sess_in                    => rec_in.num_sess,
            flg_prty_in                    => rec_in.flg_prty,
            dt_end_tstz_in                 => rec_in.dt_end_tstz,
            dt_begin_tstz_in               => rec_in.dt_begin_tstz,
            dt_cancel_tstz_in              => rec_in.dt_cancel_tstz,
            dt_interv_presc_det_in         => rec_in.dt_interv_presc_det,
            code_intervention_alias_in     => rec_in.code_intervention_alias,
            create_user_in                 => rec_in.create_user,
            create_time_in                 => rec_in.create_time,
            create_institution_in          => rec_in.create_institution,
            update_user_in                 => rec_in.update_user,
            update_time_in                 => rec_in.update_time,
            update_institution_in          => rec_in.update_institution,
            flg_referral_in                => rec_in.flg_referral,
            dt_pend_req_tstz_in            => rec_in.dt_pend_req_tstz,
            id_interv_codification_in      => rec_in.id_interv_codification,
            id_exec_institution_in         => rec_in.id_exec_institution,
            flg_laterality_in              => rec_in.flg_laterality,
            flg_clinical_purpose_in        => rec_in.flg_clinical_purpose,
            id_presc_plan_task_in          => rec_in.id_presc_plan_task,
            id_not_order_reason_in         => rec_in.id_not_order_reason,
            id_cdr_event_in                => rec_in.id_cdr_event,
            id_co_sign_order_in            => rec_in.id_co_sign_order,
            id_cancel_reason_in            => rec_in.id_cancel_reason,
            id_co_sign_cancel_in           => rec_in.id_co_sign_cancel,
            id_prof_last_update_in         => rec_in.id_prof_last_update,
            dt_last_update_tstz_in         => rec_in.dt_last_update_tstz,
            id_order_recurrence_in         => rec_in.id_order_recurrence,
            flg_fasting_in                 => rec_in.flg_fasting,
            flg_prn_in                     => rec_in.flg_prn,
            prn_notes_in                   => rec_in.prn_notes,
            id_pat_health_plan_in          => rec_in.id_pat_health_plan,
            id_pat_exemption_in            => rec_in.id_pat_exemption,
            flg_req_origin_module_in       => rec_in.flg_req_origin_module,
            dt_order_tstz_in               => rec_in.dt_order_tstz,
            id_diagnosis_list_in           => rec_in.id_diagnosis_list,
            id_supplies_list_in            => rec_in.id_supplies_list,
            id_clinical_purpose_in         => rec_in.id_clinical_purpose,
            clinical_purpose_notes_in      => rec_in.clinical_purpose_notes,
            flg_location_in                => rec_in.flg_location,
            diagnosis_notes_in             => rec_in.diagnosis_notes,
            handle_error_in                => handle_error_in,
            rows_out                       => rows_out);
    END upd;

    --Update by record (without rows_out)
    PROCEDURE upd
    (
        rec_in          IN interv_presc_det_hist%ROWTYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(id_interv_presc_det_hist_in    => rec_in.id_interv_presc_det_hist,
            dt_interv_prescription_hist_in => rec_in.dt_interv_prescription_hist,
            id_interv_presc_det_in         => rec_in.id_interv_presc_det,
            id_interv_prescription_in      => rec_in.id_interv_prescription,
            id_intervention_in             => rec_in.id_intervention,
            id_movement_in                 => rec_in.id_movement,
            flg_interv_type_in             => rec_in.flg_interv_type,
            flg_status_in                  => rec_in.flg_status,
            notes_in                       => rec_in.notes,
            id_prof_cancel_in              => rec_in.id_prof_cancel,
            notes_cancel_in                => rec_in.notes_cancel,
            interval_in                    => rec_in.interval,
            num_take_in                    => rec_in.num_take,
            dosage_in                      => rec_in.dosage,
            id_drug_presc_det_in           => rec_in.id_drug_presc_det,
            id_nurse_actv_req_det_in       => rec_in.id_nurse_actv_req_det,
            num_freq_in                    => rec_in.num_freq,
            flg_freq_in                    => rec_in.flg_freq,
            num_sess_in                    => rec_in.num_sess,
            flg_prty_in                    => rec_in.flg_prty,
            dt_end_tstz_in                 => rec_in.dt_end_tstz,
            dt_begin_tstz_in               => rec_in.dt_begin_tstz,
            dt_cancel_tstz_in              => rec_in.dt_cancel_tstz,
            dt_interv_presc_det_in         => rec_in.dt_interv_presc_det,
            code_intervention_alias_in     => rec_in.code_intervention_alias,
            create_user_in                 => rec_in.create_user,
            create_time_in                 => rec_in.create_time,
            create_institution_in          => rec_in.create_institution,
            update_user_in                 => rec_in.update_user,
            update_time_in                 => rec_in.update_time,
            update_institution_in          => rec_in.update_institution,
            flg_referral_in                => rec_in.flg_referral,
            dt_pend_req_tstz_in            => rec_in.dt_pend_req_tstz,
            id_interv_codification_in      => rec_in.id_interv_codification,
            id_exec_institution_in         => rec_in.id_exec_institution,
            flg_laterality_in              => rec_in.flg_laterality,
            flg_clinical_purpose_in        => rec_in.flg_clinical_purpose,
            id_presc_plan_task_in          => rec_in.id_presc_plan_task,
            id_not_order_reason_in         => rec_in.id_not_order_reason,
            id_cdr_event_in                => rec_in.id_cdr_event,
            id_co_sign_order_in            => rec_in.id_co_sign_order,
            id_cancel_reason_in            => rec_in.id_cancel_reason,
            id_co_sign_cancel_in           => rec_in.id_co_sign_cancel,
            id_prof_last_update_in         => rec_in.id_prof_last_update,
            dt_last_update_tstz_in         => rec_in.dt_last_update_tstz,
            id_order_recurrence_in         => rec_in.id_order_recurrence,
            flg_fasting_in                 => rec_in.flg_fasting,
            flg_prn_in                     => rec_in.flg_prn,
            prn_notes_in                   => rec_in.prn_notes,
            id_pat_health_plan_in          => rec_in.id_pat_health_plan,
            id_pat_exemption_in            => rec_in.id_pat_exemption,
            flg_req_origin_module_in       => rec_in.flg_req_origin_module,
            dt_order_tstz_in               => rec_in.dt_order_tstz,
            id_diagnosis_list_in           => rec_in.id_diagnosis_list,
            id_supplies_list_in            => rec_in.id_supplies_list,
            id_clinical_purpose_in         => rec_in.id_clinical_purpose,
            clinical_purpose_notes_in      => rec_in.clinical_purpose_notes,
            flg_location_in                => rec_in.flg_location,
            diagnosis_notes_in             => rec_in.diagnosis_notes,
            handle_error_in                => handle_error_in,
            rows_out                       => rows_out);
    END upd;

    --Update with collection (with rows_out)
    PROCEDURE upd
    (
        col_in            IN interv_presc_det_hist_tc,
        ignore_if_null_in IN BOOLEAN := TRUE,
        handle_error_in   IN BOOLEAN := FALSE,
        rows_out          IN OUT table_varchar
    ) IS
        l_id_interv_presc_det_hist    id_interv_presc_det_hist_cc;
        l_dt_interv_prescription_hist dt_interv_prescription_hist_cc;
        l_id_interv_presc_det         id_interv_presc_det_cc;
        l_id_interv_prescription      id_interv_prescription_cc;
        l_id_intervention             id_intervention_cc;
        l_id_movement                 id_movement_cc;
        l_flg_interv_type             flg_interv_type_cc;
        l_flg_status                  flg_status_cc;
        l_notes                       notes_cc;
        l_id_prof_cancel              id_prof_cancel_cc;
        l_notes_cancel                notes_cancel_cc;
        l_interval                    interval_cc;
        l_num_take                    num_take_cc;
        l_dosage                      dosage_cc;
        l_id_drug_presc_det           id_drug_presc_det_cc;
        l_id_nurse_actv_req_det       id_nurse_actv_req_det_cc;
        l_num_freq                    num_freq_cc;
        l_flg_freq                    flg_freq_cc;
        l_num_sess                    num_sess_cc;
        l_flg_prty                    flg_prty_cc;
        l_dt_end_tstz                 dt_end_tstz_cc;
        l_dt_begin_tstz               dt_begin_tstz_cc;
        l_dt_cancel_tstz              dt_cancel_tstz_cc;
        l_dt_interv_presc_det         dt_interv_presc_det_cc;
        l_code_intervention_alias     code_intervention_alias_cc;
        l_create_user                 create_user_cc;
        l_create_time                 create_time_cc;
        l_create_institution          create_institution_cc;
        l_update_user                 update_user_cc;
        l_update_time                 update_time_cc;
        l_update_institution          update_institution_cc;
        l_flg_referral                flg_referral_cc;
        l_dt_pend_req_tstz            dt_pend_req_tstz_cc;
        l_id_interv_codification      id_interv_codification_cc;
        l_id_exec_institution         id_exec_institution_cc;
        l_flg_laterality              flg_laterality_cc;
        l_flg_clinical_purpose        flg_clinical_purpose_cc;
        l_id_presc_plan_task          id_presc_plan_task_cc;
        l_id_not_order_reason         id_not_order_reason_cc;
        l_id_cdr_event                id_cdr_event_cc;
        l_id_co_sign_order            id_co_sign_order_cc;
        l_id_cancel_reason            id_cancel_reason_cc;
        l_id_co_sign_cancel           id_co_sign_cancel_cc;
        l_id_prof_last_update         id_prof_last_update_cc;
        l_dt_last_update_tstz         dt_last_update_tstz_cc;
        l_id_order_recurrence         id_order_recurrence_cc;
        l_flg_fasting                 flg_fasting_cc;
        l_flg_prn                     flg_prn_cc;
        l_prn_notes                   prn_notes_cc;
        l_id_pat_health_plan          id_pat_health_plan_cc;
        l_id_pat_exemption            id_pat_exemption_cc;
        l_flg_req_origin_module       flg_req_origin_module_cc;
        l_dt_order_tstz               dt_order_tstz_cc;
        l_id_diagnosis_list           id_diagnosis_list_cc;
        l_id_supplies_list            id_supplies_list_cc;
        l_id_clinical_purpose         id_clinical_purpose_cc;
        l_clinical_purpose_notes      clinical_purpose_notes_cc;
        l_flg_location                flg_location_cc;
        l_diagnosis_notes             diagnosis_notes_cc;
    BEGIN
        FOR i IN col_in.first .. col_in.last
        LOOP
            l_id_interv_presc_det_hist(i) := col_in(i).id_interv_presc_det_hist;
            l_dt_interv_prescription_hist(i) := col_in(i).dt_interv_prescription_hist;
            l_id_interv_presc_det(i) := col_in(i).id_interv_presc_det;
            l_id_interv_prescription(i) := col_in(i).id_interv_prescription;
            l_id_intervention(i) := col_in(i).id_intervention;
            l_id_movement(i) := col_in(i).id_movement;
            l_flg_interv_type(i) := col_in(i).flg_interv_type;
            l_flg_status(i) := col_in(i).flg_status;
            l_notes(i) := col_in(i).notes;
            l_id_prof_cancel(i) := col_in(i).id_prof_cancel;
            l_notes_cancel(i) := col_in(i).notes_cancel;
            l_interval(i) := col_in(i).interval;
            l_num_take(i) := col_in(i).num_take;
            l_dosage(i) := col_in(i).dosage;
            l_id_drug_presc_det(i) := col_in(i).id_drug_presc_det;
            l_id_nurse_actv_req_det(i) := col_in(i).id_nurse_actv_req_det;
            l_num_freq(i) := col_in(i).num_freq;
            l_flg_freq(i) := col_in(i).flg_freq;
            l_num_sess(i) := col_in(i).num_sess;
            l_flg_prty(i) := col_in(i).flg_prty;
            l_dt_end_tstz(i) := col_in(i).dt_end_tstz;
            l_dt_begin_tstz(i) := col_in(i).dt_begin_tstz;
            l_dt_cancel_tstz(i) := col_in(i).dt_cancel_tstz;
            l_dt_interv_presc_det(i) := col_in(i).dt_interv_presc_det;
            l_code_intervention_alias(i) := col_in(i).code_intervention_alias;
            l_create_user(i) := col_in(i).create_user;
            l_create_time(i) := col_in(i).create_time;
            l_create_institution(i) := col_in(i).create_institution;
            l_update_user(i) := col_in(i).update_user;
            l_update_time(i) := col_in(i).update_time;
            l_update_institution(i) := col_in(i).update_institution;
            l_flg_referral(i) := col_in(i).flg_referral;
            l_dt_pend_req_tstz(i) := col_in(i).dt_pend_req_tstz;
            l_id_interv_codification(i) := col_in(i).id_interv_codification;
            l_id_exec_institution(i) := col_in(i).id_exec_institution;
            l_flg_laterality(i) := col_in(i).flg_laterality;
            l_flg_clinical_purpose(i) := col_in(i).flg_clinical_purpose;
            l_id_presc_plan_task(i) := col_in(i).id_presc_plan_task;
            l_id_not_order_reason(i) := col_in(i).id_not_order_reason;
            l_id_cdr_event(i) := col_in(i).id_cdr_event;
            l_id_co_sign_order(i) := col_in(i).id_co_sign_order;
            l_id_cancel_reason(i) := col_in(i).id_cancel_reason;
            l_id_co_sign_cancel(i) := col_in(i).id_co_sign_cancel;
            l_id_prof_last_update(i) := col_in(i).id_prof_last_update;
            l_dt_last_update_tstz(i) := col_in(i).dt_last_update_tstz;
            l_id_order_recurrence(i) := col_in(i).id_order_recurrence;
            l_flg_fasting(i) := col_in(i).flg_fasting;
            l_flg_prn(i) := col_in(i).flg_prn;
            l_prn_notes(i) := col_in(i).prn_notes;
            l_id_pat_health_plan(i) := col_in(i).id_pat_health_plan;
            l_id_pat_exemption(i) := col_in(i).id_pat_exemption;
            l_flg_req_origin_module(i) := col_in(i).flg_req_origin_module;
            l_dt_order_tstz(i) := col_in(i).dt_order_tstz;
            l_id_diagnosis_list(i) := col_in(i).id_diagnosis_list;
            l_id_supplies_list(i) := col_in(i).id_supplies_list;
            l_id_clinical_purpose(i) := col_in(i).id_clinical_purpose;
            l_clinical_purpose_notes(i) := col_in(i).clinical_purpose_notes;
            l_flg_location(i) := col_in(i).flg_location;
            l_diagnosis_notes(i) := col_in(i).diagnosis_notes;
        END LOOP;
        IF nvl(ignore_if_null_in, FALSE)
        THEN
            -- Set any columns to their current values
            -- if incoming value is NULL.
            -- Put WHEN clause on column-level triggers!
            FORALL i IN col_in.first .. col_in.last
                UPDATE interv_presc_det_hist
                   SET dt_interv_prescription_hist = nvl(l_dt_interv_prescription_hist(i), dt_interv_prescription_hist),
                       id_interv_presc_det         = nvl(l_id_interv_presc_det(i), id_interv_presc_det),
                       id_interv_prescription      = nvl(l_id_interv_prescription(i), id_interv_prescription),
                       id_intervention             = nvl(l_id_intervention(i), id_intervention),
                       id_movement                 = nvl(l_id_movement(i), id_movement),
                       flg_interv_type             = nvl(l_flg_interv_type(i), flg_interv_type),
                       flg_status                  = nvl(l_flg_status(i), flg_status),
                       notes                       = nvl(l_notes(i), notes),
                       id_prof_cancel              = nvl(l_id_prof_cancel(i), id_prof_cancel),
                       notes_cancel                = nvl(l_notes_cancel(i), notes_cancel),
                       INTERVAL                    = nvl(l_interval(i), INTERVAL),
                       num_take                    = nvl(l_num_take(i), num_take),
                       dosage                      = nvl(l_dosage(i), dosage),
                       id_drug_presc_det           = nvl(l_id_drug_presc_det(i), id_drug_presc_det),
                       id_nurse_actv_req_det       = nvl(l_id_nurse_actv_req_det(i), id_nurse_actv_req_det),
                       num_freq                    = nvl(l_num_freq(i), num_freq),
                       flg_freq                    = nvl(l_flg_freq(i), flg_freq),
                       num_sess                    = nvl(l_num_sess(i), num_sess),
                       flg_prty                    = nvl(l_flg_prty(i), flg_prty),
                       dt_end_tstz                 = nvl(l_dt_end_tstz(i), dt_end_tstz),
                       dt_begin_tstz               = nvl(l_dt_begin_tstz(i), dt_begin_tstz),
                       dt_cancel_tstz              = nvl(l_dt_cancel_tstz(i), dt_cancel_tstz),
                       dt_interv_presc_det         = nvl(l_dt_interv_presc_det(i), dt_interv_presc_det),
                       code_intervention_alias     = nvl(l_code_intervention_alias(i), code_intervention_alias),
                       create_user                 = nvl(l_create_user(i), create_user),
                       create_time                 = nvl(l_create_time(i), create_time),
                       create_institution          = nvl(l_create_institution(i), create_institution),
                       update_user                 = nvl(l_update_user(i), update_user),
                       update_time                 = nvl(l_update_time(i), update_time),
                       update_institution          = nvl(l_update_institution(i), update_institution),
                       flg_referral                = nvl(l_flg_referral(i), flg_referral),
                       dt_pend_req_tstz            = nvl(l_dt_pend_req_tstz(i), dt_pend_req_tstz),
                       id_interv_codification      = nvl(l_id_interv_codification(i), id_interv_codification),
                       id_exec_institution         = nvl(l_id_exec_institution(i), id_exec_institution),
                       flg_laterality              = nvl(l_flg_laterality(i), flg_laterality),
                       flg_clinical_purpose        = nvl(l_flg_clinical_purpose(i), flg_clinical_purpose),
                       id_presc_plan_task          = nvl(l_id_presc_plan_task(i), id_presc_plan_task),
                       id_not_order_reason         = nvl(l_id_not_order_reason(i), id_not_order_reason),
                       id_cdr_event                = nvl(l_id_cdr_event(i), id_cdr_event),
                       id_co_sign_order            = nvl(l_id_co_sign_order(i), id_co_sign_order),
                       id_cancel_reason            = nvl(l_id_cancel_reason(i), id_cancel_reason),
                       id_co_sign_cancel           = nvl(l_id_co_sign_cancel(i), id_co_sign_cancel),
                       id_prof_last_update         = nvl(l_id_prof_last_update(i), id_prof_last_update),
                       dt_last_update_tstz         = nvl(l_dt_last_update_tstz(i), dt_last_update_tstz),
                       id_order_recurrence         = nvl(l_id_order_recurrence(i), id_order_recurrence),
                       flg_fasting                 = nvl(l_flg_fasting(i), flg_fasting),
                       flg_prn                     = nvl(l_flg_prn(i), flg_prn),
                       prn_notes                   = nvl(l_prn_notes(i), prn_notes),
                       id_pat_health_plan          = nvl(l_id_pat_health_plan(i), id_pat_health_plan),
                       id_pat_exemption            = nvl(l_id_pat_exemption(i), id_pat_exemption),
                       flg_req_origin_module       = nvl(l_flg_req_origin_module(i), flg_req_origin_module),
                       dt_order_tstz               = nvl(l_dt_order_tstz(i), dt_order_tstz),
                       id_diagnosis_list           = nvl(l_id_diagnosis_list(i), id_diagnosis_list),
                       id_supplies_list            = nvl(l_id_supplies_list(i), id_supplies_list),
                       id_clinical_purpose         = nvl(l_id_clinical_purpose(i), id_clinical_purpose),
                       clinical_purpose_notes      = nvl(l_clinical_purpose_notes(i), clinical_purpose_notes),
                       flg_location                = nvl(l_flg_location(i), flg_location),
                       diagnosis_notes             = nvl(l_diagnosis_notes(i), diagnosis_notes)
                 WHERE id_interv_presc_det_hist = l_id_interv_presc_det_hist(i)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        ELSE
            FORALL i IN col_in.first .. col_in.last
                UPDATE interv_presc_det_hist
                   SET dt_interv_prescription_hist = l_dt_interv_prescription_hist(i),
                       id_interv_presc_det         = l_id_interv_presc_det(i),
                       id_interv_prescription      = l_id_interv_prescription(i),
                       id_intervention             = l_id_intervention(i),
                       id_movement                 = l_id_movement(i),
                       flg_interv_type             = l_flg_interv_type(i),
                       flg_status                  = l_flg_status(i),
                       notes                       = l_notes(i),
                       id_prof_cancel              = l_id_prof_cancel(i),
                       notes_cancel                = l_notes_cancel(i),
                       INTERVAL                    = l_interval(i),
                       num_take                    = l_num_take(i),
                       dosage                      = l_dosage(i),
                       id_drug_presc_det           = l_id_drug_presc_det(i),
                       id_nurse_actv_req_det       = l_id_nurse_actv_req_det(i),
                       num_freq                    = l_num_freq(i),
                       flg_freq                    = l_flg_freq(i),
                       num_sess                    = l_num_sess(i),
                       flg_prty                    = l_flg_prty(i),
                       dt_end_tstz                 = l_dt_end_tstz(i),
                       dt_begin_tstz               = l_dt_begin_tstz(i),
                       dt_cancel_tstz              = l_dt_cancel_tstz(i),
                       dt_interv_presc_det         = l_dt_interv_presc_det(i),
                       code_intervention_alias     = l_code_intervention_alias(i),
                       create_user                 = l_create_user(i),
                       create_time                 = l_create_time(i),
                       create_institution          = l_create_institution(i),
                       update_user                 = l_update_user(i),
                       update_time                 = l_update_time(i),
                       update_institution          = l_update_institution(i),
                       flg_referral                = l_flg_referral(i),
                       dt_pend_req_tstz            = l_dt_pend_req_tstz(i),
                       id_interv_codification      = l_id_interv_codification(i),
                       id_exec_institution         = l_id_exec_institution(i),
                       flg_laterality              = l_flg_laterality(i),
                       flg_clinical_purpose        = l_flg_clinical_purpose(i),
                       id_presc_plan_task          = l_id_presc_plan_task(i),
                       id_not_order_reason         = l_id_not_order_reason(i),
                       id_cdr_event                = l_id_cdr_event(i),
                       id_co_sign_order            = l_id_co_sign_order(i),
                       id_cancel_reason            = l_id_cancel_reason(i),
                       id_co_sign_cancel           = l_id_co_sign_cancel(i),
                       id_prof_last_update         = l_id_prof_last_update(i),
                       dt_last_update_tstz         = l_dt_last_update_tstz(i),
                       id_order_recurrence         = l_id_order_recurrence(i),
                       flg_fasting                 = l_flg_fasting(i),
                       flg_prn                     = l_flg_prn(i),
                       prn_notes                   = l_prn_notes(i),
                       id_pat_health_plan          = l_id_pat_health_plan(i),
                       id_pat_exemption            = l_id_pat_exemption(i),
                       flg_req_origin_module       = l_flg_req_origin_module(i),
                       dt_order_tstz               = l_dt_order_tstz(i),
                       id_diagnosis_list           = l_id_diagnosis_list(i),
                       id_supplies_list            = l_id_supplies_list(i),
                       id_clinical_purpose         = l_id_clinical_purpose(i),
                       clinical_purpose_notes      = l_clinical_purpose_notes(i),
                       flg_location                = l_flg_location(i),
                       diagnosis_notes             = l_diagnosis_notes(i)
                 WHERE id_interv_presc_det_hist = l_id_interv_presc_det_hist(i)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        END IF;
    
    EXCEPTION
        WHEN e_forall_error THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                FOR indx IN 1 .. SQL%bulk_exceptions.count
                LOOP
                    pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
                END LOOP;
            END IF;
        WHEN OTHERS THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    --Update with collection (without rows_out)
    PROCEDURE upd
    (
        col_in            IN interv_presc_det_hist_tc,
        ignore_if_null_in IN BOOLEAN := TRUE,
        handle_error_in   IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(col_in, ignore_if_null_in, handle_error_in, rows_out);
    END upd;

    --Dynamic update string
    FUNCTION dynupdstr
    (
        colname_in IN all_tab_columns.column_name%TYPE,
        where_in   IN VARCHAR2 := NULL
    ) RETURN VARCHAR2 IS
    BEGIN
        RETURN 'BEGIN UPDATE interv_presc_det_hist
SET ' || colname_in || ' = :value
 WHERE ' || nvl(where_in, '1=1') || ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;';
    END dynupdstr;

    -- Use Native Dynamic SQL increment a single NUMBER column
    -- for all rows specified by the dynamic WHERE clause (with rows_out)
    PROCEDURE increment_onecol
    (
        colname_in         IN all_tab_columns.column_name%TYPE,
        where_in           IN VARCHAR2,
        increment_value_in IN NUMBER DEFAULT 1,
        handle_error_in    IN BOOLEAN := FALSE,
        rows_out           OUT table_varchar
    ) IS
    BEGIN
        EXECUTE IMMEDIATE 'BEGIN UPDATE interv_presc_det_hist
SET ' || colname_in || '=' || colname_in || '+' || nvl(increment_value_in, 1) || ' WHERE ' ||
                          nvl(where_in, '1=1') || ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;'
            USING OUT rows_out;
    END increment_onecol;

    -- Use Native Dynamic SQL increment a single NUMBER column
    -- for all rows specified by the dynamic WHERE clause (without rows_out)
    PROCEDURE increment_onecol
    (
        colname_in         IN all_tab_columns.column_name%TYPE,
        where_in           IN VARCHAR2,
        increment_value_in IN NUMBER DEFAULT 1,
        handle_error_in    IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        EXECUTE IMMEDIATE 'UPDATE interv_presc_det_hist
SET ' || colname_in || '=' || colname_in || '+' || nvl(increment_value_in, 1) || ' WHERE ' ||
                          nvl(where_in, '1=1');
    END increment_onecol;

    -- Delete one row by primary key
    PROCEDURE del
    (
        id_interv_presc_det_hist_in IN interv_presc_det_hist.id_interv_presc_det_hist%TYPE,
        handle_error_in             IN BOOLEAN := FALSE,
        rows_out                    OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM interv_presc_det_hist
         WHERE id_interv_presc_det_hist = id_interv_presc_det_hist_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del;

    -- Delete one row by primary key
    PROCEDURE del
    (
        id_interv_presc_det_hist_in IN interv_presc_det_hist.id_interv_presc_det_hist%TYPE,
        handle_error_in             IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del(id_interv_presc_det_hist_in => id_interv_presc_det_hist_in,
            handle_error_in             => handle_error_in,
            rows_out                    => rows_out);
    END del;

    -- Delete all rows for this IPDH_DPDT_FK foreign key value
    PROCEDURE del_ipdh_dpdt_fk
    (
        id_drug_presc_det_in IN interv_presc_det_hist.id_drug_presc_det%TYPE,
        handle_error_in      IN BOOLEAN := FALSE,
        rows_out             OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM interv_presc_det_hist
         WHERE id_drug_presc_det = id_drug_presc_det_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ipdh_dpdt_fk;

    -- Delete all rows for this IPDH_ID_IPD_FK foreign key value
    PROCEDURE del_ipdh_id_ipd_fk
    (
        id_interv_presc_det_in IN interv_presc_det_hist.id_interv_presc_det%TYPE,
        handle_error_in        IN BOOLEAN := FALSE,
        rows_out               OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM interv_presc_det_hist
         WHERE id_interv_presc_det = id_interv_presc_det_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ipdh_id_ipd_fk;

    -- Delete all rows for this IPDH_INT_FK foreign key value
    PROCEDURE del_ipdh_int_fk
    (
        id_intervention_in IN interv_presc_det_hist.id_intervention%TYPE,
        handle_error_in    IN BOOLEAN := FALSE,
        rows_out           OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM interv_presc_det_hist
         WHERE id_intervention = id_intervention_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ipdh_int_fk;

    -- Delete all rows for this IPDH_MOV_FK foreign key value
    PROCEDURE del_ipdh_mov_fk
    (
        id_movement_in  IN interv_presc_det_hist.id_movement%TYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM interv_presc_det_hist
         WHERE id_movement = id_movement_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ipdh_mov_fk;

    -- Delete all rows for this IPDH_NARD_FK foreign key value
    PROCEDURE del_ipdh_nard_fk
    (
        id_nurse_actv_req_det_in IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE,
        handle_error_in          IN BOOLEAN := FALSE,
        rows_out                 OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM interv_presc_det_hist
         WHERE id_nurse_actv_req_det = id_nurse_actv_req_det_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ipdh_nard_fk;

    -- Delete all rows for this IPDH_PRESC_FK foreign key value
    PROCEDURE del_ipdh_presc_fk
    (
        id_interv_prescription_in IN interv_presc_det_hist.id_interv_prescription%TYPE,
        handle_error_in           IN BOOLEAN := FALSE,
        rows_out                  OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM interv_presc_det_hist
         WHERE id_interv_prescription = id_interv_prescription_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ipdh_presc_fk;

    -- Delete all rows for this IPDH_PROF_FK foreign key value
    PROCEDURE del_ipdh_prof_fk
    (
        id_prof_cancel_in IN interv_presc_det_hist.id_prof_cancel%TYPE,
        handle_error_in   IN BOOLEAN := FALSE,
        rows_out          OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM interv_presc_det_hist
         WHERE id_prof_cancel = id_prof_cancel_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ipdh_prof_fk;

    -- Delete all rows for this IPDH_DPDT_FK foreign key value
    PROCEDURE del_ipdh_dpdt_fk
    (
        id_drug_presc_det_in IN interv_presc_det_hist.id_drug_presc_det%TYPE,
        handle_error_in      IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ipdh_dpdt_fk(id_drug_presc_det_in => id_drug_presc_det_in,
                         handle_error_in      => handle_error_in,
                         rows_out             => rows_out);
    END del_ipdh_dpdt_fk;

    -- Delete all rows for this IPDH_ID_IPD_FK foreign key value
    PROCEDURE del_ipdh_id_ipd_fk
    (
        id_interv_presc_det_in IN interv_presc_det_hist.id_interv_presc_det%TYPE,
        handle_error_in        IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ipdh_id_ipd_fk(id_interv_presc_det_in => id_interv_presc_det_in,
                           handle_error_in        => handle_error_in,
                           rows_out               => rows_out);
    END del_ipdh_id_ipd_fk;

    -- Delete all rows for this IPDH_INT_FK foreign key value
    PROCEDURE del_ipdh_int_fk
    (
        id_intervention_in IN interv_presc_det_hist.id_intervention%TYPE,
        handle_error_in    IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ipdh_int_fk(id_intervention_in => id_intervention_in,
                        handle_error_in    => handle_error_in,
                        rows_out           => rows_out);
    END del_ipdh_int_fk;

    -- Delete all rows for this IPDH_MOV_FK foreign key value
    PROCEDURE del_ipdh_mov_fk
    (
        id_movement_in  IN interv_presc_det_hist.id_movement%TYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ipdh_mov_fk(id_movement_in => id_movement_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_ipdh_mov_fk;

    -- Delete all rows for this IPDH_NARD_FK foreign key value
    PROCEDURE del_ipdh_nard_fk
    (
        id_nurse_actv_req_det_in IN interv_presc_det_hist.id_nurse_actv_req_det%TYPE,
        handle_error_in          IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ipdh_nard_fk(id_nurse_actv_req_det_in => id_nurse_actv_req_det_in,
                         handle_error_in          => handle_error_in,
                         rows_out                 => rows_out);
    END del_ipdh_nard_fk;

    -- Delete all rows for this IPDH_PRESC_FK foreign key value
    PROCEDURE del_ipdh_presc_fk
    (
        id_interv_prescription_in IN interv_presc_det_hist.id_interv_prescription%TYPE,
        handle_error_in           IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ipdh_presc_fk(id_interv_prescription_in => id_interv_prescription_in,
                          handle_error_in           => handle_error_in,
                          rows_out                  => rows_out);
    END del_ipdh_presc_fk;

    -- Delete all rows for this IPDH_PROF_FK foreign key value
    PROCEDURE del_ipdh_prof_fk
    (
        id_prof_cancel_in IN interv_presc_det_hist.id_prof_cancel%TYPE,
        handle_error_in   IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ipdh_prof_fk(id_prof_cancel_in => id_prof_cancel_in,
                         handle_error_in   => handle_error_in,
                         rows_out          => rows_out);
    END del_ipdh_prof_fk;

    -- Deletions using dynamic SQL
    FUNCTION dyndelstr(where_in IN VARCHAR2) RETURN VARCHAR2 IS
    BEGIN
        IF where_in IS NULL
        THEN
            RETURN 'DELETE FROM interv_presc_det_hist';
        ELSE
            RETURN 'DELETE FROM interv_presc_det_hist WHERE ' || where_in;
        END IF;
    END dyndelstr;
    -- Delete all rows specified by dynamic WHERE clause
    PROCEDURE del_by
    (
        where_clause_in IN VARCHAR2,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        EXECUTE IMMEDIATE 'BEGIN ' || dyndelstr(where_clause_in) ||
                          ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;'
            USING OUT rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_by;

    -- Delete all rows specified by dynamic WHERE clause
    PROCEDURE del_by
    (
        where_clause_in IN VARCHAR2,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
    BEGIN
        EXECUTE IMMEDIATE dyndelstr(where_clause_in);
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_by;

    -- Initialize a record with default values for columns in the table (prc)
    PROCEDURE initrec(interv_presc_det_hist_inout IN OUT interv_presc_det_hist%ROWTYPE) IS
    BEGIN
        interv_presc_det_hist_inout.id_interv_presc_det_hist    := NULL;
        interv_presc_det_hist_inout.dt_interv_prescription_hist := NULL;
        interv_presc_det_hist_inout.id_interv_presc_det         := NULL;
        interv_presc_det_hist_inout.id_interv_prescription      := NULL;
        interv_presc_det_hist_inout.id_intervention             := NULL;
        interv_presc_det_hist_inout.id_movement                 := NULL;
        interv_presc_det_hist_inout.flg_interv_type             := NULL;
        interv_presc_det_hist_inout.flg_status                  := NULL;
        interv_presc_det_hist_inout.notes                       := NULL;
        interv_presc_det_hist_inout.id_prof_cancel              := NULL;
        interv_presc_det_hist_inout.notes_cancel                := NULL;
        interv_presc_det_hist_inout.interval                    := NULL;
        interv_presc_det_hist_inout.num_take                    := NULL;
        interv_presc_det_hist_inout.dosage                      := NULL;
        interv_presc_det_hist_inout.id_drug_presc_det           := NULL;
        interv_presc_det_hist_inout.id_nurse_actv_req_det       := NULL;
        interv_presc_det_hist_inout.num_freq                    := NULL;
        interv_presc_det_hist_inout.flg_freq                    := NULL;
        interv_presc_det_hist_inout.num_sess                    := NULL;
        interv_presc_det_hist_inout.flg_prty                    := NULL;
        interv_presc_det_hist_inout.dt_end_tstz                 := NULL;
        interv_presc_det_hist_inout.dt_begin_tstz               := NULL;
        interv_presc_det_hist_inout.dt_cancel_tstz              := NULL;
        interv_presc_det_hist_inout.dt_interv_presc_det         := NULL;
        interv_presc_det_hist_inout.code_intervention_alias     := NULL;
        interv_presc_det_hist_inout.create_user                 := NULL;
        interv_presc_det_hist_inout.create_time                 := NULL;
        interv_presc_det_hist_inout.create_institution          := NULL;
        interv_presc_det_hist_inout.update_user                 := NULL;
        interv_presc_det_hist_inout.update_time                 := NULL;
        interv_presc_det_hist_inout.update_institution          := NULL;
        interv_presc_det_hist_inout.flg_referral                := NULL;
        interv_presc_det_hist_inout.dt_pend_req_tstz            := NULL;
        interv_presc_det_hist_inout.id_interv_codification      := NULL;
        interv_presc_det_hist_inout.id_exec_institution         := NULL;
        interv_presc_det_hist_inout.flg_laterality              := NULL;
        interv_presc_det_hist_inout.flg_clinical_purpose        := NULL;
        interv_presc_det_hist_inout.id_presc_plan_task          := NULL;
        interv_presc_det_hist_inout.id_not_order_reason         := NULL;
        interv_presc_det_hist_inout.id_cdr_event                := NULL;
        interv_presc_det_hist_inout.id_co_sign_order            := NULL;
        interv_presc_det_hist_inout.id_cancel_reason            := NULL;
        interv_presc_det_hist_inout.id_co_sign_cancel           := NULL;
        interv_presc_det_hist_inout.id_prof_last_update         := NULL;
        interv_presc_det_hist_inout.dt_last_update_tstz         := NULL;
        interv_presc_det_hist_inout.id_order_recurrence         := NULL;
        interv_presc_det_hist_inout.flg_fasting                 := NULL;
        interv_presc_det_hist_inout.flg_prn                     := NULL;
        interv_presc_det_hist_inout.prn_notes                   := NULL;
        interv_presc_det_hist_inout.id_pat_health_plan          := NULL;
        interv_presc_det_hist_inout.id_pat_exemption            := NULL;
        interv_presc_det_hist_inout.flg_req_origin_module       := NULL;
        interv_presc_det_hist_inout.dt_order_tstz               := NULL;
        interv_presc_det_hist_inout.id_diagnosis_list           := NULL;
        interv_presc_det_hist_inout.id_supplies_list            := NULL;
        interv_presc_det_hist_inout.id_clinical_purpose         := NULL;
        interv_presc_det_hist_inout.clinical_purpose_notes      := NULL;
        interv_presc_det_hist_inout.flg_location                := NULL;
        interv_presc_det_hist_inout.diagnosis_notes             := NULL;
    END initrec;

    -- Initialize a record with default values for columns in the table (fnc)
    FUNCTION initrec RETURN interv_presc_det_hist%ROWTYPE IS
        l_interv_presc_det_hist interv_presc_det_hist%ROWTYPE;
    BEGIN
        RETURN l_interv_presc_det_hist;
    END initrec;

    --get data from rowid
    FUNCTION get_data_rowid(rows_in IN table_varchar) RETURN interv_presc_det_hist_tc IS
        data interv_presc_det_hist_tc;
    BEGIN
        SELECT *
          BULK COLLECT
          INTO data
          FROM interv_presc_det_hist
         WHERE ROWID IN (SELECT /*+ OPT_ESTIMATE(TABLE t ROWS=1) */
                          *
                           FROM TABLE(rows_in) t);
        RETURN data;
    END get_data_rowid;

    --get data from rowid (pragma autonomous transacion)
    FUNCTION get_data_rowid_pat(rows_in IN table_varchar) RETURN interv_presc_det_hist_tc IS
        data interv_presc_det_hist_tc;
        PRAGMA AUTONOMOUS_TRANSACTION;
    BEGIN
        data := get_data_rowid(rows_in);
        COMMIT;
        RETURN data;
    
    EXCEPTION
        WHEN OTHERS THEN
            pk_alert_exceptions.raise_error(error_name_in => 'get_data_rowid_pat');
            ROLLBACK;
        
    END get_data_rowid_pat;

BEGIN
    NULL;
END ts_interv_presc_det_hist;
/
