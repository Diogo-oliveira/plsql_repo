/*-- Last Change Revision: $Rev: 2028297 $*/
/*-- Last Change by: $Author: mario.fernandes $*/
/*-- Date of last change: $Date: 2022-08-02 18:44:56 +0100 (ter, 02 ago 2022) $*/
CREATE OR REPLACE PACKAGE BODY ts_pat_cit
/*
| Generated by or retrieved - DO NOT MODIFY!
| Created On: 2018-11-08 09:43:04
| Created By: ALERT
*/
 IS

    e_null_column_value EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_null_column_value, -1400);

    e_existing_fky_reference EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_existing_fky_reference, -2266);

    e_check_constraint_failure EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_check_constraint_failure, -2290);

    e_no_parent_key EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_no_parent_key, -2291);

    e_child_record_found EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_child_record_found, -2292);

    e_forall_error EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_forall_error, -24381);

    -- Defined for backward compatibilty.
    e_integ_constraint_failure EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_integ_constraint_failure, -2291);

    FUNCTION next_key(sequence_in IN VARCHAR2 := NULL) RETURN pat_cit.id_pat_cit%TYPE IS
        retval pat_cit.id_pat_cit%TYPE;
    BEGIN
        IF sequence_in IS NULL
        THEN
            retval := seq_pat_cit.nextval;
        ELSE
            EXECUTE IMMEDIATE 'SELECT ' || sequence_in || '.NEXTVAL FROM dual'
                INTO retval;
        END IF;
        RETURN retval;
    END next_key;

    -- Insert one row, generating hidden primary key using a sequence
    PROCEDURE ins
    (
        id_patient_in                IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_episode_in                IN pat_cit.id_episode%TYPE DEFAULT NULL,
        flg_pat_disease_state_in     IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_prof_health_subsys_in    IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        ill_parent_name_in           IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        flg_ill_affinity_in          IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        ill_id_card_in               IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        flg_benef_health_subsys_in   IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_cit_classification_ss_in IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_fp_in IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_internment_in            IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_incapacity_period_in     IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        dt_start_period_tstz_in      IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_in        IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        flg_home_absence_in          IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        home_authorization_in        IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        flg_status_in                IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_type_in                  IN pat_cit.flg_type%TYPE DEFAULT NULL,
        id_prof_writes_in            IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_cancel_in            IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        dt_writes_tstz_in            IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in            IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        id_cancel_reason_in          IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        cancel_notes_in              IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        create_user_in               IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_time_in               IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_institution_in        IN pat_cit.create_institution%TYPE DEFAULT NULL,
        update_user_in               IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_time_in               IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_institution_in        IN pat_cit.update_institution%TYPE DEFAULT NULL,
        accident_cause_in            IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        flg_cit_type_in              IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_prognosis_type_in        IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_permanent_disability_in  IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_life_danger_in           IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        dt_event_tstz_in             IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_in         IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        flg_accident_type_in         IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        id_county_accident_in        IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        beneficiary_number_in        IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        landline_prefix_in           IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_number_in           IN pat_cit.landline_number%TYPE DEFAULT NULL,
        mobile_prefix_in             IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_number_in             IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        flg_zero_capac_end_in        IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_in         IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        zero_capac_end_num_in        IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_unit_in       IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        other_percentage_num_in      IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        dt_other_capac_start_in      IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        flg_other_capac_in           IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        dt_other_capac_end_in        IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        other_capac_end_num_in       IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_unit_in      IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        flg_reason_in                IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        notes_desc_in                IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        dt_treatment_end_in          IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_internment_pat_begin_in   IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_end_in     IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_certificate_renew_in      IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        id_epis_documentation_in     IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := TRUE,
        rows_out        OUT table_varchar
    ) IS
        l_pky pat_cit.id_pat_cit%TYPE := next_key;
    BEGIN
        ins(id_pat_cit_in                => l_pky,
            id_patient_in                => id_patient_in,
            id_episode_in                => id_episode_in,
            flg_pat_disease_state_in     => flg_pat_disease_state_in,
            flg_prof_health_subsys_in    => flg_prof_health_subsys_in,
            ill_parent_name_in           => ill_parent_name_in,
            flg_ill_affinity_in          => flg_ill_affinity_in,
            ill_id_card_in               => ill_id_card_in,
            flg_benef_health_subsys_in   => flg_benef_health_subsys_in,
            flg_cit_classification_ss_in => flg_cit_classification_ss_in,
            flg_cit_classification_fp_in => flg_cit_classification_fp_in,
            flg_internment_in            => flg_internment_in,
            flg_incapacity_period_in     => flg_incapacity_period_in,
            dt_start_period_tstz_in      => dt_start_period_tstz_in,
            dt_end_period_tstz_in        => dt_end_period_tstz_in,
            flg_home_absence_in          => flg_home_absence_in,
            home_authorization_in        => home_authorization_in,
            flg_status_in                => flg_status_in,
            flg_type_in                  => flg_type_in,
            id_prof_writes_in            => id_prof_writes_in,
            id_prof_cancel_in            => id_prof_cancel_in,
            dt_writes_tstz_in            => dt_writes_tstz_in,
            dt_cancel_tstz_in            => dt_cancel_tstz_in,
            id_cancel_reason_in          => id_cancel_reason_in,
            cancel_notes_in              => cancel_notes_in,
            create_user_in               => create_user_in,
            create_time_in               => create_time_in,
            create_institution_in        => create_institution_in,
            update_user_in               => update_user_in,
            update_time_in               => update_time_in,
            update_institution_in        => update_institution_in,
            accident_cause_in            => accident_cause_in,
            flg_cit_type_in              => flg_cit_type_in,
            flg_prognosis_type_in        => flg_prognosis_type_in,
            flg_permanent_disability_in  => flg_permanent_disability_in,
            flg_life_danger_in           => flg_life_danger_in,
            dt_event_tstz_in             => dt_event_tstz_in,
            dt_stop_work_tstz_in         => dt_stop_work_tstz_in,
            flg_accident_type_in         => flg_accident_type_in,
            id_county_accident_in        => id_county_accident_in,
            beneficiary_number_in        => beneficiary_number_in,
            landline_prefix_in           => landline_prefix_in,
            landline_number_in           => landline_number_in,
            mobile_prefix_in             => mobile_prefix_in,
            mobile_number_in             => mobile_number_in,
            flg_zero_capac_end_in        => flg_zero_capac_end_in,
            dt_zero_capac_end_in         => dt_zero_capac_end_in,
            zero_capac_end_num_in        => zero_capac_end_num_in,
            zero_capac_end_unit_in       => zero_capac_end_unit_in,
            other_percentage_num_in      => other_percentage_num_in,
            dt_other_capac_start_in      => dt_other_capac_start_in,
            flg_other_capac_in           => flg_other_capac_in,
            dt_other_capac_end_in        => dt_other_capac_end_in,
            other_capac_end_num_in       => other_capac_end_num_in,
            other_capac_end_unit_in      => other_capac_end_unit_in,
            flg_reason_in                => flg_reason_in,
            notes_desc_in                => notes_desc_in,
            dt_treatment_end_in          => dt_treatment_end_in,
            dt_internment_pat_begin_in   => dt_internment_pat_begin_in,
            dt_internment_pat_end_in     => dt_internment_pat_end_in,
            dt_certificate_renew_in      => dt_certificate_renew_in,
            id_epis_documentation_in     => id_epis_documentation_in,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
    END ins;

    -- Insert one row, generating hidden primary key using a sequence
    PROCEDURE ins
    (
        id_patient_in                IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_episode_in                IN pat_cit.id_episode%TYPE DEFAULT NULL,
        flg_pat_disease_state_in     IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_prof_health_subsys_in    IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        ill_parent_name_in           IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        flg_ill_affinity_in          IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        ill_id_card_in               IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        flg_benef_health_subsys_in   IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_cit_classification_ss_in IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_fp_in IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_internment_in            IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_incapacity_period_in     IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        dt_start_period_tstz_in      IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_in        IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        flg_home_absence_in          IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        home_authorization_in        IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        flg_status_in                IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_type_in                  IN pat_cit.flg_type%TYPE DEFAULT NULL,
        id_prof_writes_in            IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_cancel_in            IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        dt_writes_tstz_in            IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in            IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        id_cancel_reason_in          IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        cancel_notes_in              IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        create_user_in               IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_time_in               IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_institution_in        IN pat_cit.create_institution%TYPE DEFAULT NULL,
        update_user_in               IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_time_in               IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_institution_in        IN pat_cit.update_institution%TYPE DEFAULT NULL,
        accident_cause_in            IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        flg_cit_type_in              IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_prognosis_type_in        IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_permanent_disability_in  IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_life_danger_in           IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        dt_event_tstz_in             IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_in         IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        flg_accident_type_in         IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        id_county_accident_in        IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        beneficiary_number_in        IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        landline_prefix_in           IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_number_in           IN pat_cit.landline_number%TYPE DEFAULT NULL,
        mobile_prefix_in             IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_number_in             IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        flg_zero_capac_end_in        IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_in         IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        zero_capac_end_num_in        IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_unit_in       IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        other_percentage_num_in      IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        dt_other_capac_start_in      IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        flg_other_capac_in           IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        dt_other_capac_end_in        IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        other_capac_end_num_in       IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_unit_in      IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        flg_reason_in                IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        notes_desc_in                IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        dt_treatment_end_in          IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_internment_pat_begin_in   IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_end_in     IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_certificate_renew_in      IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        id_epis_documentation_in     IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(id_patient_in                => id_patient_in,
            id_episode_in                => id_episode_in,
            flg_pat_disease_state_in     => flg_pat_disease_state_in,
            flg_prof_health_subsys_in    => flg_prof_health_subsys_in,
            ill_parent_name_in           => ill_parent_name_in,
            flg_ill_affinity_in          => flg_ill_affinity_in,
            ill_id_card_in               => ill_id_card_in,
            flg_benef_health_subsys_in   => flg_benef_health_subsys_in,
            flg_cit_classification_ss_in => flg_cit_classification_ss_in,
            flg_cit_classification_fp_in => flg_cit_classification_fp_in,
            flg_internment_in            => flg_internment_in,
            flg_incapacity_period_in     => flg_incapacity_period_in,
            dt_start_period_tstz_in      => dt_start_period_tstz_in,
            dt_end_period_tstz_in        => dt_end_period_tstz_in,
            flg_home_absence_in          => flg_home_absence_in,
            home_authorization_in        => home_authorization_in,
            flg_status_in                => flg_status_in,
            flg_type_in                  => flg_type_in,
            id_prof_writes_in            => id_prof_writes_in,
            id_prof_cancel_in            => id_prof_cancel_in,
            dt_writes_tstz_in            => dt_writes_tstz_in,
            dt_cancel_tstz_in            => dt_cancel_tstz_in,
            id_cancel_reason_in          => id_cancel_reason_in,
            cancel_notes_in              => cancel_notes_in,
            create_user_in               => create_user_in,
            create_time_in               => create_time_in,
            create_institution_in        => create_institution_in,
            update_user_in               => update_user_in,
            update_time_in               => update_time_in,
            update_institution_in        => update_institution_in,
            accident_cause_in            => accident_cause_in,
            flg_cit_type_in              => flg_cit_type_in,
            flg_prognosis_type_in        => flg_prognosis_type_in,
            flg_permanent_disability_in  => flg_permanent_disability_in,
            flg_life_danger_in           => flg_life_danger_in,
            dt_event_tstz_in             => dt_event_tstz_in,
            dt_stop_work_tstz_in         => dt_stop_work_tstz_in,
            flg_accident_type_in         => flg_accident_type_in,
            id_county_accident_in        => id_county_accident_in,
            beneficiary_number_in        => beneficiary_number_in,
            landline_prefix_in           => landline_prefix_in,
            landline_number_in           => landline_number_in,
            mobile_prefix_in             => mobile_prefix_in,
            mobile_number_in             => mobile_number_in,
            flg_zero_capac_end_in        => flg_zero_capac_end_in,
            dt_zero_capac_end_in         => dt_zero_capac_end_in,
            zero_capac_end_num_in        => zero_capac_end_num_in,
            zero_capac_end_unit_in       => zero_capac_end_unit_in,
            other_percentage_num_in      => other_percentage_num_in,
            dt_other_capac_start_in      => dt_other_capac_start_in,
            flg_other_capac_in           => flg_other_capac_in,
            dt_other_capac_end_in        => dt_other_capac_end_in,
            other_capac_end_num_in       => other_capac_end_num_in,
            other_capac_end_unit_in      => other_capac_end_unit_in,
            flg_reason_in                => flg_reason_in,
            notes_desc_in                => notes_desc_in,
            dt_treatment_end_in          => dt_treatment_end_in,
            dt_internment_pat_begin_in   => dt_internment_pat_begin_in,
            dt_internment_pat_end_in     => dt_internment_pat_end_in,
            dt_certificate_renew_in      => dt_certificate_renew_in,
            id_epis_documentation_in     => id_epis_documentation_in,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
    END ins;

    -- Insert one row, returning primary key generated by sequence
    PROCEDURE ins
    (
        id_patient_in                IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_episode_in                IN pat_cit.id_episode%TYPE DEFAULT NULL,
        flg_pat_disease_state_in     IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_prof_health_subsys_in    IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        ill_parent_name_in           IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        flg_ill_affinity_in          IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        ill_id_card_in               IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        flg_benef_health_subsys_in   IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_cit_classification_ss_in IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_fp_in IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_internment_in            IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_incapacity_period_in     IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        dt_start_period_tstz_in      IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_in        IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        flg_home_absence_in          IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        home_authorization_in        IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        flg_status_in                IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_type_in                  IN pat_cit.flg_type%TYPE DEFAULT NULL,
        id_prof_writes_in            IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_cancel_in            IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        dt_writes_tstz_in            IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in            IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        id_cancel_reason_in          IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        cancel_notes_in              IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        create_user_in               IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_time_in               IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_institution_in        IN pat_cit.create_institution%TYPE DEFAULT NULL,
        update_user_in               IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_time_in               IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_institution_in        IN pat_cit.update_institution%TYPE DEFAULT NULL,
        accident_cause_in            IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        flg_cit_type_in              IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_prognosis_type_in        IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_permanent_disability_in  IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_life_danger_in           IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        dt_event_tstz_in             IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_in         IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        flg_accident_type_in         IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        id_county_accident_in        IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        beneficiary_number_in        IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        landline_prefix_in           IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_number_in           IN pat_cit.landline_number%TYPE DEFAULT NULL,
        mobile_prefix_in             IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_number_in             IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        flg_zero_capac_end_in        IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_in         IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        zero_capac_end_num_in        IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_unit_in       IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        other_percentage_num_in      IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        dt_other_capac_start_in      IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        flg_other_capac_in           IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        dt_other_capac_end_in        IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        other_capac_end_num_in       IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_unit_in      IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        flg_reason_in                IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        notes_desc_in                IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        dt_treatment_end_in          IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_internment_pat_begin_in   IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_end_in     IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_certificate_renew_in      IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        id_epis_documentation_in     IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        id_pat_cit_out               IN OUT pat_cit.id_pat_cit%TYPE,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := TRUE,
        rows_out        OUT table_varchar
    ) IS
        l_pky pat_cit.id_pat_cit%TYPE := next_key;
    BEGIN
        ins(id_pat_cit_in                => l_pky,
            id_patient_in                => id_patient_in,
            id_episode_in                => id_episode_in,
            flg_pat_disease_state_in     => flg_pat_disease_state_in,
            flg_prof_health_subsys_in    => flg_prof_health_subsys_in,
            ill_parent_name_in           => ill_parent_name_in,
            flg_ill_affinity_in          => flg_ill_affinity_in,
            ill_id_card_in               => ill_id_card_in,
            flg_benef_health_subsys_in   => flg_benef_health_subsys_in,
            flg_cit_classification_ss_in => flg_cit_classification_ss_in,
            flg_cit_classification_fp_in => flg_cit_classification_fp_in,
            flg_internment_in            => flg_internment_in,
            flg_incapacity_period_in     => flg_incapacity_period_in,
            dt_start_period_tstz_in      => dt_start_period_tstz_in,
            dt_end_period_tstz_in        => dt_end_period_tstz_in,
            flg_home_absence_in          => flg_home_absence_in,
            home_authorization_in        => home_authorization_in,
            flg_status_in                => flg_status_in,
            flg_type_in                  => flg_type_in,
            id_prof_writes_in            => id_prof_writes_in,
            id_prof_cancel_in            => id_prof_cancel_in,
            dt_writes_tstz_in            => dt_writes_tstz_in,
            dt_cancel_tstz_in            => dt_cancel_tstz_in,
            id_cancel_reason_in          => id_cancel_reason_in,
            cancel_notes_in              => cancel_notes_in,
            create_user_in               => create_user_in,
            create_time_in               => create_time_in,
            create_institution_in        => create_institution_in,
            update_user_in               => update_user_in,
            update_time_in               => update_time_in,
            update_institution_in        => update_institution_in,
            accident_cause_in            => accident_cause_in,
            flg_cit_type_in              => flg_cit_type_in,
            flg_prognosis_type_in        => flg_prognosis_type_in,
            flg_permanent_disability_in  => flg_permanent_disability_in,
            flg_life_danger_in           => flg_life_danger_in,
            dt_event_tstz_in             => dt_event_tstz_in,
            dt_stop_work_tstz_in         => dt_stop_work_tstz_in,
            flg_accident_type_in         => flg_accident_type_in,
            id_county_accident_in        => id_county_accident_in,
            beneficiary_number_in        => beneficiary_number_in,
            landline_prefix_in           => landline_prefix_in,
            landline_number_in           => landline_number_in,
            mobile_prefix_in             => mobile_prefix_in,
            mobile_number_in             => mobile_number_in,
            flg_zero_capac_end_in        => flg_zero_capac_end_in,
            dt_zero_capac_end_in         => dt_zero_capac_end_in,
            zero_capac_end_num_in        => zero_capac_end_num_in,
            zero_capac_end_unit_in       => zero_capac_end_unit_in,
            other_percentage_num_in      => other_percentage_num_in,
            dt_other_capac_start_in      => dt_other_capac_start_in,
            flg_other_capac_in           => flg_other_capac_in,
            dt_other_capac_end_in        => dt_other_capac_end_in,
            other_capac_end_num_in       => other_capac_end_num_in,
            other_capac_end_unit_in      => other_capac_end_unit_in,
            flg_reason_in                => flg_reason_in,
            notes_desc_in                => notes_desc_in,
            dt_treatment_end_in          => dt_treatment_end_in,
            dt_internment_pat_begin_in   => dt_internment_pat_begin_in,
            dt_internment_pat_end_in     => dt_internment_pat_end_in,
            dt_certificate_renew_in      => dt_certificate_renew_in,
            id_epis_documentation_in     => id_epis_documentation_in,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
        id_pat_cit_out := l_pky;
    END ins;

    -- Insert one row, returning primary key generated by sequence
    PROCEDURE ins
    (
        id_patient_in                IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_episode_in                IN pat_cit.id_episode%TYPE DEFAULT NULL,
        flg_pat_disease_state_in     IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_prof_health_subsys_in    IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        ill_parent_name_in           IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        flg_ill_affinity_in          IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        ill_id_card_in               IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        flg_benef_health_subsys_in   IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_cit_classification_ss_in IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_fp_in IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_internment_in            IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_incapacity_period_in     IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        dt_start_period_tstz_in      IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_in        IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        flg_home_absence_in          IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        home_authorization_in        IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        flg_status_in                IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_type_in                  IN pat_cit.flg_type%TYPE DEFAULT NULL,
        id_prof_writes_in            IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_cancel_in            IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        dt_writes_tstz_in            IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in            IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        id_cancel_reason_in          IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        cancel_notes_in              IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        create_user_in               IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_time_in               IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_institution_in        IN pat_cit.create_institution%TYPE DEFAULT NULL,
        update_user_in               IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_time_in               IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_institution_in        IN pat_cit.update_institution%TYPE DEFAULT NULL,
        accident_cause_in            IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        flg_cit_type_in              IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_prognosis_type_in        IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_permanent_disability_in  IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_life_danger_in           IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        dt_event_tstz_in             IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_in         IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        flg_accident_type_in         IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        id_county_accident_in        IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        beneficiary_number_in        IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        landline_prefix_in           IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_number_in           IN pat_cit.landline_number%TYPE DEFAULT NULL,
        mobile_prefix_in             IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_number_in             IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        flg_zero_capac_end_in        IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_in         IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        zero_capac_end_num_in        IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_unit_in       IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        other_percentage_num_in      IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        dt_other_capac_start_in      IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        flg_other_capac_in           IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        dt_other_capac_end_in        IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        other_capac_end_num_in       IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_unit_in      IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        flg_reason_in                IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        notes_desc_in                IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        dt_treatment_end_in          IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_internment_pat_begin_in   IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_end_in     IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_certificate_renew_in      IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        id_epis_documentation_in     IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        id_pat_cit_out               IN OUT pat_cit.id_pat_cit%TYPE,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(id_patient_in                => id_patient_in,
            id_episode_in                => id_episode_in,
            flg_pat_disease_state_in     => flg_pat_disease_state_in,
            flg_prof_health_subsys_in    => flg_prof_health_subsys_in,
            ill_parent_name_in           => ill_parent_name_in,
            flg_ill_affinity_in          => flg_ill_affinity_in,
            ill_id_card_in               => ill_id_card_in,
            flg_benef_health_subsys_in   => flg_benef_health_subsys_in,
            flg_cit_classification_ss_in => flg_cit_classification_ss_in,
            flg_cit_classification_fp_in => flg_cit_classification_fp_in,
            flg_internment_in            => flg_internment_in,
            flg_incapacity_period_in     => flg_incapacity_period_in,
            dt_start_period_tstz_in      => dt_start_period_tstz_in,
            dt_end_period_tstz_in        => dt_end_period_tstz_in,
            flg_home_absence_in          => flg_home_absence_in,
            home_authorization_in        => home_authorization_in,
            flg_status_in                => flg_status_in,
            flg_type_in                  => flg_type_in,
            id_prof_writes_in            => id_prof_writes_in,
            id_prof_cancel_in            => id_prof_cancel_in,
            dt_writes_tstz_in            => dt_writes_tstz_in,
            dt_cancel_tstz_in            => dt_cancel_tstz_in,
            id_cancel_reason_in          => id_cancel_reason_in,
            cancel_notes_in              => cancel_notes_in,
            create_user_in               => create_user_in,
            create_time_in               => create_time_in,
            create_institution_in        => create_institution_in,
            update_user_in               => update_user_in,
            update_time_in               => update_time_in,
            update_institution_in        => update_institution_in,
            accident_cause_in            => accident_cause_in,
            flg_cit_type_in              => flg_cit_type_in,
            flg_prognosis_type_in        => flg_prognosis_type_in,
            flg_permanent_disability_in  => flg_permanent_disability_in,
            flg_life_danger_in           => flg_life_danger_in,
            dt_event_tstz_in             => dt_event_tstz_in,
            dt_stop_work_tstz_in         => dt_stop_work_tstz_in,
            flg_accident_type_in         => flg_accident_type_in,
            id_county_accident_in        => id_county_accident_in,
            beneficiary_number_in        => beneficiary_number_in,
            landline_prefix_in           => landline_prefix_in,
            landline_number_in           => landline_number_in,
            mobile_prefix_in             => mobile_prefix_in,
            mobile_number_in             => mobile_number_in,
            flg_zero_capac_end_in        => flg_zero_capac_end_in,
            dt_zero_capac_end_in         => dt_zero_capac_end_in,
            zero_capac_end_num_in        => zero_capac_end_num_in,
            zero_capac_end_unit_in       => zero_capac_end_unit_in,
            other_percentage_num_in      => other_percentage_num_in,
            dt_other_capac_start_in      => dt_other_capac_start_in,
            flg_other_capac_in           => flg_other_capac_in,
            dt_other_capac_end_in        => dt_other_capac_end_in,
            other_capac_end_num_in       => other_capac_end_num_in,
            other_capac_end_unit_in      => other_capac_end_unit_in,
            flg_reason_in                => flg_reason_in,
            notes_desc_in                => notes_desc_in,
            dt_treatment_end_in          => dt_treatment_end_in,
            dt_internment_pat_begin_in   => dt_internment_pat_begin_in,
            dt_internment_pat_end_in     => dt_internment_pat_end_in,
            dt_certificate_renew_in      => dt_certificate_renew_in,
            id_epis_documentation_in     => id_epis_documentation_in,
            id_pat_cit_out               => id_pat_cit_out,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
    END ins;

    -- Insert one row with function, return generated primary key
    FUNCTION ins
    (
        id_patient_in                IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_episode_in                IN pat_cit.id_episode%TYPE DEFAULT NULL,
        flg_pat_disease_state_in     IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_prof_health_subsys_in    IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        ill_parent_name_in           IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        flg_ill_affinity_in          IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        ill_id_card_in               IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        flg_benef_health_subsys_in   IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_cit_classification_ss_in IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_fp_in IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_internment_in            IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_incapacity_period_in     IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        dt_start_period_tstz_in      IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_in        IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        flg_home_absence_in          IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        home_authorization_in        IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        flg_status_in                IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_type_in                  IN pat_cit.flg_type%TYPE DEFAULT NULL,
        id_prof_writes_in            IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_cancel_in            IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        dt_writes_tstz_in            IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in            IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        id_cancel_reason_in          IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        cancel_notes_in              IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        create_user_in               IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_time_in               IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_institution_in        IN pat_cit.create_institution%TYPE DEFAULT NULL,
        update_user_in               IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_time_in               IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_institution_in        IN pat_cit.update_institution%TYPE DEFAULT NULL,
        accident_cause_in            IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        flg_cit_type_in              IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_prognosis_type_in        IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_permanent_disability_in  IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_life_danger_in           IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        dt_event_tstz_in             IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_in         IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        flg_accident_type_in         IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        id_county_accident_in        IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        beneficiary_number_in        IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        landline_prefix_in           IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_number_in           IN pat_cit.landline_number%TYPE DEFAULT NULL,
        mobile_prefix_in             IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_number_in             IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        flg_zero_capac_end_in        IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_in         IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        zero_capac_end_num_in        IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_unit_in       IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        other_percentage_num_in      IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        dt_other_capac_start_in      IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        flg_other_capac_in           IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        dt_other_capac_end_in        IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        other_capac_end_num_in       IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_unit_in      IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        flg_reason_in                IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        notes_desc_in                IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        dt_treatment_end_in          IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_internment_pat_begin_in   IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_end_in     IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_certificate_renew_in      IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        id_epis_documentation_in     IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := TRUE,
        rows_out        OUT table_varchar
    ) RETURN pat_cit.id_pat_cit%TYPE IS
        l_pky pat_cit.id_pat_cit%TYPE := next_key;
    BEGIN
        ins(id_pat_cit_in                => l_pky,
            id_patient_in                => id_patient_in,
            id_episode_in                => id_episode_in,
            flg_pat_disease_state_in     => flg_pat_disease_state_in,
            flg_prof_health_subsys_in    => flg_prof_health_subsys_in,
            ill_parent_name_in           => ill_parent_name_in,
            flg_ill_affinity_in          => flg_ill_affinity_in,
            ill_id_card_in               => ill_id_card_in,
            flg_benef_health_subsys_in   => flg_benef_health_subsys_in,
            flg_cit_classification_ss_in => flg_cit_classification_ss_in,
            flg_cit_classification_fp_in => flg_cit_classification_fp_in,
            flg_internment_in            => flg_internment_in,
            flg_incapacity_period_in     => flg_incapacity_period_in,
            dt_start_period_tstz_in      => dt_start_period_tstz_in,
            dt_end_period_tstz_in        => dt_end_period_tstz_in,
            flg_home_absence_in          => flg_home_absence_in,
            home_authorization_in        => home_authorization_in,
            flg_status_in                => flg_status_in,
            flg_type_in                  => flg_type_in,
            id_prof_writes_in            => id_prof_writes_in,
            id_prof_cancel_in            => id_prof_cancel_in,
            dt_writes_tstz_in            => dt_writes_tstz_in,
            dt_cancel_tstz_in            => dt_cancel_tstz_in,
            id_cancel_reason_in          => id_cancel_reason_in,
            cancel_notes_in              => cancel_notes_in,
            create_user_in               => create_user_in,
            create_time_in               => create_time_in,
            create_institution_in        => create_institution_in,
            update_user_in               => update_user_in,
            update_time_in               => update_time_in,
            update_institution_in        => update_institution_in,
            accident_cause_in            => accident_cause_in,
            flg_cit_type_in              => flg_cit_type_in,
            flg_prognosis_type_in        => flg_prognosis_type_in,
            flg_permanent_disability_in  => flg_permanent_disability_in,
            flg_life_danger_in           => flg_life_danger_in,
            dt_event_tstz_in             => dt_event_tstz_in,
            dt_stop_work_tstz_in         => dt_stop_work_tstz_in,
            flg_accident_type_in         => flg_accident_type_in,
            id_county_accident_in        => id_county_accident_in,
            beneficiary_number_in        => beneficiary_number_in,
            landline_prefix_in           => landline_prefix_in,
            landline_number_in           => landline_number_in,
            mobile_prefix_in             => mobile_prefix_in,
            mobile_number_in             => mobile_number_in,
            flg_zero_capac_end_in        => flg_zero_capac_end_in,
            dt_zero_capac_end_in         => dt_zero_capac_end_in,
            zero_capac_end_num_in        => zero_capac_end_num_in,
            zero_capac_end_unit_in       => zero_capac_end_unit_in,
            other_percentage_num_in      => other_percentage_num_in,
            dt_other_capac_start_in      => dt_other_capac_start_in,
            flg_other_capac_in           => flg_other_capac_in,
            dt_other_capac_end_in        => dt_other_capac_end_in,
            other_capac_end_num_in       => other_capac_end_num_in,
            other_capac_end_unit_in      => other_capac_end_unit_in,
            flg_reason_in                => flg_reason_in,
            notes_desc_in                => notes_desc_in,
            dt_treatment_end_in          => dt_treatment_end_in,
            dt_internment_pat_begin_in   => dt_internment_pat_begin_in,
            dt_internment_pat_end_in     => dt_internment_pat_end_in,
            dt_certificate_renew_in      => dt_certificate_renew_in,
            id_epis_documentation_in     => id_epis_documentation_in,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
        RETURN l_pky;
    END ins;

    -- Insert one row with function, return generated primary key
    FUNCTION ins
    (
        id_patient_in                IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_episode_in                IN pat_cit.id_episode%TYPE DEFAULT NULL,
        flg_pat_disease_state_in     IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_prof_health_subsys_in    IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        ill_parent_name_in           IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        flg_ill_affinity_in          IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        ill_id_card_in               IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        flg_benef_health_subsys_in   IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_cit_classification_ss_in IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_fp_in IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_internment_in            IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_incapacity_period_in     IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        dt_start_period_tstz_in      IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_in        IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        flg_home_absence_in          IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        home_authorization_in        IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        flg_status_in                IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_type_in                  IN pat_cit.flg_type%TYPE DEFAULT NULL,
        id_prof_writes_in            IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_cancel_in            IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        dt_writes_tstz_in            IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in            IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        id_cancel_reason_in          IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        cancel_notes_in              IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        create_user_in               IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_time_in               IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_institution_in        IN pat_cit.create_institution%TYPE DEFAULT NULL,
        update_user_in               IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_time_in               IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_institution_in        IN pat_cit.update_institution%TYPE DEFAULT NULL,
        accident_cause_in            IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        flg_cit_type_in              IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_prognosis_type_in        IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_permanent_disability_in  IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_life_danger_in           IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        dt_event_tstz_in             IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_in         IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        flg_accident_type_in         IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        id_county_accident_in        IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        beneficiary_number_in        IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        landline_prefix_in           IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_number_in           IN pat_cit.landline_number%TYPE DEFAULT NULL,
        mobile_prefix_in             IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_number_in             IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        flg_zero_capac_end_in        IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_in         IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        zero_capac_end_num_in        IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_unit_in       IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        other_percentage_num_in      IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        dt_other_capac_start_in      IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        flg_other_capac_in           IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        dt_other_capac_end_in        IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        other_capac_end_num_in       IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_unit_in      IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        flg_reason_in                IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        notes_desc_in                IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        dt_treatment_end_in          IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_internment_pat_begin_in   IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_end_in     IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_certificate_renew_in      IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        id_epis_documentation_in     IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        -- Pass false if you want errors to propagate out unhandled
        handle_error_in IN BOOLEAN := TRUE
    ) RETURN pat_cit.id_pat_cit%TYPE IS
        l_pky    pat_cit.id_pat_cit%TYPE := next_key;
        rows_out table_varchar;
    BEGIN
        ins(id_pat_cit_in                => l_pky,
            id_patient_in                => id_patient_in,
            id_episode_in                => id_episode_in,
            flg_pat_disease_state_in     => flg_pat_disease_state_in,
            flg_prof_health_subsys_in    => flg_prof_health_subsys_in,
            ill_parent_name_in           => ill_parent_name_in,
            flg_ill_affinity_in          => flg_ill_affinity_in,
            ill_id_card_in               => ill_id_card_in,
            flg_benef_health_subsys_in   => flg_benef_health_subsys_in,
            flg_cit_classification_ss_in => flg_cit_classification_ss_in,
            flg_cit_classification_fp_in => flg_cit_classification_fp_in,
            flg_internment_in            => flg_internment_in,
            flg_incapacity_period_in     => flg_incapacity_period_in,
            dt_start_period_tstz_in      => dt_start_period_tstz_in,
            dt_end_period_tstz_in        => dt_end_period_tstz_in,
            flg_home_absence_in          => flg_home_absence_in,
            home_authorization_in        => home_authorization_in,
            flg_status_in                => flg_status_in,
            flg_type_in                  => flg_type_in,
            id_prof_writes_in            => id_prof_writes_in,
            id_prof_cancel_in            => id_prof_cancel_in,
            dt_writes_tstz_in            => dt_writes_tstz_in,
            dt_cancel_tstz_in            => dt_cancel_tstz_in,
            id_cancel_reason_in          => id_cancel_reason_in,
            cancel_notes_in              => cancel_notes_in,
            create_user_in               => create_user_in,
            create_time_in               => create_time_in,
            create_institution_in        => create_institution_in,
            update_user_in               => update_user_in,
            update_time_in               => update_time_in,
            update_institution_in        => update_institution_in,
            accident_cause_in            => accident_cause_in,
            flg_cit_type_in              => flg_cit_type_in,
            flg_prognosis_type_in        => flg_prognosis_type_in,
            flg_permanent_disability_in  => flg_permanent_disability_in,
            flg_life_danger_in           => flg_life_danger_in,
            dt_event_tstz_in             => dt_event_tstz_in,
            dt_stop_work_tstz_in         => dt_stop_work_tstz_in,
            flg_accident_type_in         => flg_accident_type_in,
            id_county_accident_in        => id_county_accident_in,
            beneficiary_number_in        => beneficiary_number_in,
            landline_prefix_in           => landline_prefix_in,
            landline_number_in           => landline_number_in,
            mobile_prefix_in             => mobile_prefix_in,
            mobile_number_in             => mobile_number_in,
            flg_zero_capac_end_in        => flg_zero_capac_end_in,
            dt_zero_capac_end_in         => dt_zero_capac_end_in,
            zero_capac_end_num_in        => zero_capac_end_num_in,
            zero_capac_end_unit_in       => zero_capac_end_unit_in,
            other_percentage_num_in      => other_percentage_num_in,
            dt_other_capac_start_in      => dt_other_capac_start_in,
            flg_other_capac_in           => flg_other_capac_in,
            dt_other_capac_end_in        => dt_other_capac_end_in,
            other_capac_end_num_in       => other_capac_end_num_in,
            other_capac_end_unit_in      => other_capac_end_unit_in,
            flg_reason_in                => flg_reason_in,
            notes_desc_in                => notes_desc_in,
            dt_treatment_end_in          => dt_treatment_end_in,
            dt_internment_pat_begin_in   => dt_internment_pat_begin_in,
            dt_internment_pat_end_in     => dt_internment_pat_end_in,
            dt_certificate_renew_in      => dt_certificate_renew_in,
            id_epis_documentation_in     => id_epis_documentation_in,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
        RETURN l_pky;
    END ins;

    PROCEDURE ins
    (
        id_pat_cit_in                IN pat_cit.id_pat_cit%TYPE,
        id_patient_in                IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_episode_in                IN pat_cit.id_episode%TYPE DEFAULT NULL,
        flg_pat_disease_state_in     IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_prof_health_subsys_in    IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        ill_parent_name_in           IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        flg_ill_affinity_in          IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        ill_id_card_in               IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        flg_benef_health_subsys_in   IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_cit_classification_ss_in IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_fp_in IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_internment_in            IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_incapacity_period_in     IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        dt_start_period_tstz_in      IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_in        IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        flg_home_absence_in          IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        home_authorization_in        IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        flg_status_in                IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_type_in                  IN pat_cit.flg_type%TYPE DEFAULT NULL,
        id_prof_writes_in            IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_cancel_in            IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        dt_writes_tstz_in            IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in            IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        id_cancel_reason_in          IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        cancel_notes_in              IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        create_user_in               IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_time_in               IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_institution_in        IN pat_cit.create_institution%TYPE DEFAULT NULL,
        update_user_in               IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_time_in               IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_institution_in        IN pat_cit.update_institution%TYPE DEFAULT NULL,
        accident_cause_in            IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        flg_cit_type_in              IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_prognosis_type_in        IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_permanent_disability_in  IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_life_danger_in           IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        dt_event_tstz_in             IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_in         IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        flg_accident_type_in         IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        id_county_accident_in        IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        beneficiary_number_in        IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        landline_prefix_in           IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_number_in           IN pat_cit.landline_number%TYPE DEFAULT NULL,
        mobile_prefix_in             IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_number_in             IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        flg_zero_capac_end_in        IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_in         IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        zero_capac_end_num_in        IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_unit_in       IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        other_percentage_num_in      IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        dt_other_capac_start_in      IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        flg_other_capac_in           IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        dt_other_capac_end_in        IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        other_capac_end_num_in       IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_unit_in      IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        flg_reason_in                IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        notes_desc_in                IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        dt_treatment_end_in          IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_internment_pat_begin_in   IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_end_in     IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_certificate_renew_in      IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        id_epis_documentation_in     IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        handle_error_in              IN BOOLEAN := TRUE,
        rows_out                     OUT table_varchar
    ) IS
    BEGIN
        INSERT INTO pat_cit
            (id_pat_cit,
             id_patient,
             id_episode,
             flg_pat_disease_state,
             flg_prof_health_subsys,
             ill_parent_name,
             flg_ill_affinity,
             ill_id_card,
             flg_benef_health_subsys,
             flg_cit_classification_ss,
             flg_cit_classification_fp,
             flg_internment,
             flg_incapacity_period,
             dt_start_period_tstz,
             dt_end_period_tstz,
             flg_home_absence,
             home_authorization,
             flg_status,
             flg_type,
             id_prof_writes,
             id_prof_cancel,
             dt_writes_tstz,
             dt_cancel_tstz,
             id_cancel_reason,
             cancel_notes,
             create_user,
             create_time,
             create_institution,
             update_user,
             update_time,
             update_institution,
             accident_cause,
             flg_cit_type,
             flg_prognosis_type,
             flg_permanent_disability,
             flg_life_danger,
             dt_event_tstz,
             dt_stop_work_tstz,
             flg_accident_type,
             id_county_accident,
             beneficiary_number,
             landline_prefix,
             landline_number,
             mobile_prefix,
             mobile_number,
             flg_zero_capac_end,
             dt_zero_capac_end,
             zero_capac_end_num,
             zero_capac_end_unit,
             other_percentage_num,
             dt_other_capac_start,
             flg_other_capac,
             dt_other_capac_end,
             other_capac_end_num,
             other_capac_end_unit,
             flg_reason,
             notes_desc,
             dt_treatment_end,
             dt_internment_pat_begin,
             dt_internment_pat_end,
             dt_certificate_renew,
             id_epis_documentation)
        VALUES
            (id_pat_cit_in,
             id_patient_in,
             id_episode_in,
             flg_pat_disease_state_in,
             flg_prof_health_subsys_in,
             ill_parent_name_in,
             flg_ill_affinity_in,
             ill_id_card_in,
             flg_benef_health_subsys_in,
             flg_cit_classification_ss_in,
             flg_cit_classification_fp_in,
             flg_internment_in,
             flg_incapacity_period_in,
             dt_start_period_tstz_in,
             dt_end_period_tstz_in,
             flg_home_absence_in,
             home_authorization_in,
             flg_status_in,
             flg_type_in,
             id_prof_writes_in,
             id_prof_cancel_in,
             dt_writes_tstz_in,
             dt_cancel_tstz_in,
             id_cancel_reason_in,
             cancel_notes_in,
             create_user_in,
             create_time_in,
             create_institution_in,
             update_user_in,
             update_time_in,
             update_institution_in,
             accident_cause_in,
             flg_cit_type_in,
             flg_prognosis_type_in,
             flg_permanent_disability_in,
             flg_life_danger_in,
             dt_event_tstz_in,
             dt_stop_work_tstz_in,
             flg_accident_type_in,
             id_county_accident_in,
             beneficiary_number_in,
             landline_prefix_in,
             landline_number_in,
             mobile_prefix_in,
             mobile_number_in,
             flg_zero_capac_end_in,
             dt_zero_capac_end_in,
             zero_capac_end_num_in,
             zero_capac_end_unit_in,
             other_percentage_num_in,
             dt_other_capac_start_in,
             flg_other_capac_in,
             dt_other_capac_end_in,
             other_capac_end_num_in,
             other_capac_end_unit_in,
             flg_reason_in,
             notes_desc_in,
             dt_treatment_end_in,
             dt_internment_pat_begin_in,
             dt_internment_pat_end_in,
             dt_certificate_renew_in,
             id_epis_documentation_in)
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END ins;

    PROCEDURE ins
    (
        id_pat_cit_in                IN pat_cit.id_pat_cit%TYPE,
        id_patient_in                IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_episode_in                IN pat_cit.id_episode%TYPE DEFAULT NULL,
        flg_pat_disease_state_in     IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_prof_health_subsys_in    IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        ill_parent_name_in           IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        flg_ill_affinity_in          IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        ill_id_card_in               IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        flg_benef_health_subsys_in   IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_cit_classification_ss_in IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_fp_in IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_internment_in            IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_incapacity_period_in     IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        dt_start_period_tstz_in      IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_in        IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        flg_home_absence_in          IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        home_authorization_in        IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        flg_status_in                IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_type_in                  IN pat_cit.flg_type%TYPE DEFAULT NULL,
        id_prof_writes_in            IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_cancel_in            IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        dt_writes_tstz_in            IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in            IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        id_cancel_reason_in          IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        cancel_notes_in              IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        create_user_in               IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_time_in               IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_institution_in        IN pat_cit.create_institution%TYPE DEFAULT NULL,
        update_user_in               IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_time_in               IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_institution_in        IN pat_cit.update_institution%TYPE DEFAULT NULL,
        accident_cause_in            IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        flg_cit_type_in              IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_prognosis_type_in        IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_permanent_disability_in  IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_life_danger_in           IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        dt_event_tstz_in             IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_in         IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        flg_accident_type_in         IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        id_county_accident_in        IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        beneficiary_number_in        IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        landline_prefix_in           IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_number_in           IN pat_cit.landline_number%TYPE DEFAULT NULL,
        mobile_prefix_in             IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_number_in             IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        flg_zero_capac_end_in        IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_in         IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        zero_capac_end_num_in        IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_unit_in       IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        other_percentage_num_in      IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        dt_other_capac_start_in      IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        flg_other_capac_in           IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        dt_other_capac_end_in        IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        other_capac_end_num_in       IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_unit_in      IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        flg_reason_in                IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        notes_desc_in                IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        dt_treatment_end_in          IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_internment_pat_begin_in   IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_end_in     IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_certificate_renew_in      IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        id_epis_documentation_in     IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        handle_error_in              IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(id_pat_cit_in                => id_pat_cit_in,
            id_patient_in                => id_patient_in,
            id_episode_in                => id_episode_in,
            flg_pat_disease_state_in     => flg_pat_disease_state_in,
            flg_prof_health_subsys_in    => flg_prof_health_subsys_in,
            ill_parent_name_in           => ill_parent_name_in,
            flg_ill_affinity_in          => flg_ill_affinity_in,
            ill_id_card_in               => ill_id_card_in,
            flg_benef_health_subsys_in   => flg_benef_health_subsys_in,
            flg_cit_classification_ss_in => flg_cit_classification_ss_in,
            flg_cit_classification_fp_in => flg_cit_classification_fp_in,
            flg_internment_in            => flg_internment_in,
            flg_incapacity_period_in     => flg_incapacity_period_in,
            dt_start_period_tstz_in      => dt_start_period_tstz_in,
            dt_end_period_tstz_in        => dt_end_period_tstz_in,
            flg_home_absence_in          => flg_home_absence_in,
            home_authorization_in        => home_authorization_in,
            flg_status_in                => flg_status_in,
            flg_type_in                  => flg_type_in,
            id_prof_writes_in            => id_prof_writes_in,
            id_prof_cancel_in            => id_prof_cancel_in,
            dt_writes_tstz_in            => dt_writes_tstz_in,
            dt_cancel_tstz_in            => dt_cancel_tstz_in,
            id_cancel_reason_in          => id_cancel_reason_in,
            cancel_notes_in              => cancel_notes_in,
            create_user_in               => create_user_in,
            create_time_in               => create_time_in,
            create_institution_in        => create_institution_in,
            update_user_in               => update_user_in,
            update_time_in               => update_time_in,
            update_institution_in        => update_institution_in,
            accident_cause_in            => accident_cause_in,
            flg_cit_type_in              => flg_cit_type_in,
            flg_prognosis_type_in        => flg_prognosis_type_in,
            flg_permanent_disability_in  => flg_permanent_disability_in,
            flg_life_danger_in           => flg_life_danger_in,
            dt_event_tstz_in             => dt_event_tstz_in,
            dt_stop_work_tstz_in         => dt_stop_work_tstz_in,
            flg_accident_type_in         => flg_accident_type_in,
            id_county_accident_in        => id_county_accident_in,
            beneficiary_number_in        => beneficiary_number_in,
            landline_prefix_in           => landline_prefix_in,
            landline_number_in           => landline_number_in,
            mobile_prefix_in             => mobile_prefix_in,
            mobile_number_in             => mobile_number_in,
            flg_zero_capac_end_in        => flg_zero_capac_end_in,
            dt_zero_capac_end_in         => dt_zero_capac_end_in,
            zero_capac_end_num_in        => zero_capac_end_num_in,
            zero_capac_end_unit_in       => zero_capac_end_unit_in,
            other_percentage_num_in      => other_percentage_num_in,
            dt_other_capac_start_in      => dt_other_capac_start_in,
            flg_other_capac_in           => flg_other_capac_in,
            dt_other_capac_end_in        => dt_other_capac_end_in,
            other_capac_end_num_in       => other_capac_end_num_in,
            other_capac_end_unit_in      => other_capac_end_unit_in,
            flg_reason_in                => flg_reason_in,
            notes_desc_in                => notes_desc_in,
            dt_treatment_end_in          => dt_treatment_end_in,
            dt_internment_pat_begin_in   => dt_internment_pat_begin_in,
            dt_internment_pat_end_in     => dt_internment_pat_end_in,
            dt_certificate_renew_in      => dt_certificate_renew_in,
            id_epis_documentation_in     => id_epis_documentation_in,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
    END ins;

    PROCEDURE ins
    (
        rec_in          IN pat_cit%ROWTYPE,
        gen_pky_in      IN BOOLEAN DEFAULT FALSE,
        sequence_in     IN VARCHAR2 := NULL,
        handle_error_in IN BOOLEAN := TRUE,
        rows_out        OUT table_varchar
    ) IS
        l_rec pat_cit%ROWTYPE := rec_in;
    BEGIN
        IF gen_pky_in
        THEN
            l_rec.id_pat_cit := next_key(sequence_in);
        END IF;
    
        ins(id_pat_cit_in                => l_rec.id_pat_cit,
            id_patient_in                => l_rec.id_patient,
            id_episode_in                => l_rec.id_episode,
            flg_pat_disease_state_in     => l_rec.flg_pat_disease_state,
            flg_prof_health_subsys_in    => l_rec.flg_prof_health_subsys,
            ill_parent_name_in           => l_rec.ill_parent_name,
            flg_ill_affinity_in          => l_rec.flg_ill_affinity,
            ill_id_card_in               => l_rec.ill_id_card,
            flg_benef_health_subsys_in   => l_rec.flg_benef_health_subsys,
            flg_cit_classification_ss_in => l_rec.flg_cit_classification_ss,
            flg_cit_classification_fp_in => l_rec.flg_cit_classification_fp,
            flg_internment_in            => l_rec.flg_internment,
            flg_incapacity_period_in     => l_rec.flg_incapacity_period,
            dt_start_period_tstz_in      => l_rec.dt_start_period_tstz,
            dt_end_period_tstz_in        => l_rec.dt_end_period_tstz,
            flg_home_absence_in          => l_rec.flg_home_absence,
            home_authorization_in        => l_rec.home_authorization,
            flg_status_in                => l_rec.flg_status,
            flg_type_in                  => l_rec.flg_type,
            id_prof_writes_in            => l_rec.id_prof_writes,
            id_prof_cancel_in            => l_rec.id_prof_cancel,
            dt_writes_tstz_in            => l_rec.dt_writes_tstz,
            dt_cancel_tstz_in            => l_rec.dt_cancel_tstz,
            id_cancel_reason_in          => l_rec.id_cancel_reason,
            cancel_notes_in              => l_rec.cancel_notes,
            create_user_in               => l_rec.create_user,
            create_time_in               => l_rec.create_time,
            create_institution_in        => l_rec.create_institution,
            update_user_in               => l_rec.update_user,
            update_time_in               => l_rec.update_time,
            update_institution_in        => l_rec.update_institution,
            accident_cause_in            => l_rec.accident_cause,
            flg_cit_type_in              => l_rec.flg_cit_type,
            flg_prognosis_type_in        => l_rec.flg_prognosis_type,
            flg_permanent_disability_in  => l_rec.flg_permanent_disability,
            flg_life_danger_in           => l_rec.flg_life_danger,
            dt_event_tstz_in             => l_rec.dt_event_tstz,
            dt_stop_work_tstz_in         => l_rec.dt_stop_work_tstz,
            flg_accident_type_in         => l_rec.flg_accident_type,
            id_county_accident_in        => l_rec.id_county_accident,
            beneficiary_number_in        => l_rec.beneficiary_number,
            landline_prefix_in           => l_rec.landline_prefix,
            landline_number_in           => l_rec.landline_number,
            mobile_prefix_in             => l_rec.mobile_prefix,
            mobile_number_in             => l_rec.mobile_number,
            flg_zero_capac_end_in        => l_rec.flg_zero_capac_end,
            dt_zero_capac_end_in         => l_rec.dt_zero_capac_end,
            zero_capac_end_num_in        => l_rec.zero_capac_end_num,
            zero_capac_end_unit_in       => l_rec.zero_capac_end_unit,
            other_percentage_num_in      => l_rec.other_percentage_num,
            dt_other_capac_start_in      => l_rec.dt_other_capac_start,
            flg_other_capac_in           => l_rec.flg_other_capac,
            dt_other_capac_end_in        => l_rec.dt_other_capac_end,
            other_capac_end_num_in       => l_rec.other_capac_end_num,
            other_capac_end_unit_in      => l_rec.other_capac_end_unit,
            flg_reason_in                => l_rec.flg_reason,
            notes_desc_in                => l_rec.notes_desc,
            dt_treatment_end_in          => l_rec.dt_treatment_end,
            dt_internment_pat_begin_in   => l_rec.dt_internment_pat_begin,
            dt_internment_pat_end_in     => l_rec.dt_internment_pat_end,
            dt_certificate_renew_in      => l_rec.dt_certificate_renew,
            id_epis_documentation_in     => l_rec.id_epis_documentation,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
    END ins;

    PROCEDURE ins
    (
        rec_in          IN pat_cit%ROWTYPE,
        gen_pky_in      IN BOOLEAN DEFAULT FALSE,
        sequence_in     IN VARCHAR2 := NULL,
        handle_error_in IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(rec_in          => rec_in,
            gen_pky_in      => gen_pky_in,
            sequence_in     => sequence_in,
            handle_error_in => handle_error_in,
            rows_out        => rows_out);
    END ins;

    -- Insert a collection of rows using FORALL; all primary key values
    -- must have already been generated, or are handled in triggers
    PROCEDURE ins
    (
        rows_in         IN pat_cit_tc,
        handle_error_in IN BOOLEAN := TRUE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        IF rows_in.count = 0
        THEN
            NULL;
        ELSE
            FORALL indx IN rows_in.first .. rows_in.last SAVE EXCEPTIONS
                INSERT INTO pat_cit
                VALUES rows_in
                    (indx)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        END IF;
    
    EXCEPTION
        WHEN e_forall_error THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                FOR indx IN 1 .. SQL%bulk_exceptions.count
                LOOP
                    pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
                END LOOP;
            END IF;
        WHEN OTHERS THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END ins;

    -- Insert a collection of rows using FORALL; all primary key values
    -- must have already been generated, or are handled in triggers
    PROCEDURE ins
    (
        rows_in         IN pat_cit_tc,
        handle_error_in IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(rows_in => rows_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END ins;

    -- Update any/all columns by primary key. If you pass NULL, then
    -- the current column value is set to itself. If you need a more
    -- selected UPDATE then use one of the onecol procedures below.
    PROCEDURE upd
    (
        id_pat_cit_in                 IN pat_cit.id_pat_cit%TYPE,
        id_patient_in                 IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_patient_nin                IN BOOLEAN := TRUE,
        id_episode_in                 IN pat_cit.id_episode%TYPE DEFAULT NULL,
        id_episode_nin                IN BOOLEAN := TRUE,
        flg_pat_disease_state_in      IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_pat_disease_state_nin     IN BOOLEAN := TRUE,
        flg_prof_health_subsys_in     IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        flg_prof_health_subsys_nin    IN BOOLEAN := TRUE,
        ill_parent_name_in            IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        ill_parent_name_nin           IN BOOLEAN := TRUE,
        flg_ill_affinity_in           IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        flg_ill_affinity_nin          IN BOOLEAN := TRUE,
        ill_id_card_in                IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        ill_id_card_nin               IN BOOLEAN := TRUE,
        flg_benef_health_subsys_in    IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_benef_health_subsys_nin   IN BOOLEAN := TRUE,
        flg_cit_classification_ss_in  IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_ss_nin IN BOOLEAN := TRUE,
        flg_cit_classification_fp_in  IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_cit_classification_fp_nin IN BOOLEAN := TRUE,
        flg_internment_in             IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_internment_nin            IN BOOLEAN := TRUE,
        flg_incapacity_period_in      IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        flg_incapacity_period_nin     IN BOOLEAN := TRUE,
        dt_start_period_tstz_in       IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_start_period_tstz_nin      IN BOOLEAN := TRUE,
        dt_end_period_tstz_in         IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_nin        IN BOOLEAN := TRUE,
        flg_home_absence_in           IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        flg_home_absence_nin          IN BOOLEAN := TRUE,
        home_authorization_in         IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        home_authorization_nin        IN BOOLEAN := TRUE,
        flg_status_in                 IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_status_nin                IN BOOLEAN := TRUE,
        flg_type_in                   IN pat_cit.flg_type%TYPE DEFAULT NULL,
        flg_type_nin                  IN BOOLEAN := TRUE,
        id_prof_writes_in             IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_writes_nin            IN BOOLEAN := TRUE,
        id_prof_cancel_in             IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        id_prof_cancel_nin            IN BOOLEAN := TRUE,
        dt_writes_tstz_in             IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_writes_tstz_nin            IN BOOLEAN := TRUE,
        dt_cancel_tstz_in             IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_nin            IN BOOLEAN := TRUE,
        id_cancel_reason_in           IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        id_cancel_reason_nin          IN BOOLEAN := TRUE,
        cancel_notes_in               IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        cancel_notes_nin              IN BOOLEAN := TRUE,
        create_user_in                IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_user_nin               IN BOOLEAN := TRUE,
        create_time_in                IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_time_nin               IN BOOLEAN := TRUE,
        create_institution_in         IN pat_cit.create_institution%TYPE DEFAULT NULL,
        create_institution_nin        IN BOOLEAN := TRUE,
        update_user_in                IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_user_nin               IN BOOLEAN := TRUE,
        update_time_in                IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_time_nin               IN BOOLEAN := TRUE,
        update_institution_in         IN pat_cit.update_institution%TYPE DEFAULT NULL,
        update_institution_nin        IN BOOLEAN := TRUE,
        accident_cause_in             IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        accident_cause_nin            IN BOOLEAN := TRUE,
        flg_cit_type_in               IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_cit_type_nin              IN BOOLEAN := TRUE,
        flg_prognosis_type_in         IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_prognosis_type_nin        IN BOOLEAN := TRUE,
        flg_permanent_disability_in   IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_permanent_disability_nin  IN BOOLEAN := TRUE,
        flg_life_danger_in            IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        flg_life_danger_nin           IN BOOLEAN := TRUE,
        dt_event_tstz_in              IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_event_tstz_nin             IN BOOLEAN := TRUE,
        dt_stop_work_tstz_in          IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_nin         IN BOOLEAN := TRUE,
        flg_accident_type_in          IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        flg_accident_type_nin         IN BOOLEAN := TRUE,
        id_county_accident_in         IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        id_county_accident_nin        IN BOOLEAN := TRUE,
        beneficiary_number_in         IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        beneficiary_number_nin        IN BOOLEAN := TRUE,
        landline_prefix_in            IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_prefix_nin           IN BOOLEAN := TRUE,
        landline_number_in            IN pat_cit.landline_number%TYPE DEFAULT NULL,
        landline_number_nin           IN BOOLEAN := TRUE,
        mobile_prefix_in              IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_prefix_nin             IN BOOLEAN := TRUE,
        mobile_number_in              IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        mobile_number_nin             IN BOOLEAN := TRUE,
        flg_zero_capac_end_in         IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        flg_zero_capac_end_nin        IN BOOLEAN := TRUE,
        dt_zero_capac_end_in          IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_nin         IN BOOLEAN := TRUE,
        zero_capac_end_num_in         IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_num_nin        IN BOOLEAN := TRUE,
        zero_capac_end_unit_in        IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        zero_capac_end_unit_nin       IN BOOLEAN := TRUE,
        other_percentage_num_in       IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        other_percentage_num_nin      IN BOOLEAN := TRUE,
        dt_other_capac_start_in       IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        dt_other_capac_start_nin      IN BOOLEAN := TRUE,
        flg_other_capac_in            IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        flg_other_capac_nin           IN BOOLEAN := TRUE,
        dt_other_capac_end_in         IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        dt_other_capac_end_nin        IN BOOLEAN := TRUE,
        other_capac_end_num_in        IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_num_nin       IN BOOLEAN := TRUE,
        other_capac_end_unit_in       IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        other_capac_end_unit_nin      IN BOOLEAN := TRUE,
        flg_reason_in                 IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        flg_reason_nin                IN BOOLEAN := TRUE,
        notes_desc_in                 IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        notes_desc_nin                IN BOOLEAN := TRUE,
        dt_treatment_end_in           IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_treatment_end_nin          IN BOOLEAN := TRUE,
        dt_internment_pat_begin_in    IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_begin_nin   IN BOOLEAN := TRUE,
        dt_internment_pat_end_in      IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_internment_pat_end_nin     IN BOOLEAN := TRUE,
        dt_certificate_renew_in       IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        dt_certificate_renew_nin      IN BOOLEAN := TRUE,
        id_epis_documentation_in      IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        id_epis_documentation_nin     IN BOOLEAN := TRUE,
        handle_error_in               IN BOOLEAN := TRUE,
        rows_out                      IN OUT table_varchar
    ) IS
        l_rows_out                    table_varchar;
        l_id_patient_n                NUMBER(1) := sys.diutil.bool_to_int(id_patient_nin);
        l_id_episode_n                NUMBER(1) := sys.diutil.bool_to_int(id_episode_nin);
        l_flg_pat_disease_state_n     NUMBER(1) := sys.diutil.bool_to_int(flg_pat_disease_state_nin);
        l_flg_prof_health_subsys_n    NUMBER(1) := sys.diutil.bool_to_int(flg_prof_health_subsys_nin);
        l_ill_parent_name_n           NUMBER(1) := sys.diutil.bool_to_int(ill_parent_name_nin);
        l_flg_ill_affinity_n          NUMBER(1) := sys.diutil.bool_to_int(flg_ill_affinity_nin);
        l_ill_id_card_n               NUMBER(1) := sys.diutil.bool_to_int(ill_id_card_nin);
        l_flg_benef_health_subsys_n   NUMBER(1) := sys.diutil.bool_to_int(flg_benef_health_subsys_nin);
        l_flg_cit_classification_ss_n NUMBER(1) := sys.diutil.bool_to_int(flg_cit_classification_ss_nin);
        l_flg_cit_classification_fp_n NUMBER(1) := sys.diutil.bool_to_int(flg_cit_classification_fp_nin);
        l_flg_internment_n            NUMBER(1) := sys.diutil.bool_to_int(flg_internment_nin);
        l_flg_incapacity_period_n     NUMBER(1) := sys.diutil.bool_to_int(flg_incapacity_period_nin);
        l_dt_start_period_tstz_n      NUMBER(1) := sys.diutil.bool_to_int(dt_start_period_tstz_nin);
        l_dt_end_period_tstz_n        NUMBER(1) := sys.diutil.bool_to_int(dt_end_period_tstz_nin);
        l_flg_home_absence_n          NUMBER(1) := sys.diutil.bool_to_int(flg_home_absence_nin);
        l_home_authorization_n        NUMBER(1) := sys.diutil.bool_to_int(home_authorization_nin);
        l_flg_status_n                NUMBER(1) := sys.diutil.bool_to_int(flg_status_nin);
        l_flg_type_n                  NUMBER(1) := sys.diutil.bool_to_int(flg_type_nin);
        l_id_prof_writes_n            NUMBER(1) := sys.diutil.bool_to_int(id_prof_writes_nin);
        l_id_prof_cancel_n            NUMBER(1) := sys.diutil.bool_to_int(id_prof_cancel_nin);
        l_dt_writes_tstz_n            NUMBER(1) := sys.diutil.bool_to_int(dt_writes_tstz_nin);
        l_dt_cancel_tstz_n            NUMBER(1) := sys.diutil.bool_to_int(dt_cancel_tstz_nin);
        l_id_cancel_reason_n          NUMBER(1) := sys.diutil.bool_to_int(id_cancel_reason_nin);
        l_cancel_notes_n              NUMBER(1) := sys.diutil.bool_to_int(cancel_notes_nin);
        l_create_user_n               NUMBER(1) := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n               NUMBER(1) := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n        NUMBER(1) := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n               NUMBER(1) := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n               NUMBER(1) := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n        NUMBER(1) := sys.diutil.bool_to_int(update_institution_nin);
        l_accident_cause_n            NUMBER(1) := sys.diutil.bool_to_int(accident_cause_nin);
        l_flg_cit_type_n              NUMBER(1) := sys.diutil.bool_to_int(flg_cit_type_nin);
        l_flg_prognosis_type_n        NUMBER(1) := sys.diutil.bool_to_int(flg_prognosis_type_nin);
        l_flg_permanent_disability_n  NUMBER(1) := sys.diutil.bool_to_int(flg_permanent_disability_nin);
        l_flg_life_danger_n           NUMBER(1) := sys.diutil.bool_to_int(flg_life_danger_nin);
        l_dt_event_tstz_n             NUMBER(1) := sys.diutil.bool_to_int(dt_event_tstz_nin);
        l_dt_stop_work_tstz_n         NUMBER(1) := sys.diutil.bool_to_int(dt_stop_work_tstz_nin);
        l_flg_accident_type_n         NUMBER(1) := sys.diutil.bool_to_int(flg_accident_type_nin);
        l_id_county_accident_n        NUMBER(1) := sys.diutil.bool_to_int(id_county_accident_nin);
        l_beneficiary_number_n        NUMBER(1) := sys.diutil.bool_to_int(beneficiary_number_nin);
        l_landline_prefix_n           NUMBER(1) := sys.diutil.bool_to_int(landline_prefix_nin);
        l_landline_number_n           NUMBER(1) := sys.diutil.bool_to_int(landline_number_nin);
        l_mobile_prefix_n             NUMBER(1) := sys.diutil.bool_to_int(mobile_prefix_nin);
        l_mobile_number_n             NUMBER(1) := sys.diutil.bool_to_int(mobile_number_nin);
        l_flg_zero_capac_end_n        NUMBER(1) := sys.diutil.bool_to_int(flg_zero_capac_end_nin);
        l_dt_zero_capac_end_n         NUMBER(1) := sys.diutil.bool_to_int(dt_zero_capac_end_nin);
        l_zero_capac_end_num_n        NUMBER(1) := sys.diutil.bool_to_int(zero_capac_end_num_nin);
        l_zero_capac_end_unit_n       NUMBER(1) := sys.diutil.bool_to_int(zero_capac_end_unit_nin);
        l_other_percentage_num_n      NUMBER(1) := sys.diutil.bool_to_int(other_percentage_num_nin);
        l_dt_other_capac_start_n      NUMBER(1) := sys.diutil.bool_to_int(dt_other_capac_start_nin);
        l_flg_other_capac_n           NUMBER(1) := sys.diutil.bool_to_int(flg_other_capac_nin);
        l_dt_other_capac_end_n        NUMBER(1) := sys.diutil.bool_to_int(dt_other_capac_end_nin);
        l_other_capac_end_num_n       NUMBER(1) := sys.diutil.bool_to_int(other_capac_end_num_nin);
        l_other_capac_end_unit_n      NUMBER(1) := sys.diutil.bool_to_int(other_capac_end_unit_nin);
        l_flg_reason_n                NUMBER(1) := sys.diutil.bool_to_int(flg_reason_nin);
        l_notes_desc_n                NUMBER(1) := sys.diutil.bool_to_int(notes_desc_nin);
        l_dt_treatment_end_n          NUMBER(1) := sys.diutil.bool_to_int(dt_treatment_end_nin);
        l_dt_internment_pat_begin_n   NUMBER(1) := sys.diutil.bool_to_int(dt_internment_pat_begin_nin);
        l_dt_internment_pat_end_n     NUMBER(1) := sys.diutil.bool_to_int(dt_internment_pat_end_nin);
        l_dt_certificate_renew_n      NUMBER(1) := sys.diutil.bool_to_int(dt_certificate_renew_nin);
        l_id_epis_documentation_n     NUMBER(1) := sys.diutil.bool_to_int(id_epis_documentation_nin);
    BEGIN
    
        UPDATE pat_cit
           SET id_patient                = decode(l_id_patient_n, 0, id_patient_in, nvl(id_patient_in, id_patient)),
               id_episode                = decode(l_id_episode_n, 0, id_episode_in, nvl(id_episode_in, id_episode)),
               flg_pat_disease_state     = decode(l_flg_pat_disease_state_n,
                                                  0,
                                                  flg_pat_disease_state_in,
                                                  nvl(flg_pat_disease_state_in, flg_pat_disease_state)),
               flg_prof_health_subsys    = decode(l_flg_prof_health_subsys_n,
                                                  0,
                                                  flg_prof_health_subsys_in,
                                                  nvl(flg_prof_health_subsys_in, flg_prof_health_subsys)),
               ill_parent_name           = decode(l_ill_parent_name_n,
                                                  0,
                                                  ill_parent_name_in,
                                                  nvl(ill_parent_name_in, ill_parent_name)),
               flg_ill_affinity          = decode(l_flg_ill_affinity_n,
                                                  0,
                                                  flg_ill_affinity_in,
                                                  nvl(flg_ill_affinity_in, flg_ill_affinity)),
               ill_id_card               = decode(l_ill_id_card_n, 0, ill_id_card_in, nvl(ill_id_card_in, ill_id_card)),
               flg_benef_health_subsys   = decode(l_flg_benef_health_subsys_n,
                                                  0,
                                                  flg_benef_health_subsys_in,
                                                  nvl(flg_benef_health_subsys_in, flg_benef_health_subsys)),
               flg_cit_classification_ss = decode(l_flg_cit_classification_ss_n,
                                                  0,
                                                  flg_cit_classification_ss_in,
                                                  nvl(flg_cit_classification_ss_in, flg_cit_classification_ss)),
               flg_cit_classification_fp = decode(l_flg_cit_classification_fp_n,
                                                  0,
                                                  flg_cit_classification_fp_in,
                                                  nvl(flg_cit_classification_fp_in, flg_cit_classification_fp)),
               flg_internment            = decode(l_flg_internment_n,
                                                  0,
                                                  flg_internment_in,
                                                  nvl(flg_internment_in, flg_internment)),
               flg_incapacity_period     = decode(l_flg_incapacity_period_n,
                                                  0,
                                                  flg_incapacity_period_in,
                                                  nvl(flg_incapacity_period_in, flg_incapacity_period)),
               dt_start_period_tstz      = decode(l_dt_start_period_tstz_n,
                                                  0,
                                                  dt_start_period_tstz_in,
                                                  nvl(dt_start_period_tstz_in, dt_start_period_tstz)),
               dt_end_period_tstz        = decode(l_dt_end_period_tstz_n,
                                                  0,
                                                  dt_end_period_tstz_in,
                                                  nvl(dt_end_period_tstz_in, dt_end_period_tstz)),
               flg_home_absence          = decode(l_flg_home_absence_n,
                                                  0,
                                                  flg_home_absence_in,
                                                  nvl(flg_home_absence_in, flg_home_absence)),
               home_authorization        = decode(l_home_authorization_n,
                                                  0,
                                                  home_authorization_in,
                                                  nvl(home_authorization_in, home_authorization)),
               flg_status                = decode(l_flg_status_n, 0, flg_status_in, nvl(flg_status_in, flg_status)),
               flg_type                  = decode(l_flg_type_n, 0, flg_type_in, nvl(flg_type_in, flg_type)),
               id_prof_writes            = decode(l_id_prof_writes_n,
                                                  0,
                                                  id_prof_writes_in,
                                                  nvl(id_prof_writes_in, id_prof_writes)),
               id_prof_cancel            = decode(l_id_prof_cancel_n,
                                                  0,
                                                  id_prof_cancel_in,
                                                  nvl(id_prof_cancel_in, id_prof_cancel)),
               dt_writes_tstz            = decode(l_dt_writes_tstz_n,
                                                  0,
                                                  dt_writes_tstz_in,
                                                  nvl(dt_writes_tstz_in, dt_writes_tstz)),
               dt_cancel_tstz            = decode(l_dt_cancel_tstz_n,
                                                  0,
                                                  dt_cancel_tstz_in,
                                                  nvl(dt_cancel_tstz_in, dt_cancel_tstz)),
               id_cancel_reason          = decode(l_id_cancel_reason_n,
                                                  0,
                                                  id_cancel_reason_in,
                                                  nvl(id_cancel_reason_in, id_cancel_reason)),
               cancel_notes              = decode(l_cancel_notes_n,
                                                  0,
                                                  cancel_notes_in,
                                                  nvl(cancel_notes_in, cancel_notes)),
               create_user               = decode(l_create_user_n, 0, create_user_in, nvl(create_user_in, create_user)),
               create_time               = decode(l_create_time_n, 0, create_time_in, nvl(create_time_in, create_time)),
               create_institution        = decode(l_create_institution_n,
                                                  0,
                                                  create_institution_in,
                                                  nvl(create_institution_in, create_institution)),
               update_user               = decode(l_update_user_n, 0, update_user_in, nvl(update_user_in, update_user)),
               update_time               = decode(l_update_time_n, 0, update_time_in, nvl(update_time_in, update_time)),
               update_institution        = decode(l_update_institution_n,
                                                  0,
                                                  update_institution_in,
                                                  nvl(update_institution_in, update_institution)),
               accident_cause            = decode(l_accident_cause_n,
                                                  0,
                                                  accident_cause_in,
                                                  nvl(accident_cause_in, accident_cause)),
               flg_cit_type              = decode(l_flg_cit_type_n,
                                                  0,
                                                  flg_cit_type_in,
                                                  nvl(flg_cit_type_in, flg_cit_type)),
               flg_prognosis_type        = decode(l_flg_prognosis_type_n,
                                                  0,
                                                  flg_prognosis_type_in,
                                                  nvl(flg_prognosis_type_in, flg_prognosis_type)),
               flg_permanent_disability  = decode(l_flg_permanent_disability_n,
                                                  0,
                                                  flg_permanent_disability_in,
                                                  nvl(flg_permanent_disability_in, flg_permanent_disability)),
               flg_life_danger           = decode(l_flg_life_danger_n,
                                                  0,
                                                  flg_life_danger_in,
                                                  nvl(flg_life_danger_in, flg_life_danger)),
               dt_event_tstz             = decode(l_dt_event_tstz_n,
                                                  0,
                                                  dt_event_tstz_in,
                                                  nvl(dt_event_tstz_in, dt_event_tstz)),
               dt_stop_work_tstz         = decode(l_dt_stop_work_tstz_n,
                                                  0,
                                                  dt_stop_work_tstz_in,
                                                  nvl(dt_stop_work_tstz_in, dt_stop_work_tstz)),
               flg_accident_type         = decode(l_flg_accident_type_n,
                                                  0,
                                                  flg_accident_type_in,
                                                  nvl(flg_accident_type_in, flg_accident_type)),
               id_county_accident        = decode(l_id_county_accident_n,
                                                  0,
                                                  id_county_accident_in,
                                                  nvl(id_county_accident_in, id_county_accident)),
               beneficiary_number        = decode(l_beneficiary_number_n,
                                                  0,
                                                  beneficiary_number_in,
                                                  nvl(beneficiary_number_in, beneficiary_number)),
               landline_prefix           = decode(l_landline_prefix_n,
                                                  0,
                                                  landline_prefix_in,
                                                  nvl(landline_prefix_in, landline_prefix)),
               landline_number           = decode(l_landline_number_n,
                                                  0,
                                                  landline_number_in,
                                                  nvl(landline_number_in, landline_number)),
               mobile_prefix             = decode(l_mobile_prefix_n,
                                                  0,
                                                  mobile_prefix_in,
                                                  nvl(mobile_prefix_in, mobile_prefix)),
               mobile_number             = decode(l_mobile_number_n,
                                                  0,
                                                  mobile_number_in,
                                                  nvl(mobile_number_in, mobile_number)),
               flg_zero_capac_end        = decode(l_flg_zero_capac_end_n,
                                                  0,
                                                  flg_zero_capac_end_in,
                                                  nvl(flg_zero_capac_end_in, flg_zero_capac_end)),
               dt_zero_capac_end         = decode(l_dt_zero_capac_end_n,
                                                  0,
                                                  dt_zero_capac_end_in,
                                                  nvl(dt_zero_capac_end_in, dt_zero_capac_end)),
               zero_capac_end_num        = decode(l_zero_capac_end_num_n,
                                                  0,
                                                  zero_capac_end_num_in,
                                                  nvl(zero_capac_end_num_in, zero_capac_end_num)),
               zero_capac_end_unit       = decode(l_zero_capac_end_unit_n,
                                                  0,
                                                  zero_capac_end_unit_in,
                                                  nvl(zero_capac_end_unit_in, zero_capac_end_unit)),
               other_percentage_num      = decode(l_other_percentage_num_n,
                                                  0,
                                                  other_percentage_num_in,
                                                  nvl(other_percentage_num_in, other_percentage_num)),
               dt_other_capac_start      = decode(l_dt_other_capac_start_n,
                                                  0,
                                                  dt_other_capac_start_in,
                                                  nvl(dt_other_capac_start_in, dt_other_capac_start)),
               flg_other_capac           = decode(l_flg_other_capac_n,
                                                  0,
                                                  flg_other_capac_in,
                                                  nvl(flg_other_capac_in, flg_other_capac)),
               dt_other_capac_end        = decode(l_dt_other_capac_end_n,
                                                  0,
                                                  dt_other_capac_end_in,
                                                  nvl(dt_other_capac_end_in, dt_other_capac_end)),
               other_capac_end_num       = decode(l_other_capac_end_num_n,
                                                  0,
                                                  other_capac_end_num_in,
                                                  nvl(other_capac_end_num_in, other_capac_end_num)),
               other_capac_end_unit      = decode(l_other_capac_end_unit_n,
                                                  0,
                                                  other_capac_end_unit_in,
                                                  nvl(other_capac_end_unit_in, other_capac_end_unit)),
               flg_reason                = decode(l_flg_reason_n, 0, flg_reason_in, nvl(flg_reason_in, flg_reason)),
               notes_desc                = decode(l_notes_desc_n, 0, notes_desc_in, nvl(notes_desc_in, notes_desc)),
               dt_treatment_end          = decode(l_dt_treatment_end_n,
                                                  0,
                                                  dt_treatment_end_in,
                                                  nvl(dt_treatment_end_in, dt_treatment_end)),
               dt_internment_pat_begin   = decode(l_dt_internment_pat_begin_n,
                                                  0,
                                                  dt_internment_pat_begin_in,
                                                  nvl(dt_internment_pat_begin_in, dt_internment_pat_begin)),
               dt_internment_pat_end     = decode(l_dt_internment_pat_end_n,
                                                  0,
                                                  dt_internment_pat_end_in,
                                                  nvl(dt_internment_pat_end_in, dt_internment_pat_end)),
               dt_certificate_renew      = decode(l_dt_certificate_renew_n,
                                                  0,
                                                  dt_certificate_renew_in,
                                                  nvl(dt_certificate_renew_in, dt_certificate_renew)),
               id_epis_documentation     = decode(l_id_epis_documentation_n,
                                                  0,
                                                  id_epis_documentation_in,
                                                  nvl(id_epis_documentation_in, id_epis_documentation))
         WHERE id_pat_cit = id_pat_cit_in
        RETURNING ROWID BULK COLLECT INTO l_rows_out;
        IF (rows_out IS NULL)
        THEN
            rows_out := table_varchar();
        END IF;
        rows_out := rows_out MULTISET UNION DISTINCT l_rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    -- Update any/all columns by primary key. If you pass NULL, then
    -- the current column value is set to itself. If you need a more
    -- selected UPDATE then use one of the onecol procedures below.
    PROCEDURE upd
    (
        id_pat_cit_in                 IN pat_cit.id_pat_cit%TYPE,
        id_patient_in                 IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_patient_nin                IN BOOLEAN := TRUE,
        id_episode_in                 IN pat_cit.id_episode%TYPE DEFAULT NULL,
        id_episode_nin                IN BOOLEAN := TRUE,
        flg_pat_disease_state_in      IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_pat_disease_state_nin     IN BOOLEAN := TRUE,
        flg_prof_health_subsys_in     IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        flg_prof_health_subsys_nin    IN BOOLEAN := TRUE,
        ill_parent_name_in            IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        ill_parent_name_nin           IN BOOLEAN := TRUE,
        flg_ill_affinity_in           IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        flg_ill_affinity_nin          IN BOOLEAN := TRUE,
        ill_id_card_in                IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        ill_id_card_nin               IN BOOLEAN := TRUE,
        flg_benef_health_subsys_in    IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_benef_health_subsys_nin   IN BOOLEAN := TRUE,
        flg_cit_classification_ss_in  IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_ss_nin IN BOOLEAN := TRUE,
        flg_cit_classification_fp_in  IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_cit_classification_fp_nin IN BOOLEAN := TRUE,
        flg_internment_in             IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_internment_nin            IN BOOLEAN := TRUE,
        flg_incapacity_period_in      IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        flg_incapacity_period_nin     IN BOOLEAN := TRUE,
        dt_start_period_tstz_in       IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_start_period_tstz_nin      IN BOOLEAN := TRUE,
        dt_end_period_tstz_in         IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_nin        IN BOOLEAN := TRUE,
        flg_home_absence_in           IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        flg_home_absence_nin          IN BOOLEAN := TRUE,
        home_authorization_in         IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        home_authorization_nin        IN BOOLEAN := TRUE,
        flg_status_in                 IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_status_nin                IN BOOLEAN := TRUE,
        flg_type_in                   IN pat_cit.flg_type%TYPE DEFAULT NULL,
        flg_type_nin                  IN BOOLEAN := TRUE,
        id_prof_writes_in             IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_writes_nin            IN BOOLEAN := TRUE,
        id_prof_cancel_in             IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        id_prof_cancel_nin            IN BOOLEAN := TRUE,
        dt_writes_tstz_in             IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_writes_tstz_nin            IN BOOLEAN := TRUE,
        dt_cancel_tstz_in             IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_nin            IN BOOLEAN := TRUE,
        id_cancel_reason_in           IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        id_cancel_reason_nin          IN BOOLEAN := TRUE,
        cancel_notes_in               IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        cancel_notes_nin              IN BOOLEAN := TRUE,
        create_user_in                IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_user_nin               IN BOOLEAN := TRUE,
        create_time_in                IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_time_nin               IN BOOLEAN := TRUE,
        create_institution_in         IN pat_cit.create_institution%TYPE DEFAULT NULL,
        create_institution_nin        IN BOOLEAN := TRUE,
        update_user_in                IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_user_nin               IN BOOLEAN := TRUE,
        update_time_in                IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_time_nin               IN BOOLEAN := TRUE,
        update_institution_in         IN pat_cit.update_institution%TYPE DEFAULT NULL,
        update_institution_nin        IN BOOLEAN := TRUE,
        accident_cause_in             IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        accident_cause_nin            IN BOOLEAN := TRUE,
        flg_cit_type_in               IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_cit_type_nin              IN BOOLEAN := TRUE,
        flg_prognosis_type_in         IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_prognosis_type_nin        IN BOOLEAN := TRUE,
        flg_permanent_disability_in   IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_permanent_disability_nin  IN BOOLEAN := TRUE,
        flg_life_danger_in            IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        flg_life_danger_nin           IN BOOLEAN := TRUE,
        dt_event_tstz_in              IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_event_tstz_nin             IN BOOLEAN := TRUE,
        dt_stop_work_tstz_in          IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_nin         IN BOOLEAN := TRUE,
        flg_accident_type_in          IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        flg_accident_type_nin         IN BOOLEAN := TRUE,
        id_county_accident_in         IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        id_county_accident_nin        IN BOOLEAN := TRUE,
        beneficiary_number_in         IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        beneficiary_number_nin        IN BOOLEAN := TRUE,
        landline_prefix_in            IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_prefix_nin           IN BOOLEAN := TRUE,
        landline_number_in            IN pat_cit.landline_number%TYPE DEFAULT NULL,
        landline_number_nin           IN BOOLEAN := TRUE,
        mobile_prefix_in              IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_prefix_nin             IN BOOLEAN := TRUE,
        mobile_number_in              IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        mobile_number_nin             IN BOOLEAN := TRUE,
        flg_zero_capac_end_in         IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        flg_zero_capac_end_nin        IN BOOLEAN := TRUE,
        dt_zero_capac_end_in          IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_nin         IN BOOLEAN := TRUE,
        zero_capac_end_num_in         IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_num_nin        IN BOOLEAN := TRUE,
        zero_capac_end_unit_in        IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        zero_capac_end_unit_nin       IN BOOLEAN := TRUE,
        other_percentage_num_in       IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        other_percentage_num_nin      IN BOOLEAN := TRUE,
        dt_other_capac_start_in       IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        dt_other_capac_start_nin      IN BOOLEAN := TRUE,
        flg_other_capac_in            IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        flg_other_capac_nin           IN BOOLEAN := TRUE,
        dt_other_capac_end_in         IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        dt_other_capac_end_nin        IN BOOLEAN := TRUE,
        other_capac_end_num_in        IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_num_nin       IN BOOLEAN := TRUE,
        other_capac_end_unit_in       IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        other_capac_end_unit_nin      IN BOOLEAN := TRUE,
        flg_reason_in                 IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        flg_reason_nin                IN BOOLEAN := TRUE,
        notes_desc_in                 IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        notes_desc_nin                IN BOOLEAN := TRUE,
        dt_treatment_end_in           IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_treatment_end_nin          IN BOOLEAN := TRUE,
        dt_internment_pat_begin_in    IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_begin_nin   IN BOOLEAN := TRUE,
        dt_internment_pat_end_in      IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_internment_pat_end_nin     IN BOOLEAN := TRUE,
        dt_certificate_renew_in       IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        dt_certificate_renew_nin      IN BOOLEAN := TRUE,
        id_epis_documentation_in      IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        id_epis_documentation_nin     IN BOOLEAN := TRUE,
        handle_error_in               IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(id_pat_cit_in                 => id_pat_cit_in,
            id_patient_in                 => id_patient_in,
            id_patient_nin                => id_patient_nin,
            id_episode_in                 => id_episode_in,
            id_episode_nin                => id_episode_nin,
            flg_pat_disease_state_in      => flg_pat_disease_state_in,
            flg_pat_disease_state_nin     => flg_pat_disease_state_nin,
            flg_prof_health_subsys_in     => flg_prof_health_subsys_in,
            flg_prof_health_subsys_nin    => flg_prof_health_subsys_nin,
            ill_parent_name_in            => ill_parent_name_in,
            ill_parent_name_nin           => ill_parent_name_nin,
            flg_ill_affinity_in           => flg_ill_affinity_in,
            flg_ill_affinity_nin          => flg_ill_affinity_nin,
            ill_id_card_in                => ill_id_card_in,
            ill_id_card_nin               => ill_id_card_nin,
            flg_benef_health_subsys_in    => flg_benef_health_subsys_in,
            flg_benef_health_subsys_nin   => flg_benef_health_subsys_nin,
            flg_cit_classification_ss_in  => flg_cit_classification_ss_in,
            flg_cit_classification_ss_nin => flg_cit_classification_ss_nin,
            flg_cit_classification_fp_in  => flg_cit_classification_fp_in,
            flg_cit_classification_fp_nin => flg_cit_classification_fp_nin,
            flg_internment_in             => flg_internment_in,
            flg_internment_nin            => flg_internment_nin,
            flg_incapacity_period_in      => flg_incapacity_period_in,
            flg_incapacity_period_nin     => flg_incapacity_period_nin,
            dt_start_period_tstz_in       => dt_start_period_tstz_in,
            dt_start_period_tstz_nin      => dt_start_period_tstz_nin,
            dt_end_period_tstz_in         => dt_end_period_tstz_in,
            dt_end_period_tstz_nin        => dt_end_period_tstz_nin,
            flg_home_absence_in           => flg_home_absence_in,
            flg_home_absence_nin          => flg_home_absence_nin,
            home_authorization_in         => home_authorization_in,
            home_authorization_nin        => home_authorization_nin,
            flg_status_in                 => flg_status_in,
            flg_status_nin                => flg_status_nin,
            flg_type_in                   => flg_type_in,
            flg_type_nin                  => flg_type_nin,
            id_prof_writes_in             => id_prof_writes_in,
            id_prof_writes_nin            => id_prof_writes_nin,
            id_prof_cancel_in             => id_prof_cancel_in,
            id_prof_cancel_nin            => id_prof_cancel_nin,
            dt_writes_tstz_in             => dt_writes_tstz_in,
            dt_writes_tstz_nin            => dt_writes_tstz_nin,
            dt_cancel_tstz_in             => dt_cancel_tstz_in,
            dt_cancel_tstz_nin            => dt_cancel_tstz_nin,
            id_cancel_reason_in           => id_cancel_reason_in,
            id_cancel_reason_nin          => id_cancel_reason_nin,
            cancel_notes_in               => cancel_notes_in,
            cancel_notes_nin              => cancel_notes_nin,
            create_user_in                => create_user_in,
            create_user_nin               => create_user_nin,
            create_time_in                => create_time_in,
            create_time_nin               => create_time_nin,
            create_institution_in         => create_institution_in,
            create_institution_nin        => create_institution_nin,
            update_user_in                => update_user_in,
            update_user_nin               => update_user_nin,
            update_time_in                => update_time_in,
            update_time_nin               => update_time_nin,
            update_institution_in         => update_institution_in,
            update_institution_nin        => update_institution_nin,
            accident_cause_in             => accident_cause_in,
            accident_cause_nin            => accident_cause_nin,
            flg_cit_type_in               => flg_cit_type_in,
            flg_cit_type_nin              => flg_cit_type_nin,
            flg_prognosis_type_in         => flg_prognosis_type_in,
            flg_prognosis_type_nin        => flg_prognosis_type_nin,
            flg_permanent_disability_in   => flg_permanent_disability_in,
            flg_permanent_disability_nin  => flg_permanent_disability_nin,
            flg_life_danger_in            => flg_life_danger_in,
            flg_life_danger_nin           => flg_life_danger_nin,
            dt_event_tstz_in              => dt_event_tstz_in,
            dt_event_tstz_nin             => dt_event_tstz_nin,
            dt_stop_work_tstz_in          => dt_stop_work_tstz_in,
            dt_stop_work_tstz_nin         => dt_stop_work_tstz_nin,
            flg_accident_type_in          => flg_accident_type_in,
            flg_accident_type_nin         => flg_accident_type_nin,
            id_county_accident_in         => id_county_accident_in,
            id_county_accident_nin        => id_county_accident_nin,
            beneficiary_number_in         => beneficiary_number_in,
            beneficiary_number_nin        => beneficiary_number_nin,
            landline_prefix_in            => landline_prefix_in,
            landline_prefix_nin           => landline_prefix_nin,
            landline_number_in            => landline_number_in,
            landline_number_nin           => landline_number_nin,
            mobile_prefix_in              => mobile_prefix_in,
            mobile_prefix_nin             => mobile_prefix_nin,
            mobile_number_in              => mobile_number_in,
            mobile_number_nin             => mobile_number_nin,
            flg_zero_capac_end_in         => flg_zero_capac_end_in,
            flg_zero_capac_end_nin        => flg_zero_capac_end_nin,
            dt_zero_capac_end_in          => dt_zero_capac_end_in,
            dt_zero_capac_end_nin         => dt_zero_capac_end_nin,
            zero_capac_end_num_in         => zero_capac_end_num_in,
            zero_capac_end_num_nin        => zero_capac_end_num_nin,
            zero_capac_end_unit_in        => zero_capac_end_unit_in,
            zero_capac_end_unit_nin       => zero_capac_end_unit_nin,
            other_percentage_num_in       => other_percentage_num_in,
            other_percentage_num_nin      => other_percentage_num_nin,
            dt_other_capac_start_in       => dt_other_capac_start_in,
            dt_other_capac_start_nin      => dt_other_capac_start_nin,
            flg_other_capac_in            => flg_other_capac_in,
            flg_other_capac_nin           => flg_other_capac_nin,
            dt_other_capac_end_in         => dt_other_capac_end_in,
            dt_other_capac_end_nin        => dt_other_capac_end_nin,
            other_capac_end_num_in        => other_capac_end_num_in,
            other_capac_end_num_nin       => other_capac_end_num_nin,
            other_capac_end_unit_in       => other_capac_end_unit_in,
            other_capac_end_unit_nin      => other_capac_end_unit_nin,
            flg_reason_in                 => flg_reason_in,
            flg_reason_nin                => flg_reason_nin,
            notes_desc_in                 => notes_desc_in,
            notes_desc_nin                => notes_desc_nin,
            dt_treatment_end_in           => dt_treatment_end_in,
            dt_treatment_end_nin          => dt_treatment_end_nin,
            dt_internment_pat_begin_in    => dt_internment_pat_begin_in,
            dt_internment_pat_begin_nin   => dt_internment_pat_begin_nin,
            dt_internment_pat_end_in      => dt_internment_pat_end_in,
            dt_internment_pat_end_nin     => dt_internment_pat_end_nin,
            dt_certificate_renew_in       => dt_certificate_renew_in,
            dt_certificate_renew_nin      => dt_certificate_renew_nin,
            id_epis_documentation_in      => id_epis_documentation_in,
            id_epis_documentation_nin     => id_epis_documentation_nin,
            handle_error_in               => handle_error_in,
            rows_out                      => rows_out);
    END upd;

    --Update any/all columns by dynamic WHERE
    -- If you pass NULL, then the current column value is set to itself
    PROCEDURE upd
    (
        id_patient_in                 IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_patient_nin                IN BOOLEAN := TRUE,
        id_episode_in                 IN pat_cit.id_episode%TYPE DEFAULT NULL,
        id_episode_nin                IN BOOLEAN := TRUE,
        flg_pat_disease_state_in      IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_pat_disease_state_nin     IN BOOLEAN := TRUE,
        flg_prof_health_subsys_in     IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        flg_prof_health_subsys_nin    IN BOOLEAN := TRUE,
        ill_parent_name_in            IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        ill_parent_name_nin           IN BOOLEAN := TRUE,
        flg_ill_affinity_in           IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        flg_ill_affinity_nin          IN BOOLEAN := TRUE,
        ill_id_card_in                IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        ill_id_card_nin               IN BOOLEAN := TRUE,
        flg_benef_health_subsys_in    IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_benef_health_subsys_nin   IN BOOLEAN := TRUE,
        flg_cit_classification_ss_in  IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_ss_nin IN BOOLEAN := TRUE,
        flg_cit_classification_fp_in  IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_cit_classification_fp_nin IN BOOLEAN := TRUE,
        flg_internment_in             IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_internment_nin            IN BOOLEAN := TRUE,
        flg_incapacity_period_in      IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        flg_incapacity_period_nin     IN BOOLEAN := TRUE,
        dt_start_period_tstz_in       IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_start_period_tstz_nin      IN BOOLEAN := TRUE,
        dt_end_period_tstz_in         IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_nin        IN BOOLEAN := TRUE,
        flg_home_absence_in           IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        flg_home_absence_nin          IN BOOLEAN := TRUE,
        home_authorization_in         IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        home_authorization_nin        IN BOOLEAN := TRUE,
        flg_status_in                 IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_status_nin                IN BOOLEAN := TRUE,
        flg_type_in                   IN pat_cit.flg_type%TYPE DEFAULT NULL,
        flg_type_nin                  IN BOOLEAN := TRUE,
        id_prof_writes_in             IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_writes_nin            IN BOOLEAN := TRUE,
        id_prof_cancel_in             IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        id_prof_cancel_nin            IN BOOLEAN := TRUE,
        dt_writes_tstz_in             IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_writes_tstz_nin            IN BOOLEAN := TRUE,
        dt_cancel_tstz_in             IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_nin            IN BOOLEAN := TRUE,
        id_cancel_reason_in           IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        id_cancel_reason_nin          IN BOOLEAN := TRUE,
        cancel_notes_in               IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        cancel_notes_nin              IN BOOLEAN := TRUE,
        create_user_in                IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_user_nin               IN BOOLEAN := TRUE,
        create_time_in                IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_time_nin               IN BOOLEAN := TRUE,
        create_institution_in         IN pat_cit.create_institution%TYPE DEFAULT NULL,
        create_institution_nin        IN BOOLEAN := TRUE,
        update_user_in                IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_user_nin               IN BOOLEAN := TRUE,
        update_time_in                IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_time_nin               IN BOOLEAN := TRUE,
        update_institution_in         IN pat_cit.update_institution%TYPE DEFAULT NULL,
        update_institution_nin        IN BOOLEAN := TRUE,
        accident_cause_in             IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        accident_cause_nin            IN BOOLEAN := TRUE,
        flg_cit_type_in               IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_cit_type_nin              IN BOOLEAN := TRUE,
        flg_prognosis_type_in         IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_prognosis_type_nin        IN BOOLEAN := TRUE,
        flg_permanent_disability_in   IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_permanent_disability_nin  IN BOOLEAN := TRUE,
        flg_life_danger_in            IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        flg_life_danger_nin           IN BOOLEAN := TRUE,
        dt_event_tstz_in              IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_event_tstz_nin             IN BOOLEAN := TRUE,
        dt_stop_work_tstz_in          IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_nin         IN BOOLEAN := TRUE,
        flg_accident_type_in          IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        flg_accident_type_nin         IN BOOLEAN := TRUE,
        id_county_accident_in         IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        id_county_accident_nin        IN BOOLEAN := TRUE,
        beneficiary_number_in         IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        beneficiary_number_nin        IN BOOLEAN := TRUE,
        landline_prefix_in            IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_prefix_nin           IN BOOLEAN := TRUE,
        landline_number_in            IN pat_cit.landline_number%TYPE DEFAULT NULL,
        landline_number_nin           IN BOOLEAN := TRUE,
        mobile_prefix_in              IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_prefix_nin             IN BOOLEAN := TRUE,
        mobile_number_in              IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        mobile_number_nin             IN BOOLEAN := TRUE,
        flg_zero_capac_end_in         IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        flg_zero_capac_end_nin        IN BOOLEAN := TRUE,
        dt_zero_capac_end_in          IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_nin         IN BOOLEAN := TRUE,
        zero_capac_end_num_in         IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_num_nin        IN BOOLEAN := TRUE,
        zero_capac_end_unit_in        IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        zero_capac_end_unit_nin       IN BOOLEAN := TRUE,
        other_percentage_num_in       IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        other_percentage_num_nin      IN BOOLEAN := TRUE,
        dt_other_capac_start_in       IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        dt_other_capac_start_nin      IN BOOLEAN := TRUE,
        flg_other_capac_in            IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        flg_other_capac_nin           IN BOOLEAN := TRUE,
        dt_other_capac_end_in         IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        dt_other_capac_end_nin        IN BOOLEAN := TRUE,
        other_capac_end_num_in        IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_num_nin       IN BOOLEAN := TRUE,
        other_capac_end_unit_in       IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        other_capac_end_unit_nin      IN BOOLEAN := TRUE,
        flg_reason_in                 IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        flg_reason_nin                IN BOOLEAN := TRUE,
        notes_desc_in                 IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        notes_desc_nin                IN BOOLEAN := TRUE,
        dt_treatment_end_in           IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_treatment_end_nin          IN BOOLEAN := TRUE,
        dt_internment_pat_begin_in    IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_begin_nin   IN BOOLEAN := TRUE,
        dt_internment_pat_end_in      IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_internment_pat_end_nin     IN BOOLEAN := TRUE,
        dt_certificate_renew_in       IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        dt_certificate_renew_nin      IN BOOLEAN := TRUE,
        id_epis_documentation_in      IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        id_epis_documentation_nin     IN BOOLEAN := TRUE,
        where_in                      IN VARCHAR2,
        handle_error_in               IN BOOLEAN := TRUE,
        rows_out                      IN OUT table_varchar
    ) IS
        l_sql                         VARCHAR2(32767);
        l_rows_out                    table_varchar;
        l_id_patient_n                NUMBER(1) := sys.diutil.bool_to_int(id_patient_nin);
        l_id_episode_n                NUMBER(1) := sys.diutil.bool_to_int(id_episode_nin);
        l_flg_pat_disease_state_n     NUMBER(1) := sys.diutil.bool_to_int(flg_pat_disease_state_nin);
        l_flg_prof_health_subsys_n    NUMBER(1) := sys.diutil.bool_to_int(flg_prof_health_subsys_nin);
        l_ill_parent_name_n           NUMBER(1) := sys.diutil.bool_to_int(ill_parent_name_nin);
        l_flg_ill_affinity_n          NUMBER(1) := sys.diutil.bool_to_int(flg_ill_affinity_nin);
        l_ill_id_card_n               NUMBER(1) := sys.diutil.bool_to_int(ill_id_card_nin);
        l_flg_benef_health_subsys_n   NUMBER(1) := sys.diutil.bool_to_int(flg_benef_health_subsys_nin);
        l_flg_cit_classification_ss_n NUMBER(1) := sys.diutil.bool_to_int(flg_cit_classification_ss_nin);
        l_flg_cit_classification_fp_n NUMBER(1) := sys.diutil.bool_to_int(flg_cit_classification_fp_nin);
        l_flg_internment_n            NUMBER(1) := sys.diutil.bool_to_int(flg_internment_nin);
        l_flg_incapacity_period_n     NUMBER(1) := sys.diutil.bool_to_int(flg_incapacity_period_nin);
        l_dt_start_period_tstz_n      NUMBER(1) := sys.diutil.bool_to_int(dt_start_period_tstz_nin);
        l_dt_end_period_tstz_n        NUMBER(1) := sys.diutil.bool_to_int(dt_end_period_tstz_nin);
        l_flg_home_absence_n          NUMBER(1) := sys.diutil.bool_to_int(flg_home_absence_nin);
        l_home_authorization_n        NUMBER(1) := sys.diutil.bool_to_int(home_authorization_nin);
        l_flg_status_n                NUMBER(1) := sys.diutil.bool_to_int(flg_status_nin);
        l_flg_type_n                  NUMBER(1) := sys.diutil.bool_to_int(flg_type_nin);
        l_id_prof_writes_n            NUMBER(1) := sys.diutil.bool_to_int(id_prof_writes_nin);
        l_id_prof_cancel_n            NUMBER(1) := sys.diutil.bool_to_int(id_prof_cancel_nin);
        l_dt_writes_tstz_n            NUMBER(1) := sys.diutil.bool_to_int(dt_writes_tstz_nin);
        l_dt_cancel_tstz_n            NUMBER(1) := sys.diutil.bool_to_int(dt_cancel_tstz_nin);
        l_id_cancel_reason_n          NUMBER(1) := sys.diutil.bool_to_int(id_cancel_reason_nin);
        l_cancel_notes_n              NUMBER(1) := sys.diutil.bool_to_int(cancel_notes_nin);
        l_create_user_n               NUMBER(1) := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n               NUMBER(1) := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n        NUMBER(1) := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n               NUMBER(1) := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n               NUMBER(1) := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n        NUMBER(1) := sys.diutil.bool_to_int(update_institution_nin);
        l_accident_cause_n            NUMBER(1) := sys.diutil.bool_to_int(accident_cause_nin);
        l_flg_cit_type_n              NUMBER(1) := sys.diutil.bool_to_int(flg_cit_type_nin);
        l_flg_prognosis_type_n        NUMBER(1) := sys.diutil.bool_to_int(flg_prognosis_type_nin);
        l_flg_permanent_disability_n  NUMBER(1) := sys.diutil.bool_to_int(flg_permanent_disability_nin);
        l_flg_life_danger_n           NUMBER(1) := sys.diutil.bool_to_int(flg_life_danger_nin);
        l_dt_event_tstz_n             NUMBER(1) := sys.diutil.bool_to_int(dt_event_tstz_nin);
        l_dt_stop_work_tstz_n         NUMBER(1) := sys.diutil.bool_to_int(dt_stop_work_tstz_nin);
        l_flg_accident_type_n         NUMBER(1) := sys.diutil.bool_to_int(flg_accident_type_nin);
        l_id_county_accident_n        NUMBER(1) := sys.diutil.bool_to_int(id_county_accident_nin);
        l_beneficiary_number_n        NUMBER(1) := sys.diutil.bool_to_int(beneficiary_number_nin);
        l_landline_prefix_n           NUMBER(1) := sys.diutil.bool_to_int(landline_prefix_nin);
        l_landline_number_n           NUMBER(1) := sys.diutil.bool_to_int(landline_number_nin);
        l_mobile_prefix_n             NUMBER(1) := sys.diutil.bool_to_int(mobile_prefix_nin);
        l_mobile_number_n             NUMBER(1) := sys.diutil.bool_to_int(mobile_number_nin);
        l_flg_zero_capac_end_n        NUMBER(1) := sys.diutil.bool_to_int(flg_zero_capac_end_nin);
        l_dt_zero_capac_end_n         NUMBER(1) := sys.diutil.bool_to_int(dt_zero_capac_end_nin);
        l_zero_capac_end_num_n        NUMBER(1) := sys.diutil.bool_to_int(zero_capac_end_num_nin);
        l_zero_capac_end_unit_n       NUMBER(1) := sys.diutil.bool_to_int(zero_capac_end_unit_nin);
        l_other_percentage_num_n      NUMBER(1) := sys.diutil.bool_to_int(other_percentage_num_nin);
        l_dt_other_capac_start_n      NUMBER(1) := sys.diutil.bool_to_int(dt_other_capac_start_nin);
        l_flg_other_capac_n           NUMBER(1) := sys.diutil.bool_to_int(flg_other_capac_nin);
        l_dt_other_capac_end_n        NUMBER(1) := sys.diutil.bool_to_int(dt_other_capac_end_nin);
        l_other_capac_end_num_n       NUMBER(1) := sys.diutil.bool_to_int(other_capac_end_num_nin);
        l_other_capac_end_unit_n      NUMBER(1) := sys.diutil.bool_to_int(other_capac_end_unit_nin);
        l_flg_reason_n                NUMBER(1) := sys.diutil.bool_to_int(flg_reason_nin);
        l_notes_desc_n                NUMBER(1) := sys.diutil.bool_to_int(notes_desc_nin);
        l_dt_treatment_end_n          NUMBER(1) := sys.diutil.bool_to_int(dt_treatment_end_nin);
        l_dt_internment_pat_begin_n   NUMBER(1) := sys.diutil.bool_to_int(dt_internment_pat_begin_nin);
        l_dt_internment_pat_end_n     NUMBER(1) := sys.diutil.bool_to_int(dt_internment_pat_end_nin);
        l_dt_certificate_renew_n      NUMBER(1) := sys.diutil.bool_to_int(dt_certificate_renew_nin);
        l_id_epis_documentation_n     NUMBER(1) := sys.diutil.bool_to_int(id_epis_documentation_nin);
    BEGIN
        l_id_patient_n                := sys.diutil.bool_to_int(id_patient_nin);
        l_id_episode_n                := sys.diutil.bool_to_int(id_episode_nin);
        l_flg_pat_disease_state_n     := sys.diutil.bool_to_int(flg_pat_disease_state_nin);
        l_flg_prof_health_subsys_n    := sys.diutil.bool_to_int(flg_prof_health_subsys_nin);
        l_ill_parent_name_n           := sys.diutil.bool_to_int(ill_parent_name_nin);
        l_flg_ill_affinity_n          := sys.diutil.bool_to_int(flg_ill_affinity_nin);
        l_ill_id_card_n               := sys.diutil.bool_to_int(ill_id_card_nin);
        l_flg_benef_health_subsys_n   := sys.diutil.bool_to_int(flg_benef_health_subsys_nin);
        l_flg_cit_classification_ss_n := sys.diutil.bool_to_int(flg_cit_classification_ss_nin);
        l_flg_cit_classification_fp_n := sys.diutil.bool_to_int(flg_cit_classification_fp_nin);
        l_flg_internment_n            := sys.diutil.bool_to_int(flg_internment_nin);
        l_flg_incapacity_period_n     := sys.diutil.bool_to_int(flg_incapacity_period_nin);
        l_dt_start_period_tstz_n      := sys.diutil.bool_to_int(dt_start_period_tstz_nin);
        l_dt_end_period_tstz_n        := sys.diutil.bool_to_int(dt_end_period_tstz_nin);
        l_flg_home_absence_n          := sys.diutil.bool_to_int(flg_home_absence_nin);
        l_home_authorization_n        := sys.diutil.bool_to_int(home_authorization_nin);
        l_flg_status_n                := sys.diutil.bool_to_int(flg_status_nin);
        l_flg_type_n                  := sys.diutil.bool_to_int(flg_type_nin);
        l_id_prof_writes_n            := sys.diutil.bool_to_int(id_prof_writes_nin);
        l_id_prof_cancel_n            := sys.diutil.bool_to_int(id_prof_cancel_nin);
        l_dt_writes_tstz_n            := sys.diutil.bool_to_int(dt_writes_tstz_nin);
        l_dt_cancel_tstz_n            := sys.diutil.bool_to_int(dt_cancel_tstz_nin);
        l_id_cancel_reason_n          := sys.diutil.bool_to_int(id_cancel_reason_nin);
        l_cancel_notes_n              := sys.diutil.bool_to_int(cancel_notes_nin);
        l_create_user_n               := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n               := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n        := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n               := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n               := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n        := sys.diutil.bool_to_int(update_institution_nin);
        l_accident_cause_n            := sys.diutil.bool_to_int(accident_cause_nin);
        l_flg_cit_type_n              := sys.diutil.bool_to_int(flg_cit_type_nin);
        l_flg_prognosis_type_n        := sys.diutil.bool_to_int(flg_prognosis_type_nin);
        l_flg_permanent_disability_n  := sys.diutil.bool_to_int(flg_permanent_disability_nin);
        l_flg_life_danger_n           := sys.diutil.bool_to_int(flg_life_danger_nin);
        l_dt_event_tstz_n             := sys.diutil.bool_to_int(dt_event_tstz_nin);
        l_dt_stop_work_tstz_n         := sys.diutil.bool_to_int(dt_stop_work_tstz_nin);
        l_flg_accident_type_n         := sys.diutil.bool_to_int(flg_accident_type_nin);
        l_id_county_accident_n        := sys.diutil.bool_to_int(id_county_accident_nin);
        l_beneficiary_number_n        := sys.diutil.bool_to_int(beneficiary_number_nin);
        l_landline_prefix_n           := sys.diutil.bool_to_int(landline_prefix_nin);
        l_landline_number_n           := sys.diutil.bool_to_int(landline_number_nin);
        l_mobile_prefix_n             := sys.diutil.bool_to_int(mobile_prefix_nin);
        l_mobile_number_n             := sys.diutil.bool_to_int(mobile_number_nin);
        l_flg_zero_capac_end_n        := sys.diutil.bool_to_int(flg_zero_capac_end_nin);
        l_dt_zero_capac_end_n         := sys.diutil.bool_to_int(dt_zero_capac_end_nin);
        l_zero_capac_end_num_n        := sys.diutil.bool_to_int(zero_capac_end_num_nin);
        l_zero_capac_end_unit_n       := sys.diutil.bool_to_int(zero_capac_end_unit_nin);
        l_other_percentage_num_n      := sys.diutil.bool_to_int(other_percentage_num_nin);
        l_dt_other_capac_start_n      := sys.diutil.bool_to_int(dt_other_capac_start_nin);
        l_flg_other_capac_n           := sys.diutil.bool_to_int(flg_other_capac_nin);
        l_dt_other_capac_end_n        := sys.diutil.bool_to_int(dt_other_capac_end_nin);
        l_other_capac_end_num_n       := sys.diutil.bool_to_int(other_capac_end_num_nin);
        l_other_capac_end_unit_n      := sys.diutil.bool_to_int(other_capac_end_unit_nin);
        l_flg_reason_n                := sys.diutil.bool_to_int(flg_reason_nin);
        l_notes_desc_n                := sys.diutil.bool_to_int(notes_desc_nin);
        l_dt_treatment_end_n          := sys.diutil.bool_to_int(dt_treatment_end_nin);
        l_dt_internment_pat_begin_n   := sys.diutil.bool_to_int(dt_internment_pat_begin_nin);
        l_dt_internment_pat_end_n     := sys.diutil.bool_to_int(dt_internment_pat_end_nin);
        l_dt_certificate_renew_n      := sys.diutil.bool_to_int(dt_certificate_renew_nin);
        l_id_epis_documentation_n     := sys.diutil.bool_to_int(id_epis_documentation_nin);
        l_sql                         := 'UPDATE pat_cit SET' || ' ID_PATIENT = decode (' || l_id_patient_n ||
                                         ',0,:ID_PATIENT_in, NVL (:ID_PATIENT_in, ID_PATIENT)) ' || ',' ||
                                         ' ID_EPISODE = decode (' || l_id_episode_n ||
                                         ',0,:ID_EPISODE_in, NVL (:ID_EPISODE_in, ID_EPISODE)) ' || ',' ||
                                         ' FLG_PAT_DISEASE_STATE = decode (' || l_flg_pat_disease_state_n ||
                                         ',0,:FLG_PAT_DISEASE_STATE_in, NVL (:FLG_PAT_DISEASE_STATE_in, FLG_PAT_DISEASE_STATE)) ' || ',' ||
                                         ' FLG_PROF_HEALTH_SUBSYS = decode (' || l_flg_prof_health_subsys_n ||
                                         ',0,:FLG_PROF_HEALTH_SUBSYS_in, NVL (:FLG_PROF_HEALTH_SUBSYS_in, FLG_PROF_HEALTH_SUBSYS)) ' || ',' ||
                                         ' ILL_PARENT_NAME = decode (' || l_ill_parent_name_n ||
                                         ',0,:ILL_PARENT_NAME_in, NVL (:ILL_PARENT_NAME_in, ILL_PARENT_NAME)) ' || ',' ||
                                         ' FLG_ILL_AFFINITY = decode (' || l_flg_ill_affinity_n ||
                                         ',0,:FLG_ILL_AFFINITY_in, NVL (:FLG_ILL_AFFINITY_in, FLG_ILL_AFFINITY)) ' || ',' ||
                                         ' ILL_ID_CARD = decode (' || l_ill_id_card_n ||
                                         ',0,:ILL_ID_CARD_in, NVL (:ILL_ID_CARD_in, ILL_ID_CARD)) ' || ',' ||
                                         ' FLG_BENEF_HEALTH_SUBSYS = decode (' || l_flg_benef_health_subsys_n ||
                                         ',0,:FLG_BENEF_HEALTH_SUBSYS_in, NVL (:FLG_BENEF_HEALTH_SUBSYS_in, FLG_BENEF_HEALTH_SUBSYS)) ' || ',' ||
                                         ' FLG_CIT_CLASSIFICATION_SS = decode (' || l_flg_cit_classification_ss_n ||
                                         ',0,:FLG_CIT_CLASSIFICATION_SS_in, NVL (:FLG_CIT_CLASSIFICATION_SS_in, FLG_CIT_CLASSIFICATION_SS)) ' || ',' ||
                                         ' FLG_CIT_CLASSIFICATION_FP = decode (' || l_flg_cit_classification_fp_n ||
                                         ',0,:FLG_CIT_CLASSIFICATION_FP_in, NVL (:FLG_CIT_CLASSIFICATION_FP_in, FLG_CIT_CLASSIFICATION_FP)) ' || ',' ||
                                         ' FLG_INTERNMENT = decode (' || l_flg_internment_n ||
                                         ',0,:FLG_INTERNMENT_in, NVL (:FLG_INTERNMENT_in, FLG_INTERNMENT)) ' || ',' ||
                                         ' FLG_INCAPACITY_PERIOD = decode (' || l_flg_incapacity_period_n ||
                                         ',0,:FLG_INCAPACITY_PERIOD_in, NVL (:FLG_INCAPACITY_PERIOD_in, FLG_INCAPACITY_PERIOD)) ' || ',' ||
                                         ' DT_START_PERIOD_TSTZ = decode (' || l_dt_start_period_tstz_n ||
                                         ',0,:DT_START_PERIOD_TSTZ_in, NVL (:DT_START_PERIOD_TSTZ_in, DT_START_PERIOD_TSTZ)) ' || ',' ||
                                         ' DT_END_PERIOD_TSTZ = decode (' || l_dt_end_period_tstz_n ||
                                         ',0,:DT_END_PERIOD_TSTZ_in, NVL (:DT_END_PERIOD_TSTZ_in, DT_END_PERIOD_TSTZ)) ' || ',' ||
                                         ' FLG_HOME_ABSENCE = decode (' || l_flg_home_absence_n ||
                                         ',0,:FLG_HOME_ABSENCE_in, NVL (:FLG_HOME_ABSENCE_in, FLG_HOME_ABSENCE)) ' || ',' ||
                                         ' HOME_AUTHORIZATION = decode (' || l_home_authorization_n ||
                                         ',0,:HOME_AUTHORIZATION_in, NVL (:HOME_AUTHORIZATION_in, HOME_AUTHORIZATION)) ' || ',' ||
                                         ' FLG_STATUS = decode (' || l_flg_status_n ||
                                         ',0,:FLG_STATUS_in, NVL (:FLG_STATUS_in, FLG_STATUS)) ' || ',' ||
                                         ' FLG_TYPE = decode (' || l_flg_type_n ||
                                         ',0,:FLG_TYPE_in, NVL (:FLG_TYPE_in, FLG_TYPE)) ' || ',' ||
                                         ' ID_PROF_WRITES = decode (' || l_id_prof_writes_n ||
                                         ',0,:ID_PROF_WRITES_in, NVL (:ID_PROF_WRITES_in, ID_PROF_WRITES)) ' || ',' ||
                                         ' ID_PROF_CANCEL = decode (' || l_id_prof_cancel_n ||
                                         ',0,:ID_PROF_CANCEL_in, NVL (:ID_PROF_CANCEL_in, ID_PROF_CANCEL)) ' || ',' ||
                                         ' DT_WRITES_TSTZ = decode (' || l_dt_writes_tstz_n ||
                                         ',0,:DT_WRITES_TSTZ_in, NVL (:DT_WRITES_TSTZ_in, DT_WRITES_TSTZ)) ' || ',' ||
                                         ' DT_CANCEL_TSTZ = decode (' || l_dt_cancel_tstz_n ||
                                         ',0,:DT_CANCEL_TSTZ_in, NVL (:DT_CANCEL_TSTZ_in, DT_CANCEL_TSTZ)) ' || ',' ||
                                         ' ID_CANCEL_REASON = decode (' || l_id_cancel_reason_n ||
                                         ',0,:ID_CANCEL_REASON_in, NVL (:ID_CANCEL_REASON_in, ID_CANCEL_REASON)) ' || ',' ||
                                         ' CANCEL_NOTES = decode (' || l_cancel_notes_n ||
                                         ',0,:CANCEL_NOTES_in, NVL (:CANCEL_NOTES_in, CANCEL_NOTES)) ' || ',' ||
                                         ' CREATE_USER = decode (' || l_create_user_n ||
                                         ',0,:CREATE_USER_in, NVL (:CREATE_USER_in, CREATE_USER)) ' || ',' ||
                                         ' CREATE_TIME = decode (' || l_create_time_n ||
                                         ',0,:CREATE_TIME_in, NVL (:CREATE_TIME_in, CREATE_TIME)) ' || ',' ||
                                         ' CREATE_INSTITUTION = decode (' || l_create_institution_n ||
                                         ',0,:CREATE_INSTITUTION_in, NVL (:CREATE_INSTITUTION_in, CREATE_INSTITUTION)) ' || ',' ||
                                         ' UPDATE_USER = decode (' || l_update_user_n ||
                                         ',0,:UPDATE_USER_in, NVL (:UPDATE_USER_in, UPDATE_USER)) ' || ',' ||
                                         ' UPDATE_TIME = decode (' || l_update_time_n ||
                                         ',0,:UPDATE_TIME_in, NVL (:UPDATE_TIME_in, UPDATE_TIME)) ' || ',' ||
                                         ' UPDATE_INSTITUTION = decode (' || l_update_institution_n ||
                                         ',0,:UPDATE_INSTITUTION_in, NVL (:UPDATE_INSTITUTION_in, UPDATE_INSTITUTION)) ' || ',' ||
                                         ' ACCIDENT_CAUSE = decode (' || l_accident_cause_n ||
                                         ',0,:ACCIDENT_CAUSE_in, NVL (:ACCIDENT_CAUSE_in, ACCIDENT_CAUSE)) ' || ',' ||
                                         ' FLG_CIT_TYPE = decode (' || l_flg_cit_type_n ||
                                         ',0,:FLG_CIT_TYPE_in, NVL (:FLG_CIT_TYPE_in, FLG_CIT_TYPE)) ' || ',' ||
                                         ' FLG_PROGNOSIS_TYPE = decode (' || l_flg_prognosis_type_n ||
                                         ',0,:FLG_PROGNOSIS_TYPE_in, NVL (:FLG_PROGNOSIS_TYPE_in, FLG_PROGNOSIS_TYPE)) ' || ',' ||
                                         ' FLG_PERMANENT_DISABILITY = decode (' || l_flg_permanent_disability_n ||
                                         ',0,:FLG_PERMANENT_DISABILITY_in, NVL (:FLG_PERMANENT_DISABILITY_in, FLG_PERMANENT_DISABILITY)) ' || ',' ||
                                         ' FLG_LIFE_DANGER = decode (' || l_flg_life_danger_n ||
                                         ',0,:FLG_LIFE_DANGER_in, NVL (:FLG_LIFE_DANGER_in, FLG_LIFE_DANGER)) ' || ',' ||
                                         ' DT_EVENT_TSTZ = decode (' || l_dt_event_tstz_n ||
                                         ',0,:DT_EVENT_TSTZ_in, NVL (:DT_EVENT_TSTZ_in, DT_EVENT_TSTZ)) ' || ',' ||
                                         ' DT_STOP_WORK_TSTZ = decode (' || l_dt_stop_work_tstz_n ||
                                         ',0,:DT_STOP_WORK_TSTZ_in, NVL (:DT_STOP_WORK_TSTZ_in, DT_STOP_WORK_TSTZ)) ' || ',' ||
                                         ' FLG_ACCIDENT_TYPE = decode (' || l_flg_accident_type_n ||
                                         ',0,:FLG_ACCIDENT_TYPE_in, NVL (:FLG_ACCIDENT_TYPE_in, FLG_ACCIDENT_TYPE)) ' || ',' ||
                                         ' ID_COUNTY_ACCIDENT = decode (' || l_id_county_accident_n ||
                                         ',0,:ID_COUNTY_ACCIDENT_in, NVL (:ID_COUNTY_ACCIDENT_in, ID_COUNTY_ACCIDENT)) ' || ',' ||
                                         ' BENEFICIARY_NUMBER = decode (' || l_beneficiary_number_n ||
                                         ',0,:BENEFICIARY_NUMBER_in, NVL (:BENEFICIARY_NUMBER_in, BENEFICIARY_NUMBER)) ' || ',' ||
                                         ' LANDLINE_PREFIX = decode (' || l_landline_prefix_n ||
                                         ',0,:LANDLINE_PREFIX_in, NVL (:LANDLINE_PREFIX_in, LANDLINE_PREFIX)) ' || ',' ||
                                         ' LANDLINE_NUMBER = decode (' || l_landline_number_n ||
                                         ',0,:LANDLINE_NUMBER_in, NVL (:LANDLINE_NUMBER_in, LANDLINE_NUMBER)) ' || ',' ||
                                         ' MOBILE_PREFIX = decode (' || l_mobile_prefix_n ||
                                         ',0,:MOBILE_PREFIX_in, NVL (:MOBILE_PREFIX_in, MOBILE_PREFIX)) ' || ',' ||
                                         ' MOBILE_NUMBER = decode (' || l_mobile_number_n ||
                                         ',0,:MOBILE_NUMBER_in, NVL (:MOBILE_NUMBER_in, MOBILE_NUMBER)) ' || ',' ||
                                         ' FLG_ZERO_CAPAC_END = decode (' || l_flg_zero_capac_end_n ||
                                         ',0,:FLG_ZERO_CAPAC_END_in, NVL (:FLG_ZERO_CAPAC_END_in, FLG_ZERO_CAPAC_END)) ' || ',' ||
                                         ' DT_ZERO_CAPAC_END = decode (' || l_dt_zero_capac_end_n ||
                                         ',0,:DT_ZERO_CAPAC_END_in, NVL (:DT_ZERO_CAPAC_END_in, DT_ZERO_CAPAC_END)) ' || ',' ||
                                         ' ZERO_CAPAC_END_NUM = decode (' || l_zero_capac_end_num_n ||
                                         ',0,:ZERO_CAPAC_END_NUM_in, NVL (:ZERO_CAPAC_END_NUM_in, ZERO_CAPAC_END_NUM)) ' || ',' ||
                                         ' ZERO_CAPAC_END_UNIT = decode (' || l_zero_capac_end_unit_n ||
                                         ',0,:ZERO_CAPAC_END_UNIT_in, NVL (:ZERO_CAPAC_END_UNIT_in, ZERO_CAPAC_END_UNIT)) ' || ',' ||
                                         ' OTHER_PERCENTAGE_NUM = decode (' || l_other_percentage_num_n ||
                                         ',0,:OTHER_PERCENTAGE_NUM_in, NVL (:OTHER_PERCENTAGE_NUM_in, OTHER_PERCENTAGE_NUM)) ' || ',' ||
                                         ' DT_OTHER_CAPAC_START = decode (' || l_dt_other_capac_start_n ||
                                         ',0,:DT_OTHER_CAPAC_START_in, NVL (:DT_OTHER_CAPAC_START_in, DT_OTHER_CAPAC_START)) ' || ',' ||
                                         ' FLG_OTHER_CAPAC = decode (' || l_flg_other_capac_n ||
                                         ',0,:FLG_OTHER_CAPAC_in, NVL (:FLG_OTHER_CAPAC_in, FLG_OTHER_CAPAC)) ' || ',' ||
                                         ' DT_OTHER_CAPAC_END = decode (' || l_dt_other_capac_end_n ||
                                         ',0,:DT_OTHER_CAPAC_END_in, NVL (:DT_OTHER_CAPAC_END_in, DT_OTHER_CAPAC_END)) ' || ',' ||
                                         ' OTHER_CAPAC_END_NUM = decode (' || l_other_capac_end_num_n ||
                                         ',0,:OTHER_CAPAC_END_NUM_in, NVL (:OTHER_CAPAC_END_NUM_in, OTHER_CAPAC_END_NUM)) ' || ',' ||
                                         ' OTHER_CAPAC_END_UNIT = decode (' || l_other_capac_end_unit_n ||
                                         ',0,:OTHER_CAPAC_END_UNIT_in, NVL (:OTHER_CAPAC_END_UNIT_in, OTHER_CAPAC_END_UNIT)) ' || ',' ||
                                         ' FLG_REASON = decode (' || l_flg_reason_n ||
                                         ',0,:FLG_REASON_in, NVL (:FLG_REASON_in, FLG_REASON)) ' || ',' ||
                                         ' NOTES_DESC = decode (' || l_notes_desc_n ||
                                         ',0,:NOTES_DESC_in, NVL (:NOTES_DESC_in, NOTES_DESC)) ' || ',' ||
                                         ' DT_TREATMENT_END = decode (' || l_dt_treatment_end_n ||
                                         ',0,:DT_TREATMENT_END_in, NVL (:DT_TREATMENT_END_in, DT_TREATMENT_END)) ' || ',' ||
                                         ' DT_INTERNMENT_PAT_BEGIN = decode (' || l_dt_internment_pat_begin_n ||
                                         ',0,:DT_INTERNMENT_PAT_BEGIN_in, NVL (:DT_INTERNMENT_PAT_BEGIN_in, DT_INTERNMENT_PAT_BEGIN)) ' || ',' ||
                                         ' DT_INTERNMENT_PAT_END = decode (' || l_dt_internment_pat_end_n ||
                                         ',0,:DT_INTERNMENT_PAT_END_in, NVL (:DT_INTERNMENT_PAT_END_in, DT_INTERNMENT_PAT_END)) ' || ',' ||
                                         ' DT_CERTIFICATE_RENEW = decode (' || l_dt_certificate_renew_n ||
                                         ',0,:DT_CERTIFICATE_RENEW_in, NVL (:DT_CERTIFICATE_RENEW_in, DT_CERTIFICATE_RENEW)) ' || ',' ||
                                         ' ID_EPIS_DOCUMENTATION = decode (' || l_id_epis_documentation_n ||
                                         ',0,:ID_EPIS_DOCUMENTATION_in, NVL (:ID_EPIS_DOCUMENTATION_in, ID_EPIS_DOCUMENTATION)) ' ||
                                         ' where ' || nvl(where_in, '(1=1)') ||
                                         ' RETURNING ROWID BULK COLLECT INTO :l_rows_out';
        EXECUTE IMMEDIATE 'BEGIN ' || l_sql || '; END;'
            USING IN id_patient_in, id_episode_in, flg_pat_disease_state_in, flg_prof_health_subsys_in, ill_parent_name_in, flg_ill_affinity_in, ill_id_card_in, flg_benef_health_subsys_in, flg_cit_classification_ss_in, flg_cit_classification_fp_in, flg_internment_in, flg_incapacity_period_in, dt_start_period_tstz_in, dt_end_period_tstz_in, flg_home_absence_in, home_authorization_in, flg_status_in, flg_type_in, id_prof_writes_in, id_prof_cancel_in, dt_writes_tstz_in, dt_cancel_tstz_in, id_cancel_reason_in, cancel_notes_in, create_user_in, create_time_in, create_institution_in, update_user_in, update_time_in, update_institution_in, accident_cause_in, flg_cit_type_in, flg_prognosis_type_in, flg_permanent_disability_in, flg_life_danger_in, dt_event_tstz_in, dt_stop_work_tstz_in, flg_accident_type_in, id_county_accident_in, beneficiary_number_in, landline_prefix_in, landline_number_in, mobile_prefix_in, mobile_number_in, flg_zero_capac_end_in, dt_zero_capac_end_in, zero_capac_end_num_in, zero_capac_end_unit_in, other_percentage_num_in, dt_other_capac_start_in, flg_other_capac_in, dt_other_capac_end_in, other_capac_end_num_in, other_capac_end_unit_in, flg_reason_in, notes_desc_in, dt_treatment_end_in, dt_internment_pat_begin_in, dt_internment_pat_end_in, dt_certificate_renew_in, id_epis_documentation_in, OUT l_rows_out;
        IF (rows_out IS NULL)
        THEN
            rows_out := table_varchar();
        END IF;
        rows_out := rows_out MULTISET UNION DISTINCT l_rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    --Update any/all columns by dynamic WHERE
    -- If you pass NULL, then the current column value is set to itself
    PROCEDURE upd
    (
        id_patient_in                 IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_patient_nin                IN BOOLEAN := TRUE,
        id_episode_in                 IN pat_cit.id_episode%TYPE DEFAULT NULL,
        id_episode_nin                IN BOOLEAN := TRUE,
        flg_pat_disease_state_in      IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_pat_disease_state_nin     IN BOOLEAN := TRUE,
        flg_prof_health_subsys_in     IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        flg_prof_health_subsys_nin    IN BOOLEAN := TRUE,
        ill_parent_name_in            IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        ill_parent_name_nin           IN BOOLEAN := TRUE,
        flg_ill_affinity_in           IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        flg_ill_affinity_nin          IN BOOLEAN := TRUE,
        ill_id_card_in                IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        ill_id_card_nin               IN BOOLEAN := TRUE,
        flg_benef_health_subsys_in    IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_benef_health_subsys_nin   IN BOOLEAN := TRUE,
        flg_cit_classification_ss_in  IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_ss_nin IN BOOLEAN := TRUE,
        flg_cit_classification_fp_in  IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_cit_classification_fp_nin IN BOOLEAN := TRUE,
        flg_internment_in             IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_internment_nin            IN BOOLEAN := TRUE,
        flg_incapacity_period_in      IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        flg_incapacity_period_nin     IN BOOLEAN := TRUE,
        dt_start_period_tstz_in       IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_start_period_tstz_nin      IN BOOLEAN := TRUE,
        dt_end_period_tstz_in         IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_nin        IN BOOLEAN := TRUE,
        flg_home_absence_in           IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        flg_home_absence_nin          IN BOOLEAN := TRUE,
        home_authorization_in         IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        home_authorization_nin        IN BOOLEAN := TRUE,
        flg_status_in                 IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_status_nin                IN BOOLEAN := TRUE,
        flg_type_in                   IN pat_cit.flg_type%TYPE DEFAULT NULL,
        flg_type_nin                  IN BOOLEAN := TRUE,
        id_prof_writes_in             IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_writes_nin            IN BOOLEAN := TRUE,
        id_prof_cancel_in             IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        id_prof_cancel_nin            IN BOOLEAN := TRUE,
        dt_writes_tstz_in             IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_writes_tstz_nin            IN BOOLEAN := TRUE,
        dt_cancel_tstz_in             IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_nin            IN BOOLEAN := TRUE,
        id_cancel_reason_in           IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        id_cancel_reason_nin          IN BOOLEAN := TRUE,
        cancel_notes_in               IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        cancel_notes_nin              IN BOOLEAN := TRUE,
        create_user_in                IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_user_nin               IN BOOLEAN := TRUE,
        create_time_in                IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_time_nin               IN BOOLEAN := TRUE,
        create_institution_in         IN pat_cit.create_institution%TYPE DEFAULT NULL,
        create_institution_nin        IN BOOLEAN := TRUE,
        update_user_in                IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_user_nin               IN BOOLEAN := TRUE,
        update_time_in                IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_time_nin               IN BOOLEAN := TRUE,
        update_institution_in         IN pat_cit.update_institution%TYPE DEFAULT NULL,
        update_institution_nin        IN BOOLEAN := TRUE,
        accident_cause_in             IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        accident_cause_nin            IN BOOLEAN := TRUE,
        flg_cit_type_in               IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_cit_type_nin              IN BOOLEAN := TRUE,
        flg_prognosis_type_in         IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_prognosis_type_nin        IN BOOLEAN := TRUE,
        flg_permanent_disability_in   IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_permanent_disability_nin  IN BOOLEAN := TRUE,
        flg_life_danger_in            IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        flg_life_danger_nin           IN BOOLEAN := TRUE,
        dt_event_tstz_in              IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_event_tstz_nin             IN BOOLEAN := TRUE,
        dt_stop_work_tstz_in          IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_nin         IN BOOLEAN := TRUE,
        flg_accident_type_in          IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        flg_accident_type_nin         IN BOOLEAN := TRUE,
        id_county_accident_in         IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        id_county_accident_nin        IN BOOLEAN := TRUE,
        beneficiary_number_in         IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        beneficiary_number_nin        IN BOOLEAN := TRUE,
        landline_prefix_in            IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_prefix_nin           IN BOOLEAN := TRUE,
        landline_number_in            IN pat_cit.landline_number%TYPE DEFAULT NULL,
        landline_number_nin           IN BOOLEAN := TRUE,
        mobile_prefix_in              IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_prefix_nin             IN BOOLEAN := TRUE,
        mobile_number_in              IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        mobile_number_nin             IN BOOLEAN := TRUE,
        flg_zero_capac_end_in         IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        flg_zero_capac_end_nin        IN BOOLEAN := TRUE,
        dt_zero_capac_end_in          IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_nin         IN BOOLEAN := TRUE,
        zero_capac_end_num_in         IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_num_nin        IN BOOLEAN := TRUE,
        zero_capac_end_unit_in        IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        zero_capac_end_unit_nin       IN BOOLEAN := TRUE,
        other_percentage_num_in       IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        other_percentage_num_nin      IN BOOLEAN := TRUE,
        dt_other_capac_start_in       IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        dt_other_capac_start_nin      IN BOOLEAN := TRUE,
        flg_other_capac_in            IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        flg_other_capac_nin           IN BOOLEAN := TRUE,
        dt_other_capac_end_in         IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        dt_other_capac_end_nin        IN BOOLEAN := TRUE,
        other_capac_end_num_in        IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_num_nin       IN BOOLEAN := TRUE,
        other_capac_end_unit_in       IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        other_capac_end_unit_nin      IN BOOLEAN := TRUE,
        flg_reason_in                 IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        flg_reason_nin                IN BOOLEAN := TRUE,
        notes_desc_in                 IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        notes_desc_nin                IN BOOLEAN := TRUE,
        dt_treatment_end_in           IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_treatment_end_nin          IN BOOLEAN := TRUE,
        dt_internment_pat_begin_in    IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_begin_nin   IN BOOLEAN := TRUE,
        dt_internment_pat_end_in      IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_internment_pat_end_nin     IN BOOLEAN := TRUE,
        dt_certificate_renew_in       IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        dt_certificate_renew_nin      IN BOOLEAN := TRUE,
        id_epis_documentation_in      IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        id_epis_documentation_nin     IN BOOLEAN := TRUE,
        where_in                      IN VARCHAR2,
        handle_error_in               IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(id_patient_in                 => id_patient_in,
            id_patient_nin                => id_patient_nin,
            id_episode_in                 => id_episode_in,
            id_episode_nin                => id_episode_nin,
            flg_pat_disease_state_in      => flg_pat_disease_state_in,
            flg_pat_disease_state_nin     => flg_pat_disease_state_nin,
            flg_prof_health_subsys_in     => flg_prof_health_subsys_in,
            flg_prof_health_subsys_nin    => flg_prof_health_subsys_nin,
            ill_parent_name_in            => ill_parent_name_in,
            ill_parent_name_nin           => ill_parent_name_nin,
            flg_ill_affinity_in           => flg_ill_affinity_in,
            flg_ill_affinity_nin          => flg_ill_affinity_nin,
            ill_id_card_in                => ill_id_card_in,
            ill_id_card_nin               => ill_id_card_nin,
            flg_benef_health_subsys_in    => flg_benef_health_subsys_in,
            flg_benef_health_subsys_nin   => flg_benef_health_subsys_nin,
            flg_cit_classification_ss_in  => flg_cit_classification_ss_in,
            flg_cit_classification_ss_nin => flg_cit_classification_ss_nin,
            flg_cit_classification_fp_in  => flg_cit_classification_fp_in,
            flg_cit_classification_fp_nin => flg_cit_classification_fp_nin,
            flg_internment_in             => flg_internment_in,
            flg_internment_nin            => flg_internment_nin,
            flg_incapacity_period_in      => flg_incapacity_period_in,
            flg_incapacity_period_nin     => flg_incapacity_period_nin,
            dt_start_period_tstz_in       => dt_start_period_tstz_in,
            dt_start_period_tstz_nin      => dt_start_period_tstz_nin,
            dt_end_period_tstz_in         => dt_end_period_tstz_in,
            dt_end_period_tstz_nin        => dt_end_period_tstz_nin,
            flg_home_absence_in           => flg_home_absence_in,
            flg_home_absence_nin          => flg_home_absence_nin,
            home_authorization_in         => home_authorization_in,
            home_authorization_nin        => home_authorization_nin,
            flg_status_in                 => flg_status_in,
            flg_status_nin                => flg_status_nin,
            flg_type_in                   => flg_type_in,
            flg_type_nin                  => flg_type_nin,
            id_prof_writes_in             => id_prof_writes_in,
            id_prof_writes_nin            => id_prof_writes_nin,
            id_prof_cancel_in             => id_prof_cancel_in,
            id_prof_cancel_nin            => id_prof_cancel_nin,
            dt_writes_tstz_in             => dt_writes_tstz_in,
            dt_writes_tstz_nin            => dt_writes_tstz_nin,
            dt_cancel_tstz_in             => dt_cancel_tstz_in,
            dt_cancel_tstz_nin            => dt_cancel_tstz_nin,
            id_cancel_reason_in           => id_cancel_reason_in,
            id_cancel_reason_nin          => id_cancel_reason_nin,
            cancel_notes_in               => cancel_notes_in,
            cancel_notes_nin              => cancel_notes_nin,
            create_user_in                => create_user_in,
            create_user_nin               => create_user_nin,
            create_time_in                => create_time_in,
            create_time_nin               => create_time_nin,
            create_institution_in         => create_institution_in,
            create_institution_nin        => create_institution_nin,
            update_user_in                => update_user_in,
            update_user_nin               => update_user_nin,
            update_time_in                => update_time_in,
            update_time_nin               => update_time_nin,
            update_institution_in         => update_institution_in,
            update_institution_nin        => update_institution_nin,
            accident_cause_in             => accident_cause_in,
            accident_cause_nin            => accident_cause_nin,
            flg_cit_type_in               => flg_cit_type_in,
            flg_cit_type_nin              => flg_cit_type_nin,
            flg_prognosis_type_in         => flg_prognosis_type_in,
            flg_prognosis_type_nin        => flg_prognosis_type_nin,
            flg_permanent_disability_in   => flg_permanent_disability_in,
            flg_permanent_disability_nin  => flg_permanent_disability_nin,
            flg_life_danger_in            => flg_life_danger_in,
            flg_life_danger_nin           => flg_life_danger_nin,
            dt_event_tstz_in              => dt_event_tstz_in,
            dt_event_tstz_nin             => dt_event_tstz_nin,
            dt_stop_work_tstz_in          => dt_stop_work_tstz_in,
            dt_stop_work_tstz_nin         => dt_stop_work_tstz_nin,
            flg_accident_type_in          => flg_accident_type_in,
            flg_accident_type_nin         => flg_accident_type_nin,
            id_county_accident_in         => id_county_accident_in,
            id_county_accident_nin        => id_county_accident_nin,
            beneficiary_number_in         => beneficiary_number_in,
            beneficiary_number_nin        => beneficiary_number_nin,
            landline_prefix_in            => landline_prefix_in,
            landline_prefix_nin           => landline_prefix_nin,
            landline_number_in            => landline_number_in,
            landline_number_nin           => landline_number_nin,
            mobile_prefix_in              => mobile_prefix_in,
            mobile_prefix_nin             => mobile_prefix_nin,
            mobile_number_in              => mobile_number_in,
            mobile_number_nin             => mobile_number_nin,
            flg_zero_capac_end_in         => flg_zero_capac_end_in,
            flg_zero_capac_end_nin        => flg_zero_capac_end_nin,
            dt_zero_capac_end_in          => dt_zero_capac_end_in,
            dt_zero_capac_end_nin         => dt_zero_capac_end_nin,
            zero_capac_end_num_in         => zero_capac_end_num_in,
            zero_capac_end_num_nin        => zero_capac_end_num_nin,
            zero_capac_end_unit_in        => zero_capac_end_unit_in,
            zero_capac_end_unit_nin       => zero_capac_end_unit_nin,
            other_percentage_num_in       => other_percentage_num_in,
            other_percentage_num_nin      => other_percentage_num_nin,
            dt_other_capac_start_in       => dt_other_capac_start_in,
            dt_other_capac_start_nin      => dt_other_capac_start_nin,
            flg_other_capac_in            => flg_other_capac_in,
            flg_other_capac_nin           => flg_other_capac_nin,
            dt_other_capac_end_in         => dt_other_capac_end_in,
            dt_other_capac_end_nin        => dt_other_capac_end_nin,
            other_capac_end_num_in        => other_capac_end_num_in,
            other_capac_end_num_nin       => other_capac_end_num_nin,
            other_capac_end_unit_in       => other_capac_end_unit_in,
            other_capac_end_unit_nin      => other_capac_end_unit_nin,
            flg_reason_in                 => flg_reason_in,
            flg_reason_nin                => flg_reason_nin,
            notes_desc_in                 => notes_desc_in,
            notes_desc_nin                => notes_desc_nin,
            dt_treatment_end_in           => dt_treatment_end_in,
            dt_treatment_end_nin          => dt_treatment_end_nin,
            dt_internment_pat_begin_in    => dt_internment_pat_begin_in,
            dt_internment_pat_begin_nin   => dt_internment_pat_begin_nin,
            dt_internment_pat_end_in      => dt_internment_pat_end_in,
            dt_internment_pat_end_nin     => dt_internment_pat_end_nin,
            dt_certificate_renew_in       => dt_certificate_renew_in,
            dt_certificate_renew_nin      => dt_certificate_renew_nin,
            id_epis_documentation_in      => id_epis_documentation_in,
            id_epis_documentation_nin     => id_epis_documentation_nin,
            where_in                      => where_in,
            handle_error_in               => handle_error_in,
            rows_out                      => rows_out);
    END upd;

    --Update/insert columns (with rows_out)
    PROCEDURE upd_ins
    (
        id_pat_cit_in                IN pat_cit.id_pat_cit%TYPE,
        id_patient_in                IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_episode_in                IN pat_cit.id_episode%TYPE DEFAULT NULL,
        flg_pat_disease_state_in     IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_prof_health_subsys_in    IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        ill_parent_name_in           IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        flg_ill_affinity_in          IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        ill_id_card_in               IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        flg_benef_health_subsys_in   IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_cit_classification_ss_in IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_fp_in IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_internment_in            IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_incapacity_period_in     IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        dt_start_period_tstz_in      IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_in        IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        flg_home_absence_in          IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        home_authorization_in        IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        flg_status_in                IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_type_in                  IN pat_cit.flg_type%TYPE DEFAULT NULL,
        id_prof_writes_in            IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_cancel_in            IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        dt_writes_tstz_in            IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in            IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        id_cancel_reason_in          IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        cancel_notes_in              IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        create_user_in               IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_time_in               IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_institution_in        IN pat_cit.create_institution%TYPE DEFAULT NULL,
        update_user_in               IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_time_in               IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_institution_in        IN pat_cit.update_institution%TYPE DEFAULT NULL,
        accident_cause_in            IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        flg_cit_type_in              IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_prognosis_type_in        IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_permanent_disability_in  IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_life_danger_in           IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        dt_event_tstz_in             IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_in         IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        flg_accident_type_in         IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        id_county_accident_in        IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        beneficiary_number_in        IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        landline_prefix_in           IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_number_in           IN pat_cit.landline_number%TYPE DEFAULT NULL,
        mobile_prefix_in             IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_number_in             IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        flg_zero_capac_end_in        IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_in         IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        zero_capac_end_num_in        IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_unit_in       IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        other_percentage_num_in      IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        dt_other_capac_start_in      IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        flg_other_capac_in           IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        dt_other_capac_end_in        IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        other_capac_end_num_in       IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_unit_in      IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        flg_reason_in                IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        notes_desc_in                IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        dt_treatment_end_in          IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_internment_pat_begin_in   IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_end_in     IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_certificate_renew_in      IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        id_epis_documentation_in     IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        handle_error_in              IN BOOLEAN := TRUE,
        rows_out                     IN OUT table_varchar
    ) IS
    BEGIN
        upd(id_pat_cit_in                => id_pat_cit_in,
            id_patient_in                => id_patient_in,
            id_episode_in                => id_episode_in,
            flg_pat_disease_state_in     => flg_pat_disease_state_in,
            flg_prof_health_subsys_in    => flg_prof_health_subsys_in,
            ill_parent_name_in           => ill_parent_name_in,
            flg_ill_affinity_in          => flg_ill_affinity_in,
            ill_id_card_in               => ill_id_card_in,
            flg_benef_health_subsys_in   => flg_benef_health_subsys_in,
            flg_cit_classification_ss_in => flg_cit_classification_ss_in,
            flg_cit_classification_fp_in => flg_cit_classification_fp_in,
            flg_internment_in            => flg_internment_in,
            flg_incapacity_period_in     => flg_incapacity_period_in,
            dt_start_period_tstz_in      => dt_start_period_tstz_in,
            dt_end_period_tstz_in        => dt_end_period_tstz_in,
            flg_home_absence_in          => flg_home_absence_in,
            home_authorization_in        => home_authorization_in,
            flg_status_in                => flg_status_in,
            flg_type_in                  => flg_type_in,
            id_prof_writes_in            => id_prof_writes_in,
            id_prof_cancel_in            => id_prof_cancel_in,
            dt_writes_tstz_in            => dt_writes_tstz_in,
            dt_cancel_tstz_in            => dt_cancel_tstz_in,
            id_cancel_reason_in          => id_cancel_reason_in,
            cancel_notes_in              => cancel_notes_in,
            create_user_in               => create_user_in,
            create_time_in               => create_time_in,
            create_institution_in        => create_institution_in,
            update_user_in               => update_user_in,
            update_time_in               => update_time_in,
            update_institution_in        => update_institution_in,
            accident_cause_in            => accident_cause_in,
            flg_cit_type_in              => flg_cit_type_in,
            flg_prognosis_type_in        => flg_prognosis_type_in,
            flg_permanent_disability_in  => flg_permanent_disability_in,
            flg_life_danger_in           => flg_life_danger_in,
            dt_event_tstz_in             => dt_event_tstz_in,
            dt_stop_work_tstz_in         => dt_stop_work_tstz_in,
            flg_accident_type_in         => flg_accident_type_in,
            id_county_accident_in        => id_county_accident_in,
            beneficiary_number_in        => beneficiary_number_in,
            landline_prefix_in           => landline_prefix_in,
            landline_number_in           => landline_number_in,
            mobile_prefix_in             => mobile_prefix_in,
            mobile_number_in             => mobile_number_in,
            flg_zero_capac_end_in        => flg_zero_capac_end_in,
            dt_zero_capac_end_in         => dt_zero_capac_end_in,
            zero_capac_end_num_in        => zero_capac_end_num_in,
            zero_capac_end_unit_in       => zero_capac_end_unit_in,
            other_percentage_num_in      => other_percentage_num_in,
            dt_other_capac_start_in      => dt_other_capac_start_in,
            flg_other_capac_in           => flg_other_capac_in,
            dt_other_capac_end_in        => dt_other_capac_end_in,
            other_capac_end_num_in       => other_capac_end_num_in,
            other_capac_end_unit_in      => other_capac_end_unit_in,
            flg_reason_in                => flg_reason_in,
            notes_desc_in                => notes_desc_in,
            dt_treatment_end_in          => dt_treatment_end_in,
            dt_internment_pat_begin_in   => dt_internment_pat_begin_in,
            dt_internment_pat_end_in     => dt_internment_pat_end_in,
            dt_certificate_renew_in      => dt_certificate_renew_in,
            id_epis_documentation_in     => id_epis_documentation_in,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
        IF SQL%ROWCOUNT = 0
        THEN
            ins(id_pat_cit_in                => id_pat_cit_in,
                id_patient_in                => id_patient_in,
                id_episode_in                => id_episode_in,
                flg_pat_disease_state_in     => flg_pat_disease_state_in,
                flg_prof_health_subsys_in    => flg_prof_health_subsys_in,
                ill_parent_name_in           => ill_parent_name_in,
                flg_ill_affinity_in          => flg_ill_affinity_in,
                ill_id_card_in               => ill_id_card_in,
                flg_benef_health_subsys_in   => flg_benef_health_subsys_in,
                flg_cit_classification_ss_in => flg_cit_classification_ss_in,
                flg_cit_classification_fp_in => flg_cit_classification_fp_in,
                flg_internment_in            => flg_internment_in,
                flg_incapacity_period_in     => flg_incapacity_period_in,
                dt_start_period_tstz_in      => dt_start_period_tstz_in,
                dt_end_period_tstz_in        => dt_end_period_tstz_in,
                flg_home_absence_in          => flg_home_absence_in,
                home_authorization_in        => home_authorization_in,
                flg_status_in                => flg_status_in,
                flg_type_in                  => flg_type_in,
                id_prof_writes_in            => id_prof_writes_in,
                id_prof_cancel_in            => id_prof_cancel_in,
                dt_writes_tstz_in            => dt_writes_tstz_in,
                dt_cancel_tstz_in            => dt_cancel_tstz_in,
                id_cancel_reason_in          => id_cancel_reason_in,
                cancel_notes_in              => cancel_notes_in,
                create_user_in               => create_user_in,
                create_time_in               => create_time_in,
                create_institution_in        => create_institution_in,
                update_user_in               => update_user_in,
                update_time_in               => update_time_in,
                update_institution_in        => update_institution_in,
                accident_cause_in            => accident_cause_in,
                flg_cit_type_in              => flg_cit_type_in,
                flg_prognosis_type_in        => flg_prognosis_type_in,
                flg_permanent_disability_in  => flg_permanent_disability_in,
                flg_life_danger_in           => flg_life_danger_in,
                dt_event_tstz_in             => dt_event_tstz_in,
                dt_stop_work_tstz_in         => dt_stop_work_tstz_in,
                flg_accident_type_in         => flg_accident_type_in,
                id_county_accident_in        => id_county_accident_in,
                beneficiary_number_in        => beneficiary_number_in,
                landline_prefix_in           => landline_prefix_in,
                landline_number_in           => landline_number_in,
                mobile_prefix_in             => mobile_prefix_in,
                mobile_number_in             => mobile_number_in,
                flg_zero_capac_end_in        => flg_zero_capac_end_in,
                dt_zero_capac_end_in         => dt_zero_capac_end_in,
                zero_capac_end_num_in        => zero_capac_end_num_in,
                zero_capac_end_unit_in       => zero_capac_end_unit_in,
                other_percentage_num_in      => other_percentage_num_in,
                dt_other_capac_start_in      => dt_other_capac_start_in,
                flg_other_capac_in           => flg_other_capac_in,
                dt_other_capac_end_in        => dt_other_capac_end_in,
                other_capac_end_num_in       => other_capac_end_num_in,
                other_capac_end_unit_in      => other_capac_end_unit_in,
                flg_reason_in                => flg_reason_in,
                notes_desc_in                => notes_desc_in,
                dt_treatment_end_in          => dt_treatment_end_in,
                dt_internment_pat_begin_in   => dt_internment_pat_begin_in,
                dt_internment_pat_end_in     => dt_internment_pat_end_in,
                dt_certificate_renew_in      => dt_certificate_renew_in,
                id_epis_documentation_in     => id_epis_documentation_in,
                handle_error_in              => handle_error_in,
                rows_out                     => rows_out);
        END IF;
    END upd_ins;

    --Update/insert columns (without rows_out)
    PROCEDURE upd_ins
    (
        id_pat_cit_in                IN pat_cit.id_pat_cit%TYPE,
        id_patient_in                IN pat_cit.id_patient%TYPE DEFAULT NULL,
        id_episode_in                IN pat_cit.id_episode%TYPE DEFAULT NULL,
        flg_pat_disease_state_in     IN pat_cit.flg_pat_disease_state%TYPE DEFAULT NULL,
        flg_prof_health_subsys_in    IN pat_cit.flg_prof_health_subsys%TYPE DEFAULT NULL,
        ill_parent_name_in           IN pat_cit.ill_parent_name%TYPE DEFAULT NULL,
        flg_ill_affinity_in          IN pat_cit.flg_ill_affinity%TYPE DEFAULT NULL,
        ill_id_card_in               IN pat_cit.ill_id_card%TYPE DEFAULT NULL,
        flg_benef_health_subsys_in   IN pat_cit.flg_benef_health_subsys%TYPE DEFAULT NULL,
        flg_cit_classification_ss_in IN pat_cit.flg_cit_classification_ss%TYPE DEFAULT NULL,
        flg_cit_classification_fp_in IN pat_cit.flg_cit_classification_fp%TYPE DEFAULT NULL,
        flg_internment_in            IN pat_cit.flg_internment%TYPE DEFAULT NULL,
        flg_incapacity_period_in     IN pat_cit.flg_incapacity_period%TYPE DEFAULT NULL,
        dt_start_period_tstz_in      IN pat_cit.dt_start_period_tstz%TYPE DEFAULT NULL,
        dt_end_period_tstz_in        IN pat_cit.dt_end_period_tstz%TYPE DEFAULT NULL,
        flg_home_absence_in          IN pat_cit.flg_home_absence%TYPE DEFAULT NULL,
        home_authorization_in        IN pat_cit.home_authorization%TYPE DEFAULT NULL,
        flg_status_in                IN pat_cit.flg_status%TYPE DEFAULT NULL,
        flg_type_in                  IN pat_cit.flg_type%TYPE DEFAULT NULL,
        id_prof_writes_in            IN pat_cit.id_prof_writes%TYPE DEFAULT NULL,
        id_prof_cancel_in            IN pat_cit.id_prof_cancel%TYPE DEFAULT NULL,
        dt_writes_tstz_in            IN pat_cit.dt_writes_tstz%TYPE DEFAULT NULL,
        dt_cancel_tstz_in            IN pat_cit.dt_cancel_tstz%TYPE DEFAULT NULL,
        id_cancel_reason_in          IN pat_cit.id_cancel_reason%TYPE DEFAULT NULL,
        cancel_notes_in              IN pat_cit.cancel_notes%TYPE DEFAULT NULL,
        create_user_in               IN pat_cit.create_user%TYPE DEFAULT NULL,
        create_time_in               IN pat_cit.create_time%TYPE DEFAULT NULL,
        create_institution_in        IN pat_cit.create_institution%TYPE DEFAULT NULL,
        update_user_in               IN pat_cit.update_user%TYPE DEFAULT NULL,
        update_time_in               IN pat_cit.update_time%TYPE DEFAULT NULL,
        update_institution_in        IN pat_cit.update_institution%TYPE DEFAULT NULL,
        accident_cause_in            IN pat_cit.accident_cause%TYPE DEFAULT NULL,
        flg_cit_type_in              IN pat_cit.flg_cit_type%TYPE DEFAULT NULL,
        flg_prognosis_type_in        IN pat_cit.flg_prognosis_type%TYPE DEFAULT NULL,
        flg_permanent_disability_in  IN pat_cit.flg_permanent_disability%TYPE DEFAULT NULL,
        flg_life_danger_in           IN pat_cit.flg_life_danger%TYPE DEFAULT NULL,
        dt_event_tstz_in             IN pat_cit.dt_event_tstz%TYPE DEFAULT NULL,
        dt_stop_work_tstz_in         IN pat_cit.dt_stop_work_tstz%TYPE DEFAULT NULL,
        flg_accident_type_in         IN pat_cit.flg_accident_type%TYPE DEFAULT NULL,
        id_county_accident_in        IN pat_cit.id_county_accident%TYPE DEFAULT NULL,
        beneficiary_number_in        IN pat_cit.beneficiary_number%TYPE DEFAULT NULL,
        landline_prefix_in           IN pat_cit.landline_prefix%TYPE DEFAULT NULL,
        landline_number_in           IN pat_cit.landline_number%TYPE DEFAULT NULL,
        mobile_prefix_in             IN pat_cit.mobile_prefix%TYPE DEFAULT NULL,
        mobile_number_in             IN pat_cit.mobile_number%TYPE DEFAULT NULL,
        flg_zero_capac_end_in        IN pat_cit.flg_zero_capac_end%TYPE DEFAULT NULL,
        dt_zero_capac_end_in         IN pat_cit.dt_zero_capac_end%TYPE DEFAULT NULL,
        zero_capac_end_num_in        IN pat_cit.zero_capac_end_num%TYPE DEFAULT NULL,
        zero_capac_end_unit_in       IN pat_cit.zero_capac_end_unit%TYPE DEFAULT NULL,
        other_percentage_num_in      IN pat_cit.other_percentage_num%TYPE DEFAULT NULL,
        dt_other_capac_start_in      IN pat_cit.dt_other_capac_start%TYPE DEFAULT NULL,
        flg_other_capac_in           IN pat_cit.flg_other_capac%TYPE DEFAULT NULL,
        dt_other_capac_end_in        IN pat_cit.dt_other_capac_end%TYPE DEFAULT NULL,
        other_capac_end_num_in       IN pat_cit.other_capac_end_num%TYPE DEFAULT NULL,
        other_capac_end_unit_in      IN pat_cit.other_capac_end_unit%TYPE DEFAULT NULL,
        flg_reason_in                IN pat_cit.flg_reason%TYPE DEFAULT NULL,
        notes_desc_in                IN pat_cit.notes_desc%TYPE DEFAULT NULL,
        dt_treatment_end_in          IN pat_cit.dt_treatment_end%TYPE DEFAULT NULL,
        dt_internment_pat_begin_in   IN pat_cit.dt_internment_pat_begin%TYPE DEFAULT NULL,
        dt_internment_pat_end_in     IN pat_cit.dt_internment_pat_end%TYPE DEFAULT NULL,
        dt_certificate_renew_in      IN pat_cit.dt_certificate_renew%TYPE DEFAULT NULL,
        id_epis_documentation_in     IN pat_cit.id_epis_documentation%TYPE DEFAULT NULL,
        handle_error_in              IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd_ins(id_pat_cit_in,
                id_patient_in,
                id_episode_in,
                flg_pat_disease_state_in,
                flg_prof_health_subsys_in,
                ill_parent_name_in,
                flg_ill_affinity_in,
                ill_id_card_in,
                flg_benef_health_subsys_in,
                flg_cit_classification_ss_in,
                flg_cit_classification_fp_in,
                flg_internment_in,
                flg_incapacity_period_in,
                dt_start_period_tstz_in,
                dt_end_period_tstz_in,
                flg_home_absence_in,
                home_authorization_in,
                flg_status_in,
                flg_type_in,
                id_prof_writes_in,
                id_prof_cancel_in,
                dt_writes_tstz_in,
                dt_cancel_tstz_in,
                id_cancel_reason_in,
                cancel_notes_in,
                create_user_in,
                create_time_in,
                create_institution_in,
                update_user_in,
                update_time_in,
                update_institution_in,
                accident_cause_in,
                flg_cit_type_in,
                flg_prognosis_type_in,
                flg_permanent_disability_in,
                flg_life_danger_in,
                dt_event_tstz_in,
                dt_stop_work_tstz_in,
                flg_accident_type_in,
                id_county_accident_in,
                beneficiary_number_in,
                landline_prefix_in,
                landline_number_in,
                mobile_prefix_in,
                mobile_number_in,
                flg_zero_capac_end_in,
                dt_zero_capac_end_in,
                zero_capac_end_num_in,
                zero_capac_end_unit_in,
                other_percentage_num_in,
                dt_other_capac_start_in,
                flg_other_capac_in,
                dt_other_capac_end_in,
                other_capac_end_num_in,
                other_capac_end_unit_in,
                flg_reason_in,
                notes_desc_in,
                dt_treatment_end_in,
                dt_internment_pat_begin_in,
                dt_internment_pat_end_in,
                dt_certificate_renew_in,
                id_epis_documentation_in,
                handle_error_in,
                rows_out);
    END upd_ins;

    --Update by record (with rows_out)
    PROCEDURE upd
    (
        rec_in          IN pat_cit%ROWTYPE,
        handle_error_in IN BOOLEAN := TRUE,
        rows_out        IN OUT table_varchar
    ) IS
    BEGIN
        upd(id_pat_cit_in                => rec_in.id_pat_cit,
            id_patient_in                => rec_in.id_patient,
            id_episode_in                => rec_in.id_episode,
            flg_pat_disease_state_in     => rec_in.flg_pat_disease_state,
            flg_prof_health_subsys_in    => rec_in.flg_prof_health_subsys,
            ill_parent_name_in           => rec_in.ill_parent_name,
            flg_ill_affinity_in          => rec_in.flg_ill_affinity,
            ill_id_card_in               => rec_in.ill_id_card,
            flg_benef_health_subsys_in   => rec_in.flg_benef_health_subsys,
            flg_cit_classification_ss_in => rec_in.flg_cit_classification_ss,
            flg_cit_classification_fp_in => rec_in.flg_cit_classification_fp,
            flg_internment_in            => rec_in.flg_internment,
            flg_incapacity_period_in     => rec_in.flg_incapacity_period,
            dt_start_period_tstz_in      => rec_in.dt_start_period_tstz,
            dt_end_period_tstz_in        => rec_in.dt_end_period_tstz,
            flg_home_absence_in          => rec_in.flg_home_absence,
            home_authorization_in        => rec_in.home_authorization,
            flg_status_in                => rec_in.flg_status,
            flg_type_in                  => rec_in.flg_type,
            id_prof_writes_in            => rec_in.id_prof_writes,
            id_prof_cancel_in            => rec_in.id_prof_cancel,
            dt_writes_tstz_in            => rec_in.dt_writes_tstz,
            dt_cancel_tstz_in            => rec_in.dt_cancel_tstz,
            id_cancel_reason_in          => rec_in.id_cancel_reason,
            cancel_notes_in              => rec_in.cancel_notes,
            create_user_in               => rec_in.create_user,
            create_time_in               => rec_in.create_time,
            create_institution_in        => rec_in.create_institution,
            update_user_in               => rec_in.update_user,
            update_time_in               => rec_in.update_time,
            update_institution_in        => rec_in.update_institution,
            accident_cause_in            => rec_in.accident_cause,
            flg_cit_type_in              => rec_in.flg_cit_type,
            flg_prognosis_type_in        => rec_in.flg_prognosis_type,
            flg_permanent_disability_in  => rec_in.flg_permanent_disability,
            flg_life_danger_in           => rec_in.flg_life_danger,
            dt_event_tstz_in             => rec_in.dt_event_tstz,
            dt_stop_work_tstz_in         => rec_in.dt_stop_work_tstz,
            flg_accident_type_in         => rec_in.flg_accident_type,
            id_county_accident_in        => rec_in.id_county_accident,
            beneficiary_number_in        => rec_in.beneficiary_number,
            landline_prefix_in           => rec_in.landline_prefix,
            landline_number_in           => rec_in.landline_number,
            mobile_prefix_in             => rec_in.mobile_prefix,
            mobile_number_in             => rec_in.mobile_number,
            flg_zero_capac_end_in        => rec_in.flg_zero_capac_end,
            dt_zero_capac_end_in         => rec_in.dt_zero_capac_end,
            zero_capac_end_num_in        => rec_in.zero_capac_end_num,
            zero_capac_end_unit_in       => rec_in.zero_capac_end_unit,
            other_percentage_num_in      => rec_in.other_percentage_num,
            dt_other_capac_start_in      => rec_in.dt_other_capac_start,
            flg_other_capac_in           => rec_in.flg_other_capac,
            dt_other_capac_end_in        => rec_in.dt_other_capac_end,
            other_capac_end_num_in       => rec_in.other_capac_end_num,
            other_capac_end_unit_in      => rec_in.other_capac_end_unit,
            flg_reason_in                => rec_in.flg_reason,
            notes_desc_in                => rec_in.notes_desc,
            dt_treatment_end_in          => rec_in.dt_treatment_end,
            dt_internment_pat_begin_in   => rec_in.dt_internment_pat_begin,
            dt_internment_pat_end_in     => rec_in.dt_internment_pat_end,
            dt_certificate_renew_in      => rec_in.dt_certificate_renew,
            id_epis_documentation_in     => rec_in.id_epis_documentation,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
    END upd;

    --Update by record (without rows_out)
    PROCEDURE upd
    (
        rec_in          IN pat_cit%ROWTYPE,
        handle_error_in IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(id_pat_cit_in                => rec_in.id_pat_cit,
            id_patient_in                => rec_in.id_patient,
            id_episode_in                => rec_in.id_episode,
            flg_pat_disease_state_in     => rec_in.flg_pat_disease_state,
            flg_prof_health_subsys_in    => rec_in.flg_prof_health_subsys,
            ill_parent_name_in           => rec_in.ill_parent_name,
            flg_ill_affinity_in          => rec_in.flg_ill_affinity,
            ill_id_card_in               => rec_in.ill_id_card,
            flg_benef_health_subsys_in   => rec_in.flg_benef_health_subsys,
            flg_cit_classification_ss_in => rec_in.flg_cit_classification_ss,
            flg_cit_classification_fp_in => rec_in.flg_cit_classification_fp,
            flg_internment_in            => rec_in.flg_internment,
            flg_incapacity_period_in     => rec_in.flg_incapacity_period,
            dt_start_period_tstz_in      => rec_in.dt_start_period_tstz,
            dt_end_period_tstz_in        => rec_in.dt_end_period_tstz,
            flg_home_absence_in          => rec_in.flg_home_absence,
            home_authorization_in        => rec_in.home_authorization,
            flg_status_in                => rec_in.flg_status,
            flg_type_in                  => rec_in.flg_type,
            id_prof_writes_in            => rec_in.id_prof_writes,
            id_prof_cancel_in            => rec_in.id_prof_cancel,
            dt_writes_tstz_in            => rec_in.dt_writes_tstz,
            dt_cancel_tstz_in            => rec_in.dt_cancel_tstz,
            id_cancel_reason_in          => rec_in.id_cancel_reason,
            cancel_notes_in              => rec_in.cancel_notes,
            create_user_in               => rec_in.create_user,
            create_time_in               => rec_in.create_time,
            create_institution_in        => rec_in.create_institution,
            update_user_in               => rec_in.update_user,
            update_time_in               => rec_in.update_time,
            update_institution_in        => rec_in.update_institution,
            accident_cause_in            => rec_in.accident_cause,
            flg_cit_type_in              => rec_in.flg_cit_type,
            flg_prognosis_type_in        => rec_in.flg_prognosis_type,
            flg_permanent_disability_in  => rec_in.flg_permanent_disability,
            flg_life_danger_in           => rec_in.flg_life_danger,
            dt_event_tstz_in             => rec_in.dt_event_tstz,
            dt_stop_work_tstz_in         => rec_in.dt_stop_work_tstz,
            flg_accident_type_in         => rec_in.flg_accident_type,
            id_county_accident_in        => rec_in.id_county_accident,
            beneficiary_number_in        => rec_in.beneficiary_number,
            landline_prefix_in           => rec_in.landline_prefix,
            landline_number_in           => rec_in.landline_number,
            mobile_prefix_in             => rec_in.mobile_prefix,
            mobile_number_in             => rec_in.mobile_number,
            flg_zero_capac_end_in        => rec_in.flg_zero_capac_end,
            dt_zero_capac_end_in         => rec_in.dt_zero_capac_end,
            zero_capac_end_num_in        => rec_in.zero_capac_end_num,
            zero_capac_end_unit_in       => rec_in.zero_capac_end_unit,
            other_percentage_num_in      => rec_in.other_percentage_num,
            dt_other_capac_start_in      => rec_in.dt_other_capac_start,
            flg_other_capac_in           => rec_in.flg_other_capac,
            dt_other_capac_end_in        => rec_in.dt_other_capac_end,
            other_capac_end_num_in       => rec_in.other_capac_end_num,
            other_capac_end_unit_in      => rec_in.other_capac_end_unit,
            flg_reason_in                => rec_in.flg_reason,
            notes_desc_in                => rec_in.notes_desc,
            dt_treatment_end_in          => rec_in.dt_treatment_end,
            dt_internment_pat_begin_in   => rec_in.dt_internment_pat_begin,
            dt_internment_pat_end_in     => rec_in.dt_internment_pat_end,
            dt_certificate_renew_in      => rec_in.dt_certificate_renew,
            id_epis_documentation_in     => rec_in.id_epis_documentation,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
    END upd;

    --Update with collection (with rows_out)
    PROCEDURE upd
    (
        col_in            IN pat_cit_tc,
        ignore_if_null_in IN BOOLEAN := TRUE,
        handle_error_in   IN BOOLEAN := TRUE,
        rows_out          IN OUT table_varchar
    ) IS
        l_id_pat_cit                id_pat_cit_cc;
        l_id_patient                id_patient_cc;
        l_id_episode                id_episode_cc;
        l_flg_pat_disease_state     flg_pat_disease_state_cc;
        l_flg_prof_health_subsys    flg_prof_health_subsys_cc;
        l_ill_parent_name           ill_parent_name_cc;
        l_flg_ill_affinity          flg_ill_affinity_cc;
        l_ill_id_card               ill_id_card_cc;
        l_flg_benef_health_subsys   flg_benef_health_subsys_cc;
        l_flg_cit_classification_ss flg_cit_classification_ss_cc;
        l_flg_cit_classification_fp flg_cit_classification_fp_cc;
        l_flg_internment            flg_internment_cc;
        l_flg_incapacity_period     flg_incapacity_period_cc;
        l_dt_start_period_tstz      dt_start_period_tstz_cc;
        l_dt_end_period_tstz        dt_end_period_tstz_cc;
        l_flg_home_absence          flg_home_absence_cc;
        l_home_authorization        home_authorization_cc;
        l_flg_status                flg_status_cc;
        l_flg_type                  flg_type_cc;
        l_id_prof_writes            id_prof_writes_cc;
        l_id_prof_cancel            id_prof_cancel_cc;
        l_dt_writes_tstz            dt_writes_tstz_cc;
        l_dt_cancel_tstz            dt_cancel_tstz_cc;
        l_id_cancel_reason          id_cancel_reason_cc;
        l_cancel_notes              cancel_notes_cc;
        l_create_user               create_user_cc;
        l_create_time               create_time_cc;
        l_create_institution        create_institution_cc;
        l_update_user               update_user_cc;
        l_update_time               update_time_cc;
        l_update_institution        update_institution_cc;
        l_accident_cause            accident_cause_cc;
        l_flg_cit_type              flg_cit_type_cc;
        l_flg_prognosis_type        flg_prognosis_type_cc;
        l_flg_permanent_disability  flg_permanent_disability_cc;
        l_flg_life_danger           flg_life_danger_cc;
        l_dt_event_tstz             dt_event_tstz_cc;
        l_dt_stop_work_tstz         dt_stop_work_tstz_cc;
        l_flg_accident_type         flg_accident_type_cc;
        l_id_county_accident        id_county_accident_cc;
        l_beneficiary_number        beneficiary_number_cc;
        l_landline_prefix           landline_prefix_cc;
        l_landline_number           landline_number_cc;
        l_mobile_prefix             mobile_prefix_cc;
        l_mobile_number             mobile_number_cc;
        l_flg_zero_capac_end        flg_zero_capac_end_cc;
        l_dt_zero_capac_end         dt_zero_capac_end_cc;
        l_zero_capac_end_num        zero_capac_end_num_cc;
        l_zero_capac_end_unit       zero_capac_end_unit_cc;
        l_other_percentage_num      other_percentage_num_cc;
        l_dt_other_capac_start      dt_other_capac_start_cc;
        l_flg_other_capac           flg_other_capac_cc;
        l_dt_other_capac_end        dt_other_capac_end_cc;
        l_other_capac_end_num       other_capac_end_num_cc;
        l_other_capac_end_unit      other_capac_end_unit_cc;
        l_flg_reason                flg_reason_cc;
        l_notes_desc                notes_desc_cc;
        l_dt_treatment_end          dt_treatment_end_cc;
        l_dt_internment_pat_begin   dt_internment_pat_begin_cc;
        l_dt_internment_pat_end     dt_internment_pat_end_cc;
        l_dt_certificate_renew      dt_certificate_renew_cc;
        l_id_epis_documentation     id_epis_documentation_cc;
    BEGIN
        FOR i IN col_in.first .. col_in.last
        LOOP
            l_id_pat_cit(i) := col_in(i).id_pat_cit;
            l_id_patient(i) := col_in(i).id_patient;
            l_id_episode(i) := col_in(i).id_episode;
            l_flg_pat_disease_state(i) := col_in(i).flg_pat_disease_state;
            l_flg_prof_health_subsys(i) := col_in(i).flg_prof_health_subsys;
            l_ill_parent_name(i) := col_in(i).ill_parent_name;
            l_flg_ill_affinity(i) := col_in(i).flg_ill_affinity;
            l_ill_id_card(i) := col_in(i).ill_id_card;
            l_flg_benef_health_subsys(i) := col_in(i).flg_benef_health_subsys;
            l_flg_cit_classification_ss(i) := col_in(i).flg_cit_classification_ss;
            l_flg_cit_classification_fp(i) := col_in(i).flg_cit_classification_fp;
            l_flg_internment(i) := col_in(i).flg_internment;
            l_flg_incapacity_period(i) := col_in(i).flg_incapacity_period;
            l_dt_start_period_tstz(i) := col_in(i).dt_start_period_tstz;
            l_dt_end_period_tstz(i) := col_in(i).dt_end_period_tstz;
            l_flg_home_absence(i) := col_in(i).flg_home_absence;
            l_home_authorization(i) := col_in(i).home_authorization;
            l_flg_status(i) := col_in(i).flg_status;
            l_flg_type(i) := col_in(i).flg_type;
            l_id_prof_writes(i) := col_in(i).id_prof_writes;
            l_id_prof_cancel(i) := col_in(i).id_prof_cancel;
            l_dt_writes_tstz(i) := col_in(i).dt_writes_tstz;
            l_dt_cancel_tstz(i) := col_in(i).dt_cancel_tstz;
            l_id_cancel_reason(i) := col_in(i).id_cancel_reason;
            l_cancel_notes(i) := col_in(i).cancel_notes;
            l_create_user(i) := col_in(i).create_user;
            l_create_time(i) := col_in(i).create_time;
            l_create_institution(i) := col_in(i).create_institution;
            l_update_user(i) := col_in(i).update_user;
            l_update_time(i) := col_in(i).update_time;
            l_update_institution(i) := col_in(i).update_institution;
            l_accident_cause(i) := col_in(i).accident_cause;
            l_flg_cit_type(i) := col_in(i).flg_cit_type;
            l_flg_prognosis_type(i) := col_in(i).flg_prognosis_type;
            l_flg_permanent_disability(i) := col_in(i).flg_permanent_disability;
            l_flg_life_danger(i) := col_in(i).flg_life_danger;
            l_dt_event_tstz(i) := col_in(i).dt_event_tstz;
            l_dt_stop_work_tstz(i) := col_in(i).dt_stop_work_tstz;
            l_flg_accident_type(i) := col_in(i).flg_accident_type;
            l_id_county_accident(i) := col_in(i).id_county_accident;
            l_beneficiary_number(i) := col_in(i).beneficiary_number;
            l_landline_prefix(i) := col_in(i).landline_prefix;
            l_landline_number(i) := col_in(i).landline_number;
            l_mobile_prefix(i) := col_in(i).mobile_prefix;
            l_mobile_number(i) := col_in(i).mobile_number;
            l_flg_zero_capac_end(i) := col_in(i).flg_zero_capac_end;
            l_dt_zero_capac_end(i) := col_in(i).dt_zero_capac_end;
            l_zero_capac_end_num(i) := col_in(i).zero_capac_end_num;
            l_zero_capac_end_unit(i) := col_in(i).zero_capac_end_unit;
            l_other_percentage_num(i) := col_in(i).other_percentage_num;
            l_dt_other_capac_start(i) := col_in(i).dt_other_capac_start;
            l_flg_other_capac(i) := col_in(i).flg_other_capac;
            l_dt_other_capac_end(i) := col_in(i).dt_other_capac_end;
            l_other_capac_end_num(i) := col_in(i).other_capac_end_num;
            l_other_capac_end_unit(i) := col_in(i).other_capac_end_unit;
            l_flg_reason(i) := col_in(i).flg_reason;
            l_notes_desc(i) := col_in(i).notes_desc;
            l_dt_treatment_end(i) := col_in(i).dt_treatment_end;
            l_dt_internment_pat_begin(i) := col_in(i).dt_internment_pat_begin;
            l_dt_internment_pat_end(i) := col_in(i).dt_internment_pat_end;
            l_dt_certificate_renew(i) := col_in(i).dt_certificate_renew;
            l_id_epis_documentation(i) := col_in(i).id_epis_documentation;
        END LOOP;
        IF nvl(ignore_if_null_in, FALSE)
        THEN
            -- Set any columns to their current values
            -- if incoming value is NULL.
            -- Put WHEN clause on column-level triggers!
            FORALL i IN col_in.first .. col_in.last
                UPDATE pat_cit
                   SET id_patient                = nvl(l_id_patient(i), id_patient),
                       id_episode                = nvl(l_id_episode(i), id_episode),
                       flg_pat_disease_state     = nvl(l_flg_pat_disease_state(i), flg_pat_disease_state),
                       flg_prof_health_subsys    = nvl(l_flg_prof_health_subsys(i), flg_prof_health_subsys),
                       ill_parent_name           = nvl(l_ill_parent_name(i), ill_parent_name),
                       flg_ill_affinity          = nvl(l_flg_ill_affinity(i), flg_ill_affinity),
                       ill_id_card               = nvl(l_ill_id_card(i), ill_id_card),
                       flg_benef_health_subsys   = nvl(l_flg_benef_health_subsys(i), flg_benef_health_subsys),
                       flg_cit_classification_ss = nvl(l_flg_cit_classification_ss(i), flg_cit_classification_ss),
                       flg_cit_classification_fp = nvl(l_flg_cit_classification_fp(i), flg_cit_classification_fp),
                       flg_internment            = nvl(l_flg_internment(i), flg_internment),
                       flg_incapacity_period     = nvl(l_flg_incapacity_period(i), flg_incapacity_period),
                       dt_start_period_tstz      = nvl(l_dt_start_period_tstz(i), dt_start_period_tstz),
                       dt_end_period_tstz        = nvl(l_dt_end_period_tstz(i), dt_end_period_tstz),
                       flg_home_absence          = nvl(l_flg_home_absence(i), flg_home_absence),
                       home_authorization        = nvl(l_home_authorization(i), home_authorization),
                       flg_status                = nvl(l_flg_status(i), flg_status),
                       flg_type                  = nvl(l_flg_type(i), flg_type),
                       id_prof_writes            = nvl(l_id_prof_writes(i), id_prof_writes),
                       id_prof_cancel            = nvl(l_id_prof_cancel(i), id_prof_cancel),
                       dt_writes_tstz            = nvl(l_dt_writes_tstz(i), dt_writes_tstz),
                       dt_cancel_tstz            = nvl(l_dt_cancel_tstz(i), dt_cancel_tstz),
                       id_cancel_reason          = nvl(l_id_cancel_reason(i), id_cancel_reason),
                       cancel_notes              = nvl(l_cancel_notes(i), cancel_notes),
                       create_user               = nvl(l_create_user(i), create_user),
                       create_time               = nvl(l_create_time(i), create_time),
                       create_institution        = nvl(l_create_institution(i), create_institution),
                       update_user               = nvl(l_update_user(i), update_user),
                       update_time               = nvl(l_update_time(i), update_time),
                       update_institution        = nvl(l_update_institution(i), update_institution),
                       accident_cause            = nvl(l_accident_cause(i), accident_cause),
                       flg_cit_type              = nvl(l_flg_cit_type(i), flg_cit_type),
                       flg_prognosis_type        = nvl(l_flg_prognosis_type(i), flg_prognosis_type),
                       flg_permanent_disability  = nvl(l_flg_permanent_disability(i), flg_permanent_disability),
                       flg_life_danger           = nvl(l_flg_life_danger(i), flg_life_danger),
                       dt_event_tstz             = nvl(l_dt_event_tstz(i), dt_event_tstz),
                       dt_stop_work_tstz         = nvl(l_dt_stop_work_tstz(i), dt_stop_work_tstz),
                       flg_accident_type         = nvl(l_flg_accident_type(i), flg_accident_type),
                       id_county_accident        = nvl(l_id_county_accident(i), id_county_accident),
                       beneficiary_number        = nvl(l_beneficiary_number(i), beneficiary_number),
                       landline_prefix           = nvl(l_landline_prefix(i), landline_prefix),
                       landline_number           = nvl(l_landline_number(i), landline_number),
                       mobile_prefix             = nvl(l_mobile_prefix(i), mobile_prefix),
                       mobile_number             = nvl(l_mobile_number(i), mobile_number),
                       flg_zero_capac_end        = nvl(l_flg_zero_capac_end(i), flg_zero_capac_end),
                       dt_zero_capac_end         = nvl(l_dt_zero_capac_end(i), dt_zero_capac_end),
                       zero_capac_end_num        = nvl(l_zero_capac_end_num(i), zero_capac_end_num),
                       zero_capac_end_unit       = nvl(l_zero_capac_end_unit(i), zero_capac_end_unit),
                       other_percentage_num      = nvl(l_other_percentage_num(i), other_percentage_num),
                       dt_other_capac_start      = nvl(l_dt_other_capac_start(i), dt_other_capac_start),
                       flg_other_capac           = nvl(l_flg_other_capac(i), flg_other_capac),
                       dt_other_capac_end        = nvl(l_dt_other_capac_end(i), dt_other_capac_end),
                       other_capac_end_num       = nvl(l_other_capac_end_num(i), other_capac_end_num),
                       other_capac_end_unit      = nvl(l_other_capac_end_unit(i), other_capac_end_unit),
                       flg_reason                = nvl(l_flg_reason(i), flg_reason),
                       notes_desc                = nvl(l_notes_desc(i), notes_desc),
                       dt_treatment_end          = nvl(l_dt_treatment_end(i), dt_treatment_end),
                       dt_internment_pat_begin   = nvl(l_dt_internment_pat_begin(i), dt_internment_pat_begin),
                       dt_internment_pat_end     = nvl(l_dt_internment_pat_end(i), dt_internment_pat_end),
                       dt_certificate_renew      = nvl(l_dt_certificate_renew(i), dt_certificate_renew),
                       id_epis_documentation     = nvl(l_id_epis_documentation(i), id_epis_documentation)
                 WHERE id_pat_cit = l_id_pat_cit(i)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        ELSE
            FORALL i IN col_in.first .. col_in.last
                UPDATE pat_cit
                   SET id_patient                = l_id_patient(i),
                       id_episode                = l_id_episode(i),
                       flg_pat_disease_state     = l_flg_pat_disease_state(i),
                       flg_prof_health_subsys    = l_flg_prof_health_subsys(i),
                       ill_parent_name           = l_ill_parent_name(i),
                       flg_ill_affinity          = l_flg_ill_affinity(i),
                       ill_id_card               = l_ill_id_card(i),
                       flg_benef_health_subsys   = l_flg_benef_health_subsys(i),
                       flg_cit_classification_ss = l_flg_cit_classification_ss(i),
                       flg_cit_classification_fp = l_flg_cit_classification_fp(i),
                       flg_internment            = l_flg_internment(i),
                       flg_incapacity_period     = l_flg_incapacity_period(i),
                       dt_start_period_tstz      = l_dt_start_period_tstz(i),
                       dt_end_period_tstz        = l_dt_end_period_tstz(i),
                       flg_home_absence          = l_flg_home_absence(i),
                       home_authorization        = l_home_authorization(i),
                       flg_status                = l_flg_status(i),
                       flg_type                  = l_flg_type(i),
                       id_prof_writes            = l_id_prof_writes(i),
                       id_prof_cancel            = l_id_prof_cancel(i),
                       dt_writes_tstz            = l_dt_writes_tstz(i),
                       dt_cancel_tstz            = l_dt_cancel_tstz(i),
                       id_cancel_reason          = l_id_cancel_reason(i),
                       cancel_notes              = l_cancel_notes(i),
                       create_user               = l_create_user(i),
                       create_time               = l_create_time(i),
                       create_institution        = l_create_institution(i),
                       update_user               = l_update_user(i),
                       update_time               = l_update_time(i),
                       update_institution        = l_update_institution(i),
                       accident_cause            = l_accident_cause(i),
                       flg_cit_type              = l_flg_cit_type(i),
                       flg_prognosis_type        = l_flg_prognosis_type(i),
                       flg_permanent_disability  = l_flg_permanent_disability(i),
                       flg_life_danger           = l_flg_life_danger(i),
                       dt_event_tstz             = l_dt_event_tstz(i),
                       dt_stop_work_tstz         = l_dt_stop_work_tstz(i),
                       flg_accident_type         = l_flg_accident_type(i),
                       id_county_accident        = l_id_county_accident(i),
                       beneficiary_number        = l_beneficiary_number(i),
                       landline_prefix           = l_landline_prefix(i),
                       landline_number           = l_landline_number(i),
                       mobile_prefix             = l_mobile_prefix(i),
                       mobile_number             = l_mobile_number(i),
                       flg_zero_capac_end        = l_flg_zero_capac_end(i),
                       dt_zero_capac_end         = l_dt_zero_capac_end(i),
                       zero_capac_end_num        = l_zero_capac_end_num(i),
                       zero_capac_end_unit       = l_zero_capac_end_unit(i),
                       other_percentage_num      = l_other_percentage_num(i),
                       dt_other_capac_start      = l_dt_other_capac_start(i),
                       flg_other_capac           = l_flg_other_capac(i),
                       dt_other_capac_end        = l_dt_other_capac_end(i),
                       other_capac_end_num       = l_other_capac_end_num(i),
                       other_capac_end_unit      = l_other_capac_end_unit(i),
                       flg_reason                = l_flg_reason(i),
                       notes_desc                = l_notes_desc(i),
                       dt_treatment_end          = l_dt_treatment_end(i),
                       dt_internment_pat_begin   = l_dt_internment_pat_begin(i),
                       dt_internment_pat_end     = l_dt_internment_pat_end(i),
                       dt_certificate_renew      = l_dt_certificate_renew(i),
                       id_epis_documentation     = l_id_epis_documentation(i)
                 WHERE id_pat_cit = l_id_pat_cit(i)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        END IF;
    
    EXCEPTION
        WHEN e_forall_error THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                FOR indx IN 1 .. SQL%bulk_exceptions.count
                LOOP
                    pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
                END LOOP;
            END IF;
        WHEN OTHERS THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    --Update with collection (without rows_out)
    PROCEDURE upd
    (
        col_in            IN pat_cit_tc,
        ignore_if_null_in IN BOOLEAN := TRUE,
        handle_error_in   IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(col_in, ignore_if_null_in, handle_error_in, rows_out);
    END upd;

    --Dynamic update string
    FUNCTION dynupdstr
    (
        colname_in IN all_tab_columns.column_name%TYPE,
        where_in   IN VARCHAR2 := NULL
    ) RETURN VARCHAR2 IS
    BEGIN
        RETURN 'BEGIN UPDATE pat_cit
SET ' || colname_in || ' = :value
 WHERE ' || nvl(where_in, '1=1') || ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;';
    END dynupdstr;

    -- Use Native Dynamic SQL increment a single NUMBER column
    -- for all rows specified by the dynamic WHERE clause (with rows_out)
    PROCEDURE increment_onecol
    (
        colname_in         IN all_tab_columns.column_name%TYPE,
        where_in           IN VARCHAR2,
        increment_value_in IN NUMBER DEFAULT 1,
        handle_error_in    IN BOOLEAN := TRUE,
        rows_out           OUT table_varchar
    ) IS
    BEGIN
        EXECUTE IMMEDIATE 'BEGIN UPDATE pat_cit
SET ' || colname_in || '=' || colname_in || '+' || nvl(increment_value_in, 1) || ' WHERE ' ||
                          nvl(where_in, '1=1') || ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;'
            USING OUT rows_out;
    END increment_onecol;

    -- Use Native Dynamic SQL increment a single NUMBER column
    -- for all rows specified by the dynamic WHERE clause (without rows_out)
    PROCEDURE increment_onecol
    (
        colname_in         IN all_tab_columns.column_name%TYPE,
        where_in           IN VARCHAR2,
        increment_value_in IN NUMBER DEFAULT 1,
        handle_error_in    IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        EXECUTE IMMEDIATE 'UPDATE pat_cit
SET ' || colname_in || '=' || colname_in || '+' || nvl(increment_value_in, 1) || ' WHERE ' ||
                          nvl(where_in, '1=1');
    END increment_onecol;

    -- Delete one row by primary key
    PROCEDURE del
    (
        id_pat_cit_in   IN pat_cit.id_pat_cit%TYPE,
        handle_error_in IN BOOLEAN := TRUE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pat_cit
         WHERE id_pat_cit = id_pat_cit_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del;

    -- Delete one row by primary key
    PROCEDURE del
    (
        id_pat_cit_in   IN pat_cit.id_pat_cit%TYPE,
        handle_error_in IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        del(id_pat_cit_in => id_pat_cit_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del;

    -- Delete all rows for this OTHER_CAPAC_END_UNIT_FK foreign key value
    PROCEDURE del_other_capac_end_unit_fk
    (
        other_capac_end_unit_in IN pat_cit.other_capac_end_unit%TYPE,
        handle_error_in         IN BOOLEAN := TRUE,
        rows_out                OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pat_cit
         WHERE other_capac_end_unit = other_capac_end_unit_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_other_capac_end_unit_fk;

    -- Delete all rows for this PCIT_COUNTY_FK foreign key value
    PROCEDURE del_pcit_county_fk
    (
        id_county_accident_in IN pat_cit.id_county_accident%TYPE,
        handle_error_in       IN BOOLEAN := TRUE,
        rows_out              OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pat_cit
         WHERE id_county_accident = id_county_accident_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pcit_county_fk;

    -- Delete all rows for this PCIT_CRE_FK foreign key value
    PROCEDURE del_pcit_cre_fk
    (
        id_cancel_reason_in IN pat_cit.id_cancel_reason%TYPE,
        handle_error_in     IN BOOLEAN := TRUE,
        rows_out            OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pat_cit
         WHERE id_cancel_reason = id_cancel_reason_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pcit_cre_fk;

    -- Delete all rows for this PCIT_PAT_FK foreign key value
    PROCEDURE del_pcit_pat_fk
    (
        id_patient_in   IN pat_cit.id_patient%TYPE,
        handle_error_in IN BOOLEAN := TRUE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pat_cit
         WHERE id_patient = id_patient_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pcit_pat_fk;

    -- Delete all rows for this PC_ID_EPISODE_FK foreign key value
    PROCEDURE del_pc_id_episode_fk
    (
        id_episode_in   IN pat_cit.id_episode%TYPE,
        handle_error_in IN BOOLEAN := TRUE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pat_cit
         WHERE id_episode = id_episode_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pc_id_episode_fk;

    -- Delete all rows for this PC_ID_PROF_CANCEL_FK foreign key value
    PROCEDURE del_pc_id_prof_cancel_fk
    (
        id_prof_cancel_in IN pat_cit.id_prof_cancel%TYPE,
        handle_error_in   IN BOOLEAN := TRUE,
        rows_out          OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pat_cit
         WHERE id_prof_cancel = id_prof_cancel_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pc_id_prof_cancel_fk;

    -- Delete all rows for this PC_ID_PROF_WRITES_FK foreign key value
    PROCEDURE del_pc_id_prof_writes_fk
    (
        id_prof_writes_in IN pat_cit.id_prof_writes%TYPE,
        handle_error_in   IN BOOLEAN := TRUE,
        rows_out          OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pat_cit
         WHERE id_prof_writes = id_prof_writes_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pc_id_prof_writes_fk;

    -- Delete all rows for this ZERO_CAPAC_END_UNIT_FK foreign key value
    PROCEDURE del_zero_capac_end_unit_fk
    (
        zero_capac_end_unit_in IN pat_cit.zero_capac_end_unit%TYPE,
        handle_error_in        IN BOOLEAN := TRUE,
        rows_out               OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pat_cit
         WHERE zero_capac_end_unit = zero_capac_end_unit_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_zero_capac_end_unit_fk;

    -- Delete all rows for this OTHER_CAPAC_END_UNIT_FK foreign key value
    PROCEDURE del_other_capac_end_unit_fk
    (
        other_capac_end_unit_in IN pat_cit.other_capac_end_unit%TYPE,
        handle_error_in         IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_other_capac_end_unit_fk(other_capac_end_unit_in => other_capac_end_unit_in,
                                    handle_error_in         => handle_error_in,
                                    rows_out                => rows_out);
    END del_other_capac_end_unit_fk;

    -- Delete all rows for this PCIT_COUNTY_FK foreign key value
    PROCEDURE del_pcit_county_fk
    (
        id_county_accident_in IN pat_cit.id_county_accident%TYPE,
        handle_error_in       IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pcit_county_fk(id_county_accident_in => id_county_accident_in,
                           handle_error_in       => handle_error_in,
                           rows_out              => rows_out);
    END del_pcit_county_fk;

    -- Delete all rows for this PCIT_CRE_FK foreign key value
    PROCEDURE del_pcit_cre_fk
    (
        id_cancel_reason_in IN pat_cit.id_cancel_reason%TYPE,
        handle_error_in     IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pcit_cre_fk(id_cancel_reason_in => id_cancel_reason_in,
                        handle_error_in     => handle_error_in,
                        rows_out            => rows_out);
    END del_pcit_cre_fk;

    -- Delete all rows for this PCIT_PAT_FK foreign key value
    PROCEDURE del_pcit_pat_fk
    (
        id_patient_in   IN pat_cit.id_patient%TYPE,
        handle_error_in IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pcit_pat_fk(id_patient_in => id_patient_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_pcit_pat_fk;

    -- Delete all rows for this PC_ID_EPISODE_FK foreign key value
    PROCEDURE del_pc_id_episode_fk
    (
        id_episode_in   IN pat_cit.id_episode%TYPE,
        handle_error_in IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pc_id_episode_fk(id_episode_in => id_episode_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_pc_id_episode_fk;

    -- Delete all rows for this PC_ID_PROF_CANCEL_FK foreign key value
    PROCEDURE del_pc_id_prof_cancel_fk
    (
        id_prof_cancel_in IN pat_cit.id_prof_cancel%TYPE,
        handle_error_in   IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pc_id_prof_cancel_fk(id_prof_cancel_in => id_prof_cancel_in,
                                 handle_error_in   => handle_error_in,
                                 rows_out          => rows_out);
    END del_pc_id_prof_cancel_fk;

    -- Delete all rows for this PC_ID_PROF_WRITES_FK foreign key value
    PROCEDURE del_pc_id_prof_writes_fk
    (
        id_prof_writes_in IN pat_cit.id_prof_writes%TYPE,
        handle_error_in   IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pc_id_prof_writes_fk(id_prof_writes_in => id_prof_writes_in,
                                 handle_error_in   => handle_error_in,
                                 rows_out          => rows_out);
    END del_pc_id_prof_writes_fk;

    -- Delete all rows for this ZERO_CAPAC_END_UNIT_FK foreign key value
    PROCEDURE del_zero_capac_end_unit_fk
    (
        zero_capac_end_unit_in IN pat_cit.zero_capac_end_unit%TYPE,
        handle_error_in        IN BOOLEAN := TRUE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_zero_capac_end_unit_fk(zero_capac_end_unit_in => zero_capac_end_unit_in,
                                   handle_error_in        => handle_error_in,
                                   rows_out               => rows_out);
    END del_zero_capac_end_unit_fk;

    -- Deletions using dynamic SQL
    FUNCTION dyndelstr(where_in IN VARCHAR2) RETURN VARCHAR2 IS
    BEGIN
        IF where_in IS NULL
        THEN
            RETURN 'DELETE FROM pat_cit';
        ELSE
            RETURN 'DELETE FROM pat_cit WHERE ' || where_in;
        END IF;
    END dyndelstr;
    -- Delete all rows specified by dynamic WHERE clause
    PROCEDURE del_by
    (
        where_clause_in IN VARCHAR2,
        handle_error_in IN BOOLEAN := TRUE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        EXECUTE IMMEDIATE 'BEGIN ' || dyndelstr(where_clause_in) ||
                          ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;'
            USING OUT rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_by;

    -- Delete all rows specified by dynamic WHERE clause
    PROCEDURE del_by
    (
        where_clause_in IN VARCHAR2,
        handle_error_in IN BOOLEAN := TRUE
    ) IS
    BEGIN
        EXECUTE IMMEDIATE dyndelstr(where_clause_in);
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_info('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_by;

    -- Initialize a record with default values for columns in the table (prc)
    PROCEDURE initrec(pat_cit_inout IN OUT pat_cit%ROWTYPE) IS
    BEGIN
        pat_cit_inout.id_pat_cit                := NULL;
        pat_cit_inout.id_patient                := NULL;
        pat_cit_inout.id_episode                := NULL;
        pat_cit_inout.flg_pat_disease_state     := NULL;
        pat_cit_inout.flg_prof_health_subsys    := NULL;
        pat_cit_inout.ill_parent_name           := NULL;
        pat_cit_inout.flg_ill_affinity          := NULL;
        pat_cit_inout.ill_id_card               := NULL;
        pat_cit_inout.flg_benef_health_subsys   := NULL;
        pat_cit_inout.flg_cit_classification_ss := NULL;
        pat_cit_inout.flg_cit_classification_fp := NULL;
        pat_cit_inout.flg_internment            := NULL;
        pat_cit_inout.flg_incapacity_period     := NULL;
        pat_cit_inout.dt_start_period_tstz      := NULL;
        pat_cit_inout.dt_end_period_tstz        := NULL;
        pat_cit_inout.flg_home_absence          := NULL;
        pat_cit_inout.home_authorization        := NULL;
        pat_cit_inout.flg_status                := NULL;
        pat_cit_inout.flg_type                  := NULL;
        pat_cit_inout.id_prof_writes            := NULL;
        pat_cit_inout.id_prof_cancel            := NULL;
        pat_cit_inout.dt_writes_tstz            := NULL;
        pat_cit_inout.dt_cancel_tstz            := NULL;
        pat_cit_inout.id_cancel_reason          := NULL;
        pat_cit_inout.cancel_notes              := NULL;
        pat_cit_inout.create_user               := NULL;
        pat_cit_inout.create_time               := NULL;
        pat_cit_inout.create_institution        := NULL;
        pat_cit_inout.update_user               := NULL;
        pat_cit_inout.update_time               := NULL;
        pat_cit_inout.update_institution        := NULL;
        pat_cit_inout.accident_cause            := NULL;
        pat_cit_inout.flg_cit_type              := NULL;
        pat_cit_inout.flg_prognosis_type        := NULL;
        pat_cit_inout.flg_permanent_disability  := NULL;
        pat_cit_inout.flg_life_danger           := NULL;
        pat_cit_inout.dt_event_tstz             := NULL;
        pat_cit_inout.dt_stop_work_tstz         := NULL;
        pat_cit_inout.flg_accident_type         := NULL;
        pat_cit_inout.id_county_accident        := NULL;
        pat_cit_inout.beneficiary_number        := NULL;
        pat_cit_inout.landline_prefix           := NULL;
        pat_cit_inout.landline_number           := NULL;
        pat_cit_inout.mobile_prefix             := NULL;
        pat_cit_inout.mobile_number             := NULL;
        pat_cit_inout.flg_zero_capac_end        := NULL;
        pat_cit_inout.dt_zero_capac_end         := NULL;
        pat_cit_inout.zero_capac_end_num        := NULL;
        pat_cit_inout.zero_capac_end_unit       := NULL;
        pat_cit_inout.other_percentage_num      := NULL;
        pat_cit_inout.dt_other_capac_start      := NULL;
        pat_cit_inout.flg_other_capac           := NULL;
        pat_cit_inout.dt_other_capac_end        := NULL;
        pat_cit_inout.other_capac_end_num       := NULL;
        pat_cit_inout.other_capac_end_unit      := NULL;
        pat_cit_inout.flg_reason                := NULL;
        pat_cit_inout.notes_desc                := NULL;
        pat_cit_inout.dt_treatment_end          := NULL;
        pat_cit_inout.dt_internment_pat_begin   := NULL;
        pat_cit_inout.dt_internment_pat_end     := NULL;
        pat_cit_inout.dt_certificate_renew      := NULL;
        pat_cit_inout.id_epis_documentation     := NULL;
    END initrec;

    -- Initialize a record with default values for columns in the table (fnc)
    FUNCTION initrec RETURN pat_cit%ROWTYPE IS
        l_pat_cit pat_cit%ROWTYPE;
    BEGIN
        RETURN l_pat_cit;
    END initrec;

    --get data from rowid
    FUNCTION get_data_rowid(rows_in IN table_varchar) RETURN pat_cit_tc IS
        data pat_cit_tc;
    BEGIN
        SELECT *
          BULK COLLECT
          INTO data
          FROM pat_cit
         WHERE ROWID IN (SELECT /*+opt_estimate(table,t,scale_rows=0.0000001))*/
                          *
                           FROM TABLE(rows_in) t);
        RETURN data;
    END get_data_rowid;

    --get data from rowid (pragma autonomous transacion)
    FUNCTION get_data_rowid_pat(rows_in IN table_varchar) RETURN pat_cit_tc IS
        data pat_cit_tc;
        PRAGMA AUTONOMOUS_TRANSACTION;
    BEGIN
        data := get_data_rowid(rows_in);
        COMMIT;
        RETURN data;
    
    EXCEPTION
        WHEN OTHERS THEN
            pk_alert_exceptions.raise_error(error_name_in => 'get_data_rowid_pat');
            ROLLBACK;
        
    END get_data_rowid_pat;

BEGIN
    NULL;
END ts_pat_cit;
/
