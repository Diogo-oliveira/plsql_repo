/*-- Last Change Revision: $Rev: 2052339 $*/
/*-- Last Change by: $Author: elisabete.bugalho $*/
/*-- Date of last change: $Date: 2022-12-06 16:08:22 +0000 (ter, 06 dez 2022) $*/
CREATE OR REPLACE PACKAGE BODY ts_pn_dblock_mkt
/*
| Generated by or retrieved - DO NOT MODIFY!
| Created On: 2022-12-05 15:38:23
| Created By: ALERT
*/
 IS

    e_null_column_value EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_null_column_value, -1400);

    e_existing_fky_reference EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_existing_fky_reference, -2266);

    e_check_constraint_failure EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_check_constraint_failure, -2290);

    e_no_parent_key EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_no_parent_key, -2291);

    e_child_record_found EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_child_record_found, -2292);

    e_forall_error EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_forall_error, -24381);

    -- Defined for backward compatibilty.
    e_integ_constraint_failure EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_integ_constraint_failure, -2291);

    PROCEDURE ins
    (
        id_market_in                IN pn_dblock_mkt.id_market%TYPE,
        id_pn_note_type_in          IN pn_dblock_mkt.id_pn_note_type%TYPE,
        id_pn_data_block_in         IN pn_dblock_mkt.id_pn_data_block%TYPE,
        id_software_in              IN pn_dblock_mkt.id_software%TYPE,
        id_pn_soap_block_in         IN pn_dblock_mkt.id_pn_soap_block%TYPE,
        flg_import_in               IN pn_dblock_mkt.flg_import%TYPE DEFAULT NULL,
        flg_select_in               IN pn_dblock_mkt.flg_select%TYPE DEFAULT NULL,
        flg_scope_in                IN pn_dblock_mkt.flg_scope%TYPE DEFAULT 'E',
        rank_in                     IN pn_dblock_mkt.rank%TYPE DEFAULT NULL,
        create_user_in              IN pn_dblock_mkt.create_user%TYPE DEFAULT NULL,
        create_time_in              IN pn_dblock_mkt.create_time%TYPE DEFAULT NULL,
        create_institution_in       IN pn_dblock_mkt.create_institution%TYPE DEFAULT NULL,
        update_user_in              IN pn_dblock_mkt.update_user%TYPE DEFAULT NULL,
        update_time_in              IN pn_dblock_mkt.update_time%TYPE DEFAULT NULL,
        update_institution_in       IN pn_dblock_mkt.update_institution%TYPE DEFAULT NULL,
        flg_actions_available_in    IN pn_dblock_mkt.flg_actions_available%TYPE DEFAULT 'N',
        flg_line_on_boxes_in        IN pn_dblock_mkt.flg_line_on_boxes%TYPE DEFAULT 'Y',
        gender_in                   IN pn_dblock_mkt.gender%TYPE DEFAULT NULL,
        age_min_in                  IN pn_dblock_mkt.age_min%TYPE DEFAULT NULL,
        age_max_in                  IN pn_dblock_mkt.age_max%TYPE DEFAULT NULL,
        flg_pregnant_in             IN pn_dblock_mkt.flg_pregnant%TYPE DEFAULT 'Y',
        flg_outside_period_in       IN pn_dblock_mkt.flg_outside_period%TYPE DEFAULT 'N',
        days_available_period_in    IN pn_dblock_mkt.days_available_period%TYPE DEFAULT NULL,
        flg_mandatory_in            IN pn_dblock_mkt.flg_mandatory%TYPE DEFAULT 'N',
        flg_cp_no_changes_import_in IN pn_dblock_mkt.flg_cp_no_changes_import%TYPE DEFAULT 'N',
        flg_import_date_in          IN pn_dblock_mkt.flg_import_date%TYPE DEFAULT 'N',
        flg_group_on_import_in      IN pn_dblock_mkt.flg_group_on_import%TYPE DEFAULT 'N',
        id_pndb_parent_in           IN pn_dblock_mkt.id_pndb_parent%TYPE DEFAULT NULL,
        flg_struct_type_in          IN pn_dblock_mkt.flg_struct_type%TYPE DEFAULT 'B',
        flg_show_title_in           IN pn_dblock_mkt.flg_show_title%TYPE DEFAULT 'Y',
        flg_show_sub_title_in       IN pn_dblock_mkt.flg_show_sub_title%TYPE DEFAULT 'N',
        flg_data_removable_in       IN pn_dblock_mkt.flg_data_removable%TYPE DEFAULT 'IP',
        auto_pop_exec_prof_cat_in   IN pn_dblock_mkt.auto_pop_exec_prof_cat%TYPE DEFAULT NULL,
        flg_focus_in                IN pn_dblock_mkt.flg_focus%TYPE DEFAULT 'N',
        flg_editable_in             IN pn_dblock_mkt.flg_editable%TYPE DEFAULT 'Y',
        flg_group_select_filter_in  IN pn_dblock_mkt.flg_group_select_filter%TYPE DEFAULT 'N',
        id_task_type_in             IN pn_dblock_mkt.id_task_type%TYPE DEFAULT NULL,
        flg_order_type_in           IN pn_dblock_mkt.flg_order_type%TYPE DEFAULT 'D',
        flg_signature_in            IN pn_dblock_mkt.flg_signature%TYPE DEFAULT 'Y',
        flg_min_value_in            IN pn_dblock_mkt.flg_min_value%TYPE DEFAULT NULL,
        flg_default_value_in        IN pn_dblock_mkt.flg_default_value%TYPE DEFAULT NULL,
        flg_max_value_in            IN pn_dblock_mkt.flg_max_value%TYPE DEFAULT NULL,
        flg_format_in               IN pn_dblock_mkt.flg_format%TYPE DEFAULT NULL,
        flg_validation_in           IN pn_dblock_mkt.flg_validation%TYPE DEFAULT NULL,
        id_pndb_related_in          IN pn_dblock_mkt.id_pndb_related%TYPE DEFAULT NULL,
        id_swf_file_viewer_in       IN pn_dblock_mkt.id_swf_file_viewer%TYPE DEFAULT NULL,
        value_viewer_in             IN pn_dblock_mkt.value_viewer%TYPE DEFAULT NULL,
        min_days_period_in          IN pn_dblock_mkt.min_days_period%TYPE DEFAULT NULL,
        max_days_period_in          IN pn_dblock_mkt.max_days_period%TYPE DEFAULT NULL,
        default_days_period_in      IN pn_dblock_mkt.default_days_period%TYPE DEFAULT NULL,
        flg_exc_sum_page_da_in      IN pn_dblock_mkt.flg_exc_sum_page_da%TYPE DEFAULT NULL,
        flg_group_type_in           IN pn_dblock_mkt.flg_group_type%TYPE DEFAULT NULL,
        desc_function_in            IN pn_dblock_mkt.desc_function%TYPE DEFAULT NULL,
        handle_error_in             IN BOOLEAN := FALSE,
        rows_out                    OUT table_varchar
    ) IS
    BEGIN
        INSERT INTO pn_dblock_mkt
            (id_market,
             id_pn_note_type,
             id_pn_data_block,
             id_software,
             id_pn_soap_block,
             flg_import,
             flg_select,
             flg_scope,
             rank,
             create_user,
             create_time,
             create_institution,
             update_user,
             update_time,
             update_institution,
             flg_actions_available,
             flg_line_on_boxes,
             gender,
             age_min,
             age_max,
             flg_pregnant,
             flg_outside_period,
             days_available_period,
             flg_mandatory,
             flg_cp_no_changes_import,
             flg_import_date,
             flg_group_on_import,
             id_pndb_parent,
             flg_struct_type,
             flg_show_title,
             flg_show_sub_title,
             flg_data_removable,
             auto_pop_exec_prof_cat,
             flg_focus,
             flg_editable,
             flg_group_select_filter,
             id_task_type,
             flg_order_type,
             flg_signature,
             flg_min_value,
             flg_default_value,
             flg_max_value,
             flg_format,
             flg_validation,
             id_pndb_related,
             id_swf_file_viewer,
             value_viewer,
             min_days_period,
             max_days_period,
             default_days_period,
             flg_exc_sum_page_da,
             flg_group_type,
             desc_function)
        VALUES
            (id_market_in,
             id_pn_note_type_in,
             id_pn_data_block_in,
             id_software_in,
             id_pn_soap_block_in,
             flg_import_in,
             flg_select_in,
             flg_scope_in,
             rank_in,
             create_user_in,
             create_time_in,
             create_institution_in,
             update_user_in,
             update_time_in,
             update_institution_in,
             flg_actions_available_in,
             flg_line_on_boxes_in,
             gender_in,
             age_min_in,
             age_max_in,
             flg_pregnant_in,
             flg_outside_period_in,
             days_available_period_in,
             flg_mandatory_in,
             flg_cp_no_changes_import_in,
             flg_import_date_in,
             flg_group_on_import_in,
             id_pndb_parent_in,
             flg_struct_type_in,
             flg_show_title_in,
             flg_show_sub_title_in,
             flg_data_removable_in,
             auto_pop_exec_prof_cat_in,
             flg_focus_in,
             flg_editable_in,
             flg_group_select_filter_in,
             id_task_type_in,
             flg_order_type_in,
             flg_signature_in,
             flg_min_value_in,
             flg_default_value_in,
             flg_max_value_in,
             flg_format_in,
             flg_validation_in,
             id_pndb_related_in,
             id_swf_file_viewer_in,
             value_viewer_in,
             min_days_period_in,
             max_days_period_in,
             default_days_period_in,
             flg_exc_sum_page_da_in,
             flg_group_type_in,
             desc_function_in)
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END ins;

    PROCEDURE ins
    (
        id_market_in                IN pn_dblock_mkt.id_market%TYPE,
        id_pn_note_type_in          IN pn_dblock_mkt.id_pn_note_type%TYPE,
        id_pn_data_block_in         IN pn_dblock_mkt.id_pn_data_block%TYPE,
        id_software_in              IN pn_dblock_mkt.id_software%TYPE,
        id_pn_soap_block_in         IN pn_dblock_mkt.id_pn_soap_block%TYPE,
        flg_import_in               IN pn_dblock_mkt.flg_import%TYPE DEFAULT NULL,
        flg_select_in               IN pn_dblock_mkt.flg_select%TYPE DEFAULT NULL,
        flg_scope_in                IN pn_dblock_mkt.flg_scope%TYPE DEFAULT 'E',
        rank_in                     IN pn_dblock_mkt.rank%TYPE DEFAULT NULL,
        create_user_in              IN pn_dblock_mkt.create_user%TYPE DEFAULT NULL,
        create_time_in              IN pn_dblock_mkt.create_time%TYPE DEFAULT NULL,
        create_institution_in       IN pn_dblock_mkt.create_institution%TYPE DEFAULT NULL,
        update_user_in              IN pn_dblock_mkt.update_user%TYPE DEFAULT NULL,
        update_time_in              IN pn_dblock_mkt.update_time%TYPE DEFAULT NULL,
        update_institution_in       IN pn_dblock_mkt.update_institution%TYPE DEFAULT NULL,
        flg_actions_available_in    IN pn_dblock_mkt.flg_actions_available%TYPE DEFAULT 'N',
        flg_line_on_boxes_in        IN pn_dblock_mkt.flg_line_on_boxes%TYPE DEFAULT 'Y',
        gender_in                   IN pn_dblock_mkt.gender%TYPE DEFAULT NULL,
        age_min_in                  IN pn_dblock_mkt.age_min%TYPE DEFAULT NULL,
        age_max_in                  IN pn_dblock_mkt.age_max%TYPE DEFAULT NULL,
        flg_pregnant_in             IN pn_dblock_mkt.flg_pregnant%TYPE DEFAULT 'Y',
        flg_outside_period_in       IN pn_dblock_mkt.flg_outside_period%TYPE DEFAULT 'N',
        days_available_period_in    IN pn_dblock_mkt.days_available_period%TYPE DEFAULT NULL,
        flg_mandatory_in            IN pn_dblock_mkt.flg_mandatory%TYPE DEFAULT 'N',
        flg_cp_no_changes_import_in IN pn_dblock_mkt.flg_cp_no_changes_import%TYPE DEFAULT 'N',
        flg_import_date_in          IN pn_dblock_mkt.flg_import_date%TYPE DEFAULT 'N',
        flg_group_on_import_in      IN pn_dblock_mkt.flg_group_on_import%TYPE DEFAULT 'N',
        id_pndb_parent_in           IN pn_dblock_mkt.id_pndb_parent%TYPE DEFAULT NULL,
        flg_struct_type_in          IN pn_dblock_mkt.flg_struct_type%TYPE DEFAULT 'B',
        flg_show_title_in           IN pn_dblock_mkt.flg_show_title%TYPE DEFAULT 'Y',
        flg_show_sub_title_in       IN pn_dblock_mkt.flg_show_sub_title%TYPE DEFAULT 'N',
        flg_data_removable_in       IN pn_dblock_mkt.flg_data_removable%TYPE DEFAULT 'IP',
        auto_pop_exec_prof_cat_in   IN pn_dblock_mkt.auto_pop_exec_prof_cat%TYPE DEFAULT NULL,
        flg_focus_in                IN pn_dblock_mkt.flg_focus%TYPE DEFAULT 'N',
        flg_editable_in             IN pn_dblock_mkt.flg_editable%TYPE DEFAULT 'Y',
        flg_group_select_filter_in  IN pn_dblock_mkt.flg_group_select_filter%TYPE DEFAULT 'N',
        id_task_type_in             IN pn_dblock_mkt.id_task_type%TYPE DEFAULT NULL,
        flg_order_type_in           IN pn_dblock_mkt.flg_order_type%TYPE DEFAULT 'D',
        flg_signature_in            IN pn_dblock_mkt.flg_signature%TYPE DEFAULT 'Y',
        flg_min_value_in            IN pn_dblock_mkt.flg_min_value%TYPE DEFAULT NULL,
        flg_default_value_in        IN pn_dblock_mkt.flg_default_value%TYPE DEFAULT NULL,
        flg_max_value_in            IN pn_dblock_mkt.flg_max_value%TYPE DEFAULT NULL,
        flg_format_in               IN pn_dblock_mkt.flg_format%TYPE DEFAULT NULL,
        flg_validation_in           IN pn_dblock_mkt.flg_validation%TYPE DEFAULT NULL,
        id_pndb_related_in          IN pn_dblock_mkt.id_pndb_related%TYPE DEFAULT NULL,
        id_swf_file_viewer_in       IN pn_dblock_mkt.id_swf_file_viewer%TYPE DEFAULT NULL,
        value_viewer_in             IN pn_dblock_mkt.value_viewer%TYPE DEFAULT NULL,
        min_days_period_in          IN pn_dblock_mkt.min_days_period%TYPE DEFAULT NULL,
        max_days_period_in          IN pn_dblock_mkt.max_days_period%TYPE DEFAULT NULL,
        default_days_period_in      IN pn_dblock_mkt.default_days_period%TYPE DEFAULT NULL,
        flg_exc_sum_page_da_in      IN pn_dblock_mkt.flg_exc_sum_page_da%TYPE DEFAULT NULL,
        flg_group_type_in           IN pn_dblock_mkt.flg_group_type%TYPE DEFAULT NULL,
        desc_function_in            IN pn_dblock_mkt.desc_function%TYPE DEFAULT NULL,
        handle_error_in             IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(id_market_in                => id_market_in,
            id_pn_note_type_in          => id_pn_note_type_in,
            id_pn_data_block_in         => id_pn_data_block_in,
            id_software_in              => id_software_in,
            id_pn_soap_block_in         => id_pn_soap_block_in,
            flg_import_in               => flg_import_in,
            flg_select_in               => flg_select_in,
            flg_scope_in                => flg_scope_in,
            rank_in                     => rank_in,
            create_user_in              => create_user_in,
            create_time_in              => create_time_in,
            create_institution_in       => create_institution_in,
            update_user_in              => update_user_in,
            update_time_in              => update_time_in,
            update_institution_in       => update_institution_in,
            flg_actions_available_in    => flg_actions_available_in,
            flg_line_on_boxes_in        => flg_line_on_boxes_in,
            gender_in                   => gender_in,
            age_min_in                  => age_min_in,
            age_max_in                  => age_max_in,
            flg_pregnant_in             => flg_pregnant_in,
            flg_outside_period_in       => flg_outside_period_in,
            days_available_period_in    => days_available_period_in,
            flg_mandatory_in            => flg_mandatory_in,
            flg_cp_no_changes_import_in => flg_cp_no_changes_import_in,
            flg_import_date_in          => flg_import_date_in,
            flg_group_on_import_in      => flg_group_on_import_in,
            id_pndb_parent_in           => id_pndb_parent_in,
            flg_struct_type_in          => flg_struct_type_in,
            flg_show_title_in           => flg_show_title_in,
            flg_show_sub_title_in       => flg_show_sub_title_in,
            flg_data_removable_in       => flg_data_removable_in,
            auto_pop_exec_prof_cat_in   => auto_pop_exec_prof_cat_in,
            flg_focus_in                => flg_focus_in,
            flg_editable_in             => flg_editable_in,
            flg_group_select_filter_in  => flg_group_select_filter_in,
            id_task_type_in             => id_task_type_in,
            flg_order_type_in           => flg_order_type_in,
            flg_signature_in            => flg_signature_in,
            flg_min_value_in            => flg_min_value_in,
            flg_default_value_in        => flg_default_value_in,
            flg_max_value_in            => flg_max_value_in,
            flg_format_in               => flg_format_in,
            flg_validation_in           => flg_validation_in,
            id_pndb_related_in          => id_pndb_related_in,
            id_swf_file_viewer_in       => id_swf_file_viewer_in,
            value_viewer_in             => value_viewer_in,
            min_days_period_in          => min_days_period_in,
            max_days_period_in          => max_days_period_in,
            default_days_period_in      => default_days_period_in,
            flg_exc_sum_page_da_in      => flg_exc_sum_page_da_in,
            flg_group_type_in           => flg_group_type_in,
            desc_function_in            => desc_function_in,
            handle_error_in             => handle_error_in,
            rows_out                    => rows_out);
    END ins;

    PROCEDURE ins
    (
        rec_in          IN pn_dblock_mkt%ROWTYPE,
        gen_pky_in      IN BOOLEAN DEFAULT FALSE,
        sequence_in     IN VARCHAR2 := NULL,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
        l_rec pn_dblock_mkt%ROWTYPE := rec_in;
    BEGIN
    
        ins(id_market_in                => l_rec.id_market,
            id_pn_note_type_in          => l_rec.id_pn_note_type,
            id_pn_data_block_in         => l_rec.id_pn_data_block,
            id_software_in              => l_rec.id_software,
            id_pn_soap_block_in         => l_rec.id_pn_soap_block,
            flg_import_in               => l_rec.flg_import,
            flg_select_in               => l_rec.flg_select,
            flg_scope_in                => l_rec.flg_scope,
            rank_in                     => l_rec.rank,
            create_user_in              => l_rec.create_user,
            create_time_in              => l_rec.create_time,
            create_institution_in       => l_rec.create_institution,
            update_user_in              => l_rec.update_user,
            update_time_in              => l_rec.update_time,
            update_institution_in       => l_rec.update_institution,
            flg_actions_available_in    => l_rec.flg_actions_available,
            flg_line_on_boxes_in        => l_rec.flg_line_on_boxes,
            gender_in                   => l_rec.gender,
            age_min_in                  => l_rec.age_min,
            age_max_in                  => l_rec.age_max,
            flg_pregnant_in             => l_rec.flg_pregnant,
            flg_outside_period_in       => l_rec.flg_outside_period,
            days_available_period_in    => l_rec.days_available_period,
            flg_mandatory_in            => l_rec.flg_mandatory,
            flg_cp_no_changes_import_in => l_rec.flg_cp_no_changes_import,
            flg_import_date_in          => l_rec.flg_import_date,
            flg_group_on_import_in      => l_rec.flg_group_on_import,
            id_pndb_parent_in           => l_rec.id_pndb_parent,
            flg_struct_type_in          => l_rec.flg_struct_type,
            flg_show_title_in           => l_rec.flg_show_title,
            flg_show_sub_title_in       => l_rec.flg_show_sub_title,
            flg_data_removable_in       => l_rec.flg_data_removable,
            auto_pop_exec_prof_cat_in   => l_rec.auto_pop_exec_prof_cat,
            flg_focus_in                => l_rec.flg_focus,
            flg_editable_in             => l_rec.flg_editable,
            flg_group_select_filter_in  => l_rec.flg_group_select_filter,
            id_task_type_in             => l_rec.id_task_type,
            flg_order_type_in           => l_rec.flg_order_type,
            flg_signature_in            => l_rec.flg_signature,
            flg_min_value_in            => l_rec.flg_min_value,
            flg_default_value_in        => l_rec.flg_default_value,
            flg_max_value_in            => l_rec.flg_max_value,
            flg_format_in               => l_rec.flg_format,
            flg_validation_in           => l_rec.flg_validation,
            id_pndb_related_in          => l_rec.id_pndb_related,
            id_swf_file_viewer_in       => l_rec.id_swf_file_viewer,
            value_viewer_in             => l_rec.value_viewer,
            min_days_period_in          => l_rec.min_days_period,
            max_days_period_in          => l_rec.max_days_period,
            default_days_period_in      => l_rec.default_days_period,
            flg_exc_sum_page_da_in      => l_rec.flg_exc_sum_page_da,
            flg_group_type_in           => l_rec.flg_group_type,
            desc_function_in            => l_rec.desc_function,
            handle_error_in             => handle_error_in,
            rows_out                    => rows_out);
    END ins;

    PROCEDURE ins
    (
        rec_in          IN pn_dblock_mkt%ROWTYPE,
        gen_pky_in      IN BOOLEAN DEFAULT FALSE,
        sequence_in     IN VARCHAR2 := NULL,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(rec_in          => rec_in,
            gen_pky_in      => gen_pky_in,
            sequence_in     => sequence_in,
            handle_error_in => handle_error_in,
            rows_out        => rows_out);
    END ins;

    -- Insert a collection of rows using FORALL; all primary key values
    -- must have already been generated, or are handled in triggers
    PROCEDURE ins
    (
        rows_in         IN pn_dblock_mkt_tc,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        IF rows_in.count = 0
        THEN
            NULL;
        ELSE
            FORALL indx IN rows_in.first .. rows_in.last SAVE EXCEPTIONS
                INSERT INTO pn_dblock_mkt
                    (id_software,
                     id_market,
                     id_pn_soap_block,
                     id_pn_data_block,
                     flg_import,
                     flg_select,
                     flg_scope,
                     rank,
                     flg_actions_available,
                     flg_line_on_boxes,
                     gender,
                     age_min,
                     age_max,
                     flg_pregnant,
                     id_pn_note_type,
                     flg_outside_period,
                     days_available_period,
                     flg_mandatory,
                     flg_cp_no_changes_import,
                     flg_import_date,
                     flg_group_on_import,
                     id_pndb_parent,
                     flg_struct_type,
                     flg_show_title,
                     flg_show_sub_title,
                     flg_data_removable,
                     auto_pop_exec_prof_cat,
                     flg_focus,
                     flg_editable,
                     flg_group_select_filter,
                     id_task_type,
                     flg_order_type,
                     flg_signature,
                     flg_min_value,
                     flg_default_value,
                     flg_max_value,
                     flg_format,
                     flg_validation,
                     id_pndb_related,
                     id_swf_file_viewer,
                     value_viewer,
                     min_days_period,
                     max_days_period,
                     default_days_period,
                     flg_exc_sum_page_da,
                     flg_group_type,
                     desc_function)
                VALUES
                    (rows_in(indx).id_software,
                     rows_in(indx).id_market,
                     rows_in(indx).id_pn_soap_block,
                     rows_in(indx).id_pn_data_block,
                     rows_in(indx).flg_import,
                     rows_in(indx).flg_select,
                     rows_in(indx).flg_scope,
                     rows_in(indx).rank,
                     rows_in(indx).flg_actions_available,
                     rows_in(indx).flg_line_on_boxes,
                     rows_in(indx).gender,
                     rows_in(indx).age_min,
                     rows_in(indx).age_max,
                     rows_in(indx).flg_pregnant,
                     rows_in(indx).id_pn_note_type,
                     rows_in(indx).flg_outside_period,
                     rows_in(indx).days_available_period,
                     rows_in(indx).flg_mandatory,
                     rows_in(indx).flg_cp_no_changes_import,
                     rows_in(indx).flg_import_date,
                     rows_in(indx).flg_group_on_import,
                     rows_in(indx).id_pndb_parent,
                     rows_in(indx).flg_struct_type,
                     rows_in(indx).flg_show_title,
                     rows_in(indx).flg_show_sub_title,
                     rows_in(indx).flg_data_removable,
                     rows_in(indx).auto_pop_exec_prof_cat,
                     rows_in(indx).flg_focus,
                     rows_in(indx).flg_editable,
                     rows_in(indx).flg_group_select_filter,
                     rows_in(indx).id_task_type,
                     rows_in(indx).flg_order_type,
                     rows_in(indx).flg_signature,
                     rows_in(indx).flg_min_value,
                     rows_in(indx).flg_default_value,
                     rows_in(indx).flg_max_value,
                     rows_in(indx).flg_format,
                     rows_in(indx).flg_validation,
                     rows_in(indx).id_pndb_related,
                     rows_in(indx).id_swf_file_viewer,
                     rows_in(indx).value_viewer,
                     rows_in(indx).min_days_period,
                     rows_in(indx).max_days_period,
                     rows_in(indx).default_days_period,
                     rows_in(indx).flg_exc_sum_page_da,
                     rows_in(indx).flg_group_type,
                     rows_in(indx).desc_function)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        END IF;
    
    EXCEPTION
        WHEN e_forall_error THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                FOR indx IN 1 .. SQL%bulk_exceptions.count
                LOOP
                    pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
                END LOOP;
            END IF;
        WHEN OTHERS THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END ins;

    -- Insert a collection of rows using FORALL; all primary key values
    -- must have already been generated, or are handled in triggers
    PROCEDURE ins
    (
        rows_in         IN pn_dblock_mkt_tc,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(rows_in => rows_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END ins;

    -- Update any/all columns by primary key. If you pass NULL, then
    -- the current column value is set to itself. If you need a more
    -- selected UPDATE then use one of the onecol procedures below.
    PROCEDURE upd
    (
        id_market_in                 IN pn_dblock_mkt.id_market%TYPE,
        id_pn_note_type_in           IN pn_dblock_mkt.id_pn_note_type%TYPE,
        id_pn_data_block_in          IN pn_dblock_mkt.id_pn_data_block%TYPE,
        id_software_in               IN pn_dblock_mkt.id_software%TYPE,
        id_pn_soap_block_in          IN pn_dblock_mkt.id_pn_soap_block%TYPE,
        flg_import_in                IN pn_dblock_mkt.flg_import%TYPE DEFAULT NULL,
        flg_import_nin               IN BOOLEAN := TRUE,
        flg_select_in                IN pn_dblock_mkt.flg_select%TYPE DEFAULT NULL,
        flg_select_nin               IN BOOLEAN := TRUE,
        flg_scope_in                 IN pn_dblock_mkt.flg_scope%TYPE DEFAULT NULL,
        flg_scope_nin                IN BOOLEAN := TRUE,
        rank_in                      IN pn_dblock_mkt.rank%TYPE DEFAULT NULL,
        rank_nin                     IN BOOLEAN := TRUE,
        create_user_in               IN pn_dblock_mkt.create_user%TYPE DEFAULT NULL,
        create_user_nin              IN BOOLEAN := TRUE,
        create_time_in               IN pn_dblock_mkt.create_time%TYPE DEFAULT NULL,
        create_time_nin              IN BOOLEAN := TRUE,
        create_institution_in        IN pn_dblock_mkt.create_institution%TYPE DEFAULT NULL,
        create_institution_nin       IN BOOLEAN := TRUE,
        update_user_in               IN pn_dblock_mkt.update_user%TYPE DEFAULT NULL,
        update_user_nin              IN BOOLEAN := TRUE,
        update_time_in               IN pn_dblock_mkt.update_time%TYPE DEFAULT NULL,
        update_time_nin              IN BOOLEAN := TRUE,
        update_institution_in        IN pn_dblock_mkt.update_institution%TYPE DEFAULT NULL,
        update_institution_nin       IN BOOLEAN := TRUE,
        flg_actions_available_in     IN pn_dblock_mkt.flg_actions_available%TYPE DEFAULT NULL,
        flg_actions_available_nin    IN BOOLEAN := TRUE,
        flg_line_on_boxes_in         IN pn_dblock_mkt.flg_line_on_boxes%TYPE DEFAULT NULL,
        flg_line_on_boxes_nin        IN BOOLEAN := TRUE,
        gender_in                    IN pn_dblock_mkt.gender%TYPE DEFAULT NULL,
        gender_nin                   IN BOOLEAN := TRUE,
        age_min_in                   IN pn_dblock_mkt.age_min%TYPE DEFAULT NULL,
        age_min_nin                  IN BOOLEAN := TRUE,
        age_max_in                   IN pn_dblock_mkt.age_max%TYPE DEFAULT NULL,
        age_max_nin                  IN BOOLEAN := TRUE,
        flg_pregnant_in              IN pn_dblock_mkt.flg_pregnant%TYPE DEFAULT NULL,
        flg_pregnant_nin             IN BOOLEAN := TRUE,
        flg_outside_period_in        IN pn_dblock_mkt.flg_outside_period%TYPE DEFAULT NULL,
        flg_outside_period_nin       IN BOOLEAN := TRUE,
        days_available_period_in     IN pn_dblock_mkt.days_available_period%TYPE DEFAULT NULL,
        days_available_period_nin    IN BOOLEAN := TRUE,
        flg_mandatory_in             IN pn_dblock_mkt.flg_mandatory%TYPE DEFAULT NULL,
        flg_mandatory_nin            IN BOOLEAN := TRUE,
        flg_cp_no_changes_import_in  IN pn_dblock_mkt.flg_cp_no_changes_import%TYPE DEFAULT NULL,
        flg_cp_no_changes_import_nin IN BOOLEAN := TRUE,
        flg_import_date_in           IN pn_dblock_mkt.flg_import_date%TYPE DEFAULT NULL,
        flg_import_date_nin          IN BOOLEAN := TRUE,
        flg_group_on_import_in       IN pn_dblock_mkt.flg_group_on_import%TYPE DEFAULT NULL,
        flg_group_on_import_nin      IN BOOLEAN := TRUE,
        id_pndb_parent_in            IN pn_dblock_mkt.id_pndb_parent%TYPE DEFAULT NULL,
        id_pndb_parent_nin           IN BOOLEAN := TRUE,
        flg_struct_type_in           IN pn_dblock_mkt.flg_struct_type%TYPE DEFAULT NULL,
        flg_struct_type_nin          IN BOOLEAN := TRUE,
        flg_show_title_in            IN pn_dblock_mkt.flg_show_title%TYPE DEFAULT NULL,
        flg_show_title_nin           IN BOOLEAN := TRUE,
        flg_show_sub_title_in        IN pn_dblock_mkt.flg_show_sub_title%TYPE DEFAULT NULL,
        flg_show_sub_title_nin       IN BOOLEAN := TRUE,
        flg_data_removable_in        IN pn_dblock_mkt.flg_data_removable%TYPE DEFAULT NULL,
        flg_data_removable_nin       IN BOOLEAN := TRUE,
        auto_pop_exec_prof_cat_in    IN pn_dblock_mkt.auto_pop_exec_prof_cat%TYPE DEFAULT NULL,
        auto_pop_exec_prof_cat_nin   IN BOOLEAN := TRUE,
        flg_focus_in                 IN pn_dblock_mkt.flg_focus%TYPE DEFAULT NULL,
        flg_focus_nin                IN BOOLEAN := TRUE,
        flg_editable_in              IN pn_dblock_mkt.flg_editable%TYPE DEFAULT NULL,
        flg_editable_nin             IN BOOLEAN := TRUE,
        flg_group_select_filter_in   IN pn_dblock_mkt.flg_group_select_filter%TYPE DEFAULT NULL,
        flg_group_select_filter_nin  IN BOOLEAN := TRUE,
        id_task_type_in              IN pn_dblock_mkt.id_task_type%TYPE DEFAULT NULL,
        id_task_type_nin             IN BOOLEAN := TRUE,
        flg_order_type_in            IN pn_dblock_mkt.flg_order_type%TYPE DEFAULT NULL,
        flg_order_type_nin           IN BOOLEAN := TRUE,
        flg_signature_in             IN pn_dblock_mkt.flg_signature%TYPE DEFAULT NULL,
        flg_signature_nin            IN BOOLEAN := TRUE,
        flg_min_value_in             IN pn_dblock_mkt.flg_min_value%TYPE DEFAULT NULL,
        flg_min_value_nin            IN BOOLEAN := TRUE,
        flg_default_value_in         IN pn_dblock_mkt.flg_default_value%TYPE DEFAULT NULL,
        flg_default_value_nin        IN BOOLEAN := TRUE,
        flg_max_value_in             IN pn_dblock_mkt.flg_max_value%TYPE DEFAULT NULL,
        flg_max_value_nin            IN BOOLEAN := TRUE,
        flg_format_in                IN pn_dblock_mkt.flg_format%TYPE DEFAULT NULL,
        flg_format_nin               IN BOOLEAN := TRUE,
        flg_validation_in            IN pn_dblock_mkt.flg_validation%TYPE DEFAULT NULL,
        flg_validation_nin           IN BOOLEAN := TRUE,
        id_pndb_related_in           IN pn_dblock_mkt.id_pndb_related%TYPE DEFAULT NULL,
        id_pndb_related_nin          IN BOOLEAN := TRUE,
        id_swf_file_viewer_in        IN pn_dblock_mkt.id_swf_file_viewer%TYPE DEFAULT NULL,
        id_swf_file_viewer_nin       IN BOOLEAN := TRUE,
        value_viewer_in              IN pn_dblock_mkt.value_viewer%TYPE DEFAULT NULL,
        value_viewer_nin             IN BOOLEAN := TRUE,
        min_days_period_in           IN pn_dblock_mkt.min_days_period%TYPE DEFAULT NULL,
        min_days_period_nin          IN BOOLEAN := TRUE,
        max_days_period_in           IN pn_dblock_mkt.max_days_period%TYPE DEFAULT NULL,
        max_days_period_nin          IN BOOLEAN := TRUE,
        default_days_period_in       IN pn_dblock_mkt.default_days_period%TYPE DEFAULT NULL,
        default_days_period_nin      IN BOOLEAN := TRUE,
        flg_exc_sum_page_da_in       IN pn_dblock_mkt.flg_exc_sum_page_da%TYPE DEFAULT NULL,
        flg_exc_sum_page_da_nin      IN BOOLEAN := TRUE,
        flg_group_type_in            IN pn_dblock_mkt.flg_group_type%TYPE DEFAULT NULL,
        flg_group_type_nin           IN BOOLEAN := TRUE,
        desc_function_in             IN pn_dblock_mkt.desc_function%TYPE DEFAULT NULL,
        desc_function_nin            IN BOOLEAN := TRUE,
        handle_error_in              IN BOOLEAN := FALSE,
        rows_out                     IN OUT table_varchar
    ) IS
        l_rows_out                   table_varchar;
        l_flg_import_n               NUMBER(1) := sys.diutil.bool_to_int(flg_import_nin);
        l_flg_select_n               NUMBER(1) := sys.diutil.bool_to_int(flg_select_nin);
        l_flg_scope_n                NUMBER(1) := sys.diutil.bool_to_int(flg_scope_nin);
        l_rank_n                     NUMBER(1) := sys.diutil.bool_to_int(rank_nin);
        l_create_user_n              NUMBER(1) := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n              NUMBER(1) := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n       NUMBER(1) := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n              NUMBER(1) := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n              NUMBER(1) := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n       NUMBER(1) := sys.diutil.bool_to_int(update_institution_nin);
        l_flg_actions_available_n    NUMBER(1) := sys.diutil.bool_to_int(flg_actions_available_nin);
        l_flg_line_on_boxes_n        NUMBER(1) := sys.diutil.bool_to_int(flg_line_on_boxes_nin);
        l_gender_n                   NUMBER(1) := sys.diutil.bool_to_int(gender_nin);
        l_age_min_n                  NUMBER(1) := sys.diutil.bool_to_int(age_min_nin);
        l_age_max_n                  NUMBER(1) := sys.diutil.bool_to_int(age_max_nin);
        l_flg_pregnant_n             NUMBER(1) := sys.diutil.bool_to_int(flg_pregnant_nin);
        l_flg_outside_period_n       NUMBER(1) := sys.diutil.bool_to_int(flg_outside_period_nin);
        l_days_available_period_n    NUMBER(1) := sys.diutil.bool_to_int(days_available_period_nin);
        l_flg_mandatory_n            NUMBER(1) := sys.diutil.bool_to_int(flg_mandatory_nin);
        l_flg_cp_no_changes_import_n NUMBER(1) := sys.diutil.bool_to_int(flg_cp_no_changes_import_nin);
        l_flg_import_date_n          NUMBER(1) := sys.diutil.bool_to_int(flg_import_date_nin);
        l_flg_group_on_import_n      NUMBER(1) := sys.diutil.bool_to_int(flg_group_on_import_nin);
        l_id_pndb_parent_n           NUMBER(1) := sys.diutil.bool_to_int(id_pndb_parent_nin);
        l_flg_struct_type_n          NUMBER(1) := sys.diutil.bool_to_int(flg_struct_type_nin);
        l_flg_show_title_n           NUMBER(1) := sys.diutil.bool_to_int(flg_show_title_nin);
        l_flg_show_sub_title_n       NUMBER(1) := sys.diutil.bool_to_int(flg_show_sub_title_nin);
        l_flg_data_removable_n       NUMBER(1) := sys.diutil.bool_to_int(flg_data_removable_nin);
        l_auto_pop_exec_prof_cat_n   NUMBER(1) := sys.diutil.bool_to_int(auto_pop_exec_prof_cat_nin);
        l_flg_focus_n                NUMBER(1) := sys.diutil.bool_to_int(flg_focus_nin);
        l_flg_editable_n             NUMBER(1) := sys.diutil.bool_to_int(flg_editable_nin);
        l_flg_group_select_filter_n  NUMBER(1) := sys.diutil.bool_to_int(flg_group_select_filter_nin);
        l_id_task_type_n             NUMBER(1) := sys.diutil.bool_to_int(id_task_type_nin);
        l_flg_order_type_n           NUMBER(1) := sys.diutil.bool_to_int(flg_order_type_nin);
        l_flg_signature_n            NUMBER(1) := sys.diutil.bool_to_int(flg_signature_nin);
        l_flg_min_value_n            NUMBER(1) := sys.diutil.bool_to_int(flg_min_value_nin);
        l_flg_default_value_n        NUMBER(1) := sys.diutil.bool_to_int(flg_default_value_nin);
        l_flg_max_value_n            NUMBER(1) := sys.diutil.bool_to_int(flg_max_value_nin);
        l_flg_format_n               NUMBER(1) := sys.diutil.bool_to_int(flg_format_nin);
        l_flg_validation_n           NUMBER(1) := sys.diutil.bool_to_int(flg_validation_nin);
        l_id_pndb_related_n          NUMBER(1) := sys.diutil.bool_to_int(id_pndb_related_nin);
        l_id_swf_file_viewer_n       NUMBER(1) := sys.diutil.bool_to_int(id_swf_file_viewer_nin);
        l_value_viewer_n             NUMBER(1) := sys.diutil.bool_to_int(value_viewer_nin);
        l_min_days_period_n          NUMBER(1) := sys.diutil.bool_to_int(min_days_period_nin);
        l_max_days_period_n          NUMBER(1) := sys.diutil.bool_to_int(max_days_period_nin);
        l_default_days_period_n      NUMBER(1) := sys.diutil.bool_to_int(default_days_period_nin);
        l_flg_exc_sum_page_da_n      NUMBER(1) := sys.diutil.bool_to_int(flg_exc_sum_page_da_nin);
        l_flg_group_type_n           NUMBER(1) := sys.diutil.bool_to_int(flg_group_type_nin);
        l_desc_function_n            NUMBER(1) := sys.diutil.bool_to_int(desc_function_nin);
    BEGIN
    
        UPDATE pn_dblock_mkt
           SET flg_import               = decode(l_flg_import_n, 0, flg_import_in, nvl(flg_import_in, flg_import)),
               flg_select               = decode(l_flg_select_n, 0, flg_select_in, nvl(flg_select_in, flg_select)),
               flg_scope                = decode(l_flg_scope_n, 0, flg_scope_in, nvl(flg_scope_in, flg_scope)),
               rank                     = decode(l_rank_n, 0, rank_in, nvl(rank_in, rank)),
               create_user              = decode(l_create_user_n, 0, create_user_in, nvl(create_user_in, create_user)),
               create_time              = decode(l_create_time_n, 0, create_time_in, nvl(create_time_in, create_time)),
               create_institution       = decode(l_create_institution_n,
                                                 0,
                                                 create_institution_in,
                                                 nvl(create_institution_in, create_institution)),
               update_user              = decode(l_update_user_n, 0, update_user_in, nvl(update_user_in, update_user)),
               update_time              = decode(l_update_time_n, 0, update_time_in, nvl(update_time_in, update_time)),
               update_institution       = decode(l_update_institution_n,
                                                 0,
                                                 update_institution_in,
                                                 nvl(update_institution_in, update_institution)),
               flg_actions_available    = decode(l_flg_actions_available_n,
                                                 0,
                                                 flg_actions_available_in,
                                                 nvl(flg_actions_available_in, flg_actions_available)),
               flg_line_on_boxes        = decode(l_flg_line_on_boxes_n,
                                                 0,
                                                 flg_line_on_boxes_in,
                                                 nvl(flg_line_on_boxes_in, flg_line_on_boxes)),
               gender                   = decode(l_gender_n, 0, gender_in, nvl(gender_in, gender)),
               age_min                  = decode(l_age_min_n, 0, age_min_in, nvl(age_min_in, age_min)),
               age_max                  = decode(l_age_max_n, 0, age_max_in, nvl(age_max_in, age_max)),
               flg_pregnant             = decode(l_flg_pregnant_n,
                                                 0,
                                                 flg_pregnant_in,
                                                 nvl(flg_pregnant_in, flg_pregnant)),
               flg_outside_period       = decode(l_flg_outside_period_n,
                                                 0,
                                                 flg_outside_period_in,
                                                 nvl(flg_outside_period_in, flg_outside_period)),
               days_available_period    = decode(l_days_available_period_n,
                                                 0,
                                                 days_available_period_in,
                                                 nvl(days_available_period_in, days_available_period)),
               flg_mandatory            = decode(l_flg_mandatory_n,
                                                 0,
                                                 flg_mandatory_in,
                                                 nvl(flg_mandatory_in, flg_mandatory)),
               flg_cp_no_changes_import = decode(l_flg_cp_no_changes_import_n,
                                                 0,
                                                 flg_cp_no_changes_import_in,
                                                 nvl(flg_cp_no_changes_import_in, flg_cp_no_changes_import)),
               flg_import_date          = decode(l_flg_import_date_n,
                                                 0,
                                                 flg_import_date_in,
                                                 nvl(flg_import_date_in, flg_import_date)),
               flg_group_on_import      = decode(l_flg_group_on_import_n,
                                                 0,
                                                 flg_group_on_import_in,
                                                 nvl(flg_group_on_import_in, flg_group_on_import)),
               id_pndb_parent           = decode(l_id_pndb_parent_n,
                                                 0,
                                                 id_pndb_parent_in,
                                                 nvl(id_pndb_parent_in, id_pndb_parent)),
               flg_struct_type          = decode(l_flg_struct_type_n,
                                                 0,
                                                 flg_struct_type_in,
                                                 nvl(flg_struct_type_in, flg_struct_type)),
               flg_show_title           = decode(l_flg_show_title_n,
                                                 0,
                                                 flg_show_title_in,
                                                 nvl(flg_show_title_in, flg_show_title)),
               flg_show_sub_title       = decode(l_flg_show_sub_title_n,
                                                 0,
                                                 flg_show_sub_title_in,
                                                 nvl(flg_show_sub_title_in, flg_show_sub_title)),
               flg_data_removable       = decode(l_flg_data_removable_n,
                                                 0,
                                                 flg_data_removable_in,
                                                 nvl(flg_data_removable_in, flg_data_removable)),
               auto_pop_exec_prof_cat   = decode(l_auto_pop_exec_prof_cat_n,
                                                 0,
                                                 auto_pop_exec_prof_cat_in,
                                                 nvl(auto_pop_exec_prof_cat_in, auto_pop_exec_prof_cat)),
               flg_focus                = decode(l_flg_focus_n, 0, flg_focus_in, nvl(flg_focus_in, flg_focus)),
               flg_editable             = decode(l_flg_editable_n,
                                                 0,
                                                 flg_editable_in,
                                                 nvl(flg_editable_in, flg_editable)),
               flg_group_select_filter  = decode(l_flg_group_select_filter_n,
                                                 0,
                                                 flg_group_select_filter_in,
                                                 nvl(flg_group_select_filter_in, flg_group_select_filter)),
               id_task_type             = decode(l_id_task_type_n,
                                                 0,
                                                 id_task_type_in,
                                                 nvl(id_task_type_in, id_task_type)),
               flg_order_type           = decode(l_flg_order_type_n,
                                                 0,
                                                 flg_order_type_in,
                                                 nvl(flg_order_type_in, flg_order_type)),
               flg_signature            = decode(l_flg_signature_n,
                                                 0,
                                                 flg_signature_in,
                                                 nvl(flg_signature_in, flg_signature)),
               flg_min_value            = decode(l_flg_min_value_n,
                                                 0,
                                                 flg_min_value_in,
                                                 nvl(flg_min_value_in, flg_min_value)),
               flg_default_value        = decode(l_flg_default_value_n,
                                                 0,
                                                 flg_default_value_in,
                                                 nvl(flg_default_value_in, flg_default_value)),
               flg_max_value            = decode(l_flg_max_value_n,
                                                 0,
                                                 flg_max_value_in,
                                                 nvl(flg_max_value_in, flg_max_value)),
               flg_format               = decode(l_flg_format_n, 0, flg_format_in, nvl(flg_format_in, flg_format)),
               flg_validation           = decode(l_flg_validation_n,
                                                 0,
                                                 flg_validation_in,
                                                 nvl(flg_validation_in, flg_validation)),
               id_pndb_related          = decode(l_id_pndb_related_n,
                                                 0,
                                                 id_pndb_related_in,
                                                 nvl(id_pndb_related_in, id_pndb_related)),
               id_swf_file_viewer       = decode(l_id_swf_file_viewer_n,
                                                 0,
                                                 id_swf_file_viewer_in,
                                                 nvl(id_swf_file_viewer_in, id_swf_file_viewer)),
               value_viewer             = decode(l_value_viewer_n,
                                                 0,
                                                 value_viewer_in,
                                                 nvl(value_viewer_in, value_viewer)),
               min_days_period          = decode(l_min_days_period_n,
                                                 0,
                                                 min_days_period_in,
                                                 nvl(min_days_period_in, min_days_period)),
               max_days_period          = decode(l_max_days_period_n,
                                                 0,
                                                 max_days_period_in,
                                                 nvl(max_days_period_in, max_days_period)),
               default_days_period      = decode(l_default_days_period_n,
                                                 0,
                                                 default_days_period_in,
                                                 nvl(default_days_period_in, default_days_period)),
               flg_exc_sum_page_da      = decode(l_flg_exc_sum_page_da_n,
                                                 0,
                                                 flg_exc_sum_page_da_in,
                                                 nvl(flg_exc_sum_page_da_in, flg_exc_sum_page_da)),
               flg_group_type           = decode(l_flg_group_type_n,
                                                 0,
                                                 flg_group_type_in,
                                                 nvl(flg_group_type_in, flg_group_type)),
               desc_function            = decode(l_desc_function_n,
                                                 0,
                                                 desc_function_in,
                                                 nvl(desc_function_in, desc_function))
         WHERE id_market = id_market_in
           AND id_pn_note_type = id_pn_note_type_in
           AND id_pn_data_block = id_pn_data_block_in
           AND id_software = id_software_in
           AND id_pn_soap_block = id_pn_soap_block_in
        RETURNING ROWID BULK COLLECT INTO l_rows_out;
        IF (rows_out IS NULL)
        THEN
            rows_out := table_varchar();
        END IF;
        rows_out := rows_out MULTISET UNION DISTINCT l_rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    -- Update any/all columns by primary key. If you pass NULL, then
    -- the current column value is set to itself. If you need a more
    -- selected UPDATE then use one of the onecol procedures below.
    PROCEDURE upd
    (
        id_market_in                 IN pn_dblock_mkt.id_market%TYPE,
        id_pn_note_type_in           IN pn_dblock_mkt.id_pn_note_type%TYPE,
        id_pn_data_block_in          IN pn_dblock_mkt.id_pn_data_block%TYPE,
        id_software_in               IN pn_dblock_mkt.id_software%TYPE,
        id_pn_soap_block_in          IN pn_dblock_mkt.id_pn_soap_block%TYPE,
        flg_import_in                IN pn_dblock_mkt.flg_import%TYPE DEFAULT NULL,
        flg_import_nin               IN BOOLEAN := TRUE,
        flg_select_in                IN pn_dblock_mkt.flg_select%TYPE DEFAULT NULL,
        flg_select_nin               IN BOOLEAN := TRUE,
        flg_scope_in                 IN pn_dblock_mkt.flg_scope%TYPE DEFAULT NULL,
        flg_scope_nin                IN BOOLEAN := TRUE,
        rank_in                      IN pn_dblock_mkt.rank%TYPE DEFAULT NULL,
        rank_nin                     IN BOOLEAN := TRUE,
        create_user_in               IN pn_dblock_mkt.create_user%TYPE DEFAULT NULL,
        create_user_nin              IN BOOLEAN := TRUE,
        create_time_in               IN pn_dblock_mkt.create_time%TYPE DEFAULT NULL,
        create_time_nin              IN BOOLEAN := TRUE,
        create_institution_in        IN pn_dblock_mkt.create_institution%TYPE DEFAULT NULL,
        create_institution_nin       IN BOOLEAN := TRUE,
        update_user_in               IN pn_dblock_mkt.update_user%TYPE DEFAULT NULL,
        update_user_nin              IN BOOLEAN := TRUE,
        update_time_in               IN pn_dblock_mkt.update_time%TYPE DEFAULT NULL,
        update_time_nin              IN BOOLEAN := TRUE,
        update_institution_in        IN pn_dblock_mkt.update_institution%TYPE DEFAULT NULL,
        update_institution_nin       IN BOOLEAN := TRUE,
        flg_actions_available_in     IN pn_dblock_mkt.flg_actions_available%TYPE DEFAULT NULL,
        flg_actions_available_nin    IN BOOLEAN := TRUE,
        flg_line_on_boxes_in         IN pn_dblock_mkt.flg_line_on_boxes%TYPE DEFAULT NULL,
        flg_line_on_boxes_nin        IN BOOLEAN := TRUE,
        gender_in                    IN pn_dblock_mkt.gender%TYPE DEFAULT NULL,
        gender_nin                   IN BOOLEAN := TRUE,
        age_min_in                   IN pn_dblock_mkt.age_min%TYPE DEFAULT NULL,
        age_min_nin                  IN BOOLEAN := TRUE,
        age_max_in                   IN pn_dblock_mkt.age_max%TYPE DEFAULT NULL,
        age_max_nin                  IN BOOLEAN := TRUE,
        flg_pregnant_in              IN pn_dblock_mkt.flg_pregnant%TYPE DEFAULT NULL,
        flg_pregnant_nin             IN BOOLEAN := TRUE,
        flg_outside_period_in        IN pn_dblock_mkt.flg_outside_period%TYPE DEFAULT NULL,
        flg_outside_period_nin       IN BOOLEAN := TRUE,
        days_available_period_in     IN pn_dblock_mkt.days_available_period%TYPE DEFAULT NULL,
        days_available_period_nin    IN BOOLEAN := TRUE,
        flg_mandatory_in             IN pn_dblock_mkt.flg_mandatory%TYPE DEFAULT NULL,
        flg_mandatory_nin            IN BOOLEAN := TRUE,
        flg_cp_no_changes_import_in  IN pn_dblock_mkt.flg_cp_no_changes_import%TYPE DEFAULT NULL,
        flg_cp_no_changes_import_nin IN BOOLEAN := TRUE,
        flg_import_date_in           IN pn_dblock_mkt.flg_import_date%TYPE DEFAULT NULL,
        flg_import_date_nin          IN BOOLEAN := TRUE,
        flg_group_on_import_in       IN pn_dblock_mkt.flg_group_on_import%TYPE DEFAULT NULL,
        flg_group_on_import_nin      IN BOOLEAN := TRUE,
        id_pndb_parent_in            IN pn_dblock_mkt.id_pndb_parent%TYPE DEFAULT NULL,
        id_pndb_parent_nin           IN BOOLEAN := TRUE,
        flg_struct_type_in           IN pn_dblock_mkt.flg_struct_type%TYPE DEFAULT NULL,
        flg_struct_type_nin          IN BOOLEAN := TRUE,
        flg_show_title_in            IN pn_dblock_mkt.flg_show_title%TYPE DEFAULT NULL,
        flg_show_title_nin           IN BOOLEAN := TRUE,
        flg_show_sub_title_in        IN pn_dblock_mkt.flg_show_sub_title%TYPE DEFAULT NULL,
        flg_show_sub_title_nin       IN BOOLEAN := TRUE,
        flg_data_removable_in        IN pn_dblock_mkt.flg_data_removable%TYPE DEFAULT NULL,
        flg_data_removable_nin       IN BOOLEAN := TRUE,
        auto_pop_exec_prof_cat_in    IN pn_dblock_mkt.auto_pop_exec_prof_cat%TYPE DEFAULT NULL,
        auto_pop_exec_prof_cat_nin   IN BOOLEAN := TRUE,
        flg_focus_in                 IN pn_dblock_mkt.flg_focus%TYPE DEFAULT NULL,
        flg_focus_nin                IN BOOLEAN := TRUE,
        flg_editable_in              IN pn_dblock_mkt.flg_editable%TYPE DEFAULT NULL,
        flg_editable_nin             IN BOOLEAN := TRUE,
        flg_group_select_filter_in   IN pn_dblock_mkt.flg_group_select_filter%TYPE DEFAULT NULL,
        flg_group_select_filter_nin  IN BOOLEAN := TRUE,
        id_task_type_in              IN pn_dblock_mkt.id_task_type%TYPE DEFAULT NULL,
        id_task_type_nin             IN BOOLEAN := TRUE,
        flg_order_type_in            IN pn_dblock_mkt.flg_order_type%TYPE DEFAULT NULL,
        flg_order_type_nin           IN BOOLEAN := TRUE,
        flg_signature_in             IN pn_dblock_mkt.flg_signature%TYPE DEFAULT NULL,
        flg_signature_nin            IN BOOLEAN := TRUE,
        flg_min_value_in             IN pn_dblock_mkt.flg_min_value%TYPE DEFAULT NULL,
        flg_min_value_nin            IN BOOLEAN := TRUE,
        flg_default_value_in         IN pn_dblock_mkt.flg_default_value%TYPE DEFAULT NULL,
        flg_default_value_nin        IN BOOLEAN := TRUE,
        flg_max_value_in             IN pn_dblock_mkt.flg_max_value%TYPE DEFAULT NULL,
        flg_max_value_nin            IN BOOLEAN := TRUE,
        flg_format_in                IN pn_dblock_mkt.flg_format%TYPE DEFAULT NULL,
        flg_format_nin               IN BOOLEAN := TRUE,
        flg_validation_in            IN pn_dblock_mkt.flg_validation%TYPE DEFAULT NULL,
        flg_validation_nin           IN BOOLEAN := TRUE,
        id_pndb_related_in           IN pn_dblock_mkt.id_pndb_related%TYPE DEFAULT NULL,
        id_pndb_related_nin          IN BOOLEAN := TRUE,
        id_swf_file_viewer_in        IN pn_dblock_mkt.id_swf_file_viewer%TYPE DEFAULT NULL,
        id_swf_file_viewer_nin       IN BOOLEAN := TRUE,
        value_viewer_in              IN pn_dblock_mkt.value_viewer%TYPE DEFAULT NULL,
        value_viewer_nin             IN BOOLEAN := TRUE,
        min_days_period_in           IN pn_dblock_mkt.min_days_period%TYPE DEFAULT NULL,
        min_days_period_nin          IN BOOLEAN := TRUE,
        max_days_period_in           IN pn_dblock_mkt.max_days_period%TYPE DEFAULT NULL,
        max_days_period_nin          IN BOOLEAN := TRUE,
        default_days_period_in       IN pn_dblock_mkt.default_days_period%TYPE DEFAULT NULL,
        default_days_period_nin      IN BOOLEAN := TRUE,
        flg_exc_sum_page_da_in       IN pn_dblock_mkt.flg_exc_sum_page_da%TYPE DEFAULT NULL,
        flg_exc_sum_page_da_nin      IN BOOLEAN := TRUE,
        flg_group_type_in            IN pn_dblock_mkt.flg_group_type%TYPE DEFAULT NULL,
        flg_group_type_nin           IN BOOLEAN := TRUE,
        desc_function_in             IN pn_dblock_mkt.desc_function%TYPE DEFAULT NULL,
        desc_function_nin            IN BOOLEAN := TRUE,
        handle_error_in              IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(id_market_in                 => id_market_in,
            id_pn_note_type_in           => id_pn_note_type_in,
            id_pn_data_block_in          => id_pn_data_block_in,
            id_software_in               => id_software_in,
            id_pn_soap_block_in          => id_pn_soap_block_in,
            flg_import_in                => flg_import_in,
            flg_import_nin               => flg_import_nin,
            flg_select_in                => flg_select_in,
            flg_select_nin               => flg_select_nin,
            flg_scope_in                 => flg_scope_in,
            flg_scope_nin                => flg_scope_nin,
            rank_in                      => rank_in,
            rank_nin                     => rank_nin,
            create_user_in               => create_user_in,
            create_user_nin              => create_user_nin,
            create_time_in               => create_time_in,
            create_time_nin              => create_time_nin,
            create_institution_in        => create_institution_in,
            create_institution_nin       => create_institution_nin,
            update_user_in               => update_user_in,
            update_user_nin              => update_user_nin,
            update_time_in               => update_time_in,
            update_time_nin              => update_time_nin,
            update_institution_in        => update_institution_in,
            update_institution_nin       => update_institution_nin,
            flg_actions_available_in     => flg_actions_available_in,
            flg_actions_available_nin    => flg_actions_available_nin,
            flg_line_on_boxes_in         => flg_line_on_boxes_in,
            flg_line_on_boxes_nin        => flg_line_on_boxes_nin,
            gender_in                    => gender_in,
            gender_nin                   => gender_nin,
            age_min_in                   => age_min_in,
            age_min_nin                  => age_min_nin,
            age_max_in                   => age_max_in,
            age_max_nin                  => age_max_nin,
            flg_pregnant_in              => flg_pregnant_in,
            flg_pregnant_nin             => flg_pregnant_nin,
            flg_outside_period_in        => flg_outside_period_in,
            flg_outside_period_nin       => flg_outside_period_nin,
            days_available_period_in     => days_available_period_in,
            days_available_period_nin    => days_available_period_nin,
            flg_mandatory_in             => flg_mandatory_in,
            flg_mandatory_nin            => flg_mandatory_nin,
            flg_cp_no_changes_import_in  => flg_cp_no_changes_import_in,
            flg_cp_no_changes_import_nin => flg_cp_no_changes_import_nin,
            flg_import_date_in           => flg_import_date_in,
            flg_import_date_nin          => flg_import_date_nin,
            flg_group_on_import_in       => flg_group_on_import_in,
            flg_group_on_import_nin      => flg_group_on_import_nin,
            id_pndb_parent_in            => id_pndb_parent_in,
            id_pndb_parent_nin           => id_pndb_parent_nin,
            flg_struct_type_in           => flg_struct_type_in,
            flg_struct_type_nin          => flg_struct_type_nin,
            flg_show_title_in            => flg_show_title_in,
            flg_show_title_nin           => flg_show_title_nin,
            flg_show_sub_title_in        => flg_show_sub_title_in,
            flg_show_sub_title_nin       => flg_show_sub_title_nin,
            flg_data_removable_in        => flg_data_removable_in,
            flg_data_removable_nin       => flg_data_removable_nin,
            auto_pop_exec_prof_cat_in    => auto_pop_exec_prof_cat_in,
            auto_pop_exec_prof_cat_nin   => auto_pop_exec_prof_cat_nin,
            flg_focus_in                 => flg_focus_in,
            flg_focus_nin                => flg_focus_nin,
            flg_editable_in              => flg_editable_in,
            flg_editable_nin             => flg_editable_nin,
            flg_group_select_filter_in   => flg_group_select_filter_in,
            flg_group_select_filter_nin  => flg_group_select_filter_nin,
            id_task_type_in              => id_task_type_in,
            id_task_type_nin             => id_task_type_nin,
            flg_order_type_in            => flg_order_type_in,
            flg_order_type_nin           => flg_order_type_nin,
            flg_signature_in             => flg_signature_in,
            flg_signature_nin            => flg_signature_nin,
            flg_min_value_in             => flg_min_value_in,
            flg_min_value_nin            => flg_min_value_nin,
            flg_default_value_in         => flg_default_value_in,
            flg_default_value_nin        => flg_default_value_nin,
            flg_max_value_in             => flg_max_value_in,
            flg_max_value_nin            => flg_max_value_nin,
            flg_format_in                => flg_format_in,
            flg_format_nin               => flg_format_nin,
            flg_validation_in            => flg_validation_in,
            flg_validation_nin           => flg_validation_nin,
            id_pndb_related_in           => id_pndb_related_in,
            id_pndb_related_nin          => id_pndb_related_nin,
            id_swf_file_viewer_in        => id_swf_file_viewer_in,
            id_swf_file_viewer_nin       => id_swf_file_viewer_nin,
            value_viewer_in              => value_viewer_in,
            value_viewer_nin             => value_viewer_nin,
            min_days_period_in           => min_days_period_in,
            min_days_period_nin          => min_days_period_nin,
            max_days_period_in           => max_days_period_in,
            max_days_period_nin          => max_days_period_nin,
            default_days_period_in       => default_days_period_in,
            default_days_period_nin      => default_days_period_nin,
            flg_exc_sum_page_da_in       => flg_exc_sum_page_da_in,
            flg_exc_sum_page_da_nin      => flg_exc_sum_page_da_nin,
            flg_group_type_in            => flg_group_type_in,
            flg_group_type_nin           => flg_group_type_nin,
            desc_function_in             => desc_function_in,
            desc_function_nin            => desc_function_nin,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
    END upd;

    --Update any/all columns by dynamic WHERE
    -- If you pass NULL, then the current column value is set to itself
    PROCEDURE upd
    (
        flg_import_in                IN pn_dblock_mkt.flg_import%TYPE DEFAULT NULL,
        flg_import_nin               IN BOOLEAN := TRUE,
        flg_select_in                IN pn_dblock_mkt.flg_select%TYPE DEFAULT NULL,
        flg_select_nin               IN BOOLEAN := TRUE,
        flg_scope_in                 IN pn_dblock_mkt.flg_scope%TYPE DEFAULT NULL,
        flg_scope_nin                IN BOOLEAN := TRUE,
        rank_in                      IN pn_dblock_mkt.rank%TYPE DEFAULT NULL,
        rank_nin                     IN BOOLEAN := TRUE,
        create_user_in               IN pn_dblock_mkt.create_user%TYPE DEFAULT NULL,
        create_user_nin              IN BOOLEAN := TRUE,
        create_time_in               IN pn_dblock_mkt.create_time%TYPE DEFAULT NULL,
        create_time_nin              IN BOOLEAN := TRUE,
        create_institution_in        IN pn_dblock_mkt.create_institution%TYPE DEFAULT NULL,
        create_institution_nin       IN BOOLEAN := TRUE,
        update_user_in               IN pn_dblock_mkt.update_user%TYPE DEFAULT NULL,
        update_user_nin              IN BOOLEAN := TRUE,
        update_time_in               IN pn_dblock_mkt.update_time%TYPE DEFAULT NULL,
        update_time_nin              IN BOOLEAN := TRUE,
        update_institution_in        IN pn_dblock_mkt.update_institution%TYPE DEFAULT NULL,
        update_institution_nin       IN BOOLEAN := TRUE,
        flg_actions_available_in     IN pn_dblock_mkt.flg_actions_available%TYPE DEFAULT NULL,
        flg_actions_available_nin    IN BOOLEAN := TRUE,
        flg_line_on_boxes_in         IN pn_dblock_mkt.flg_line_on_boxes%TYPE DEFAULT NULL,
        flg_line_on_boxes_nin        IN BOOLEAN := TRUE,
        gender_in                    IN pn_dblock_mkt.gender%TYPE DEFAULT NULL,
        gender_nin                   IN BOOLEAN := TRUE,
        age_min_in                   IN pn_dblock_mkt.age_min%TYPE DEFAULT NULL,
        age_min_nin                  IN BOOLEAN := TRUE,
        age_max_in                   IN pn_dblock_mkt.age_max%TYPE DEFAULT NULL,
        age_max_nin                  IN BOOLEAN := TRUE,
        flg_pregnant_in              IN pn_dblock_mkt.flg_pregnant%TYPE DEFAULT NULL,
        flg_pregnant_nin             IN BOOLEAN := TRUE,
        flg_outside_period_in        IN pn_dblock_mkt.flg_outside_period%TYPE DEFAULT NULL,
        flg_outside_period_nin       IN BOOLEAN := TRUE,
        days_available_period_in     IN pn_dblock_mkt.days_available_period%TYPE DEFAULT NULL,
        days_available_period_nin    IN BOOLEAN := TRUE,
        flg_mandatory_in             IN pn_dblock_mkt.flg_mandatory%TYPE DEFAULT NULL,
        flg_mandatory_nin            IN BOOLEAN := TRUE,
        flg_cp_no_changes_import_in  IN pn_dblock_mkt.flg_cp_no_changes_import%TYPE DEFAULT NULL,
        flg_cp_no_changes_import_nin IN BOOLEAN := TRUE,
        flg_import_date_in           IN pn_dblock_mkt.flg_import_date%TYPE DEFAULT NULL,
        flg_import_date_nin          IN BOOLEAN := TRUE,
        flg_group_on_import_in       IN pn_dblock_mkt.flg_group_on_import%TYPE DEFAULT NULL,
        flg_group_on_import_nin      IN BOOLEAN := TRUE,
        id_pndb_parent_in            IN pn_dblock_mkt.id_pndb_parent%TYPE DEFAULT NULL,
        id_pndb_parent_nin           IN BOOLEAN := TRUE,
        flg_struct_type_in           IN pn_dblock_mkt.flg_struct_type%TYPE DEFAULT NULL,
        flg_struct_type_nin          IN BOOLEAN := TRUE,
        flg_show_title_in            IN pn_dblock_mkt.flg_show_title%TYPE DEFAULT NULL,
        flg_show_title_nin           IN BOOLEAN := TRUE,
        flg_show_sub_title_in        IN pn_dblock_mkt.flg_show_sub_title%TYPE DEFAULT NULL,
        flg_show_sub_title_nin       IN BOOLEAN := TRUE,
        flg_data_removable_in        IN pn_dblock_mkt.flg_data_removable%TYPE DEFAULT NULL,
        flg_data_removable_nin       IN BOOLEAN := TRUE,
        auto_pop_exec_prof_cat_in    IN pn_dblock_mkt.auto_pop_exec_prof_cat%TYPE DEFAULT NULL,
        auto_pop_exec_prof_cat_nin   IN BOOLEAN := TRUE,
        flg_focus_in                 IN pn_dblock_mkt.flg_focus%TYPE DEFAULT NULL,
        flg_focus_nin                IN BOOLEAN := TRUE,
        flg_editable_in              IN pn_dblock_mkt.flg_editable%TYPE DEFAULT NULL,
        flg_editable_nin             IN BOOLEAN := TRUE,
        flg_group_select_filter_in   IN pn_dblock_mkt.flg_group_select_filter%TYPE DEFAULT NULL,
        flg_group_select_filter_nin  IN BOOLEAN := TRUE,
        id_task_type_in              IN pn_dblock_mkt.id_task_type%TYPE DEFAULT NULL,
        id_task_type_nin             IN BOOLEAN := TRUE,
        flg_order_type_in            IN pn_dblock_mkt.flg_order_type%TYPE DEFAULT NULL,
        flg_order_type_nin           IN BOOLEAN := TRUE,
        flg_signature_in             IN pn_dblock_mkt.flg_signature%TYPE DEFAULT NULL,
        flg_signature_nin            IN BOOLEAN := TRUE,
        flg_min_value_in             IN pn_dblock_mkt.flg_min_value%TYPE DEFAULT NULL,
        flg_min_value_nin            IN BOOLEAN := TRUE,
        flg_default_value_in         IN pn_dblock_mkt.flg_default_value%TYPE DEFAULT NULL,
        flg_default_value_nin        IN BOOLEAN := TRUE,
        flg_max_value_in             IN pn_dblock_mkt.flg_max_value%TYPE DEFAULT NULL,
        flg_max_value_nin            IN BOOLEAN := TRUE,
        flg_format_in                IN pn_dblock_mkt.flg_format%TYPE DEFAULT NULL,
        flg_format_nin               IN BOOLEAN := TRUE,
        flg_validation_in            IN pn_dblock_mkt.flg_validation%TYPE DEFAULT NULL,
        flg_validation_nin           IN BOOLEAN := TRUE,
        id_pndb_related_in           IN pn_dblock_mkt.id_pndb_related%TYPE DEFAULT NULL,
        id_pndb_related_nin          IN BOOLEAN := TRUE,
        id_swf_file_viewer_in        IN pn_dblock_mkt.id_swf_file_viewer%TYPE DEFAULT NULL,
        id_swf_file_viewer_nin       IN BOOLEAN := TRUE,
        value_viewer_in              IN pn_dblock_mkt.value_viewer%TYPE DEFAULT NULL,
        value_viewer_nin             IN BOOLEAN := TRUE,
        min_days_period_in           IN pn_dblock_mkt.min_days_period%TYPE DEFAULT NULL,
        min_days_period_nin          IN BOOLEAN := TRUE,
        max_days_period_in           IN pn_dblock_mkt.max_days_period%TYPE DEFAULT NULL,
        max_days_period_nin          IN BOOLEAN := TRUE,
        default_days_period_in       IN pn_dblock_mkt.default_days_period%TYPE DEFAULT NULL,
        default_days_period_nin      IN BOOLEAN := TRUE,
        flg_exc_sum_page_da_in       IN pn_dblock_mkt.flg_exc_sum_page_da%TYPE DEFAULT NULL,
        flg_exc_sum_page_da_nin      IN BOOLEAN := TRUE,
        flg_group_type_in            IN pn_dblock_mkt.flg_group_type%TYPE DEFAULT NULL,
        flg_group_type_nin           IN BOOLEAN := TRUE,
        desc_function_in             IN pn_dblock_mkt.desc_function%TYPE DEFAULT NULL,
        desc_function_nin            IN BOOLEAN := TRUE,
        where_in                     IN VARCHAR2,
        handle_error_in              IN BOOLEAN := FALSE,
        rows_out                     IN OUT table_varchar
    ) IS
        l_sql                        VARCHAR2(32767);
        l_rows_out                   table_varchar;
        l_flg_import_n               NUMBER(1) := sys.diutil.bool_to_int(flg_import_nin);
        l_flg_select_n               NUMBER(1) := sys.diutil.bool_to_int(flg_select_nin);
        l_flg_scope_n                NUMBER(1) := sys.diutil.bool_to_int(flg_scope_nin);
        l_rank_n                     NUMBER(1) := sys.diutil.bool_to_int(rank_nin);
        l_create_user_n              NUMBER(1) := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n              NUMBER(1) := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n       NUMBER(1) := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n              NUMBER(1) := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n              NUMBER(1) := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n       NUMBER(1) := sys.diutil.bool_to_int(update_institution_nin);
        l_flg_actions_available_n    NUMBER(1) := sys.diutil.bool_to_int(flg_actions_available_nin);
        l_flg_line_on_boxes_n        NUMBER(1) := sys.diutil.bool_to_int(flg_line_on_boxes_nin);
        l_gender_n                   NUMBER(1) := sys.diutil.bool_to_int(gender_nin);
        l_age_min_n                  NUMBER(1) := sys.diutil.bool_to_int(age_min_nin);
        l_age_max_n                  NUMBER(1) := sys.diutil.bool_to_int(age_max_nin);
        l_flg_pregnant_n             NUMBER(1) := sys.diutil.bool_to_int(flg_pregnant_nin);
        l_flg_outside_period_n       NUMBER(1) := sys.diutil.bool_to_int(flg_outside_period_nin);
        l_days_available_period_n    NUMBER(1) := sys.diutil.bool_to_int(days_available_period_nin);
        l_flg_mandatory_n            NUMBER(1) := sys.diutil.bool_to_int(flg_mandatory_nin);
        l_flg_cp_no_changes_import_n NUMBER(1) := sys.diutil.bool_to_int(flg_cp_no_changes_import_nin);
        l_flg_import_date_n          NUMBER(1) := sys.diutil.bool_to_int(flg_import_date_nin);
        l_flg_group_on_import_n      NUMBER(1) := sys.diutil.bool_to_int(flg_group_on_import_nin);
        l_id_pndb_parent_n           NUMBER(1) := sys.diutil.bool_to_int(id_pndb_parent_nin);
        l_flg_struct_type_n          NUMBER(1) := sys.diutil.bool_to_int(flg_struct_type_nin);
        l_flg_show_title_n           NUMBER(1) := sys.diutil.bool_to_int(flg_show_title_nin);
        l_flg_show_sub_title_n       NUMBER(1) := sys.diutil.bool_to_int(flg_show_sub_title_nin);
        l_flg_data_removable_n       NUMBER(1) := sys.diutil.bool_to_int(flg_data_removable_nin);
        l_auto_pop_exec_prof_cat_n   NUMBER(1) := sys.diutil.bool_to_int(auto_pop_exec_prof_cat_nin);
        l_flg_focus_n                NUMBER(1) := sys.diutil.bool_to_int(flg_focus_nin);
        l_flg_editable_n             NUMBER(1) := sys.diutil.bool_to_int(flg_editable_nin);
        l_flg_group_select_filter_n  NUMBER(1) := sys.diutil.bool_to_int(flg_group_select_filter_nin);
        l_id_task_type_n             NUMBER(1) := sys.diutil.bool_to_int(id_task_type_nin);
        l_flg_order_type_n           NUMBER(1) := sys.diutil.bool_to_int(flg_order_type_nin);
        l_flg_signature_n            NUMBER(1) := sys.diutil.bool_to_int(flg_signature_nin);
        l_flg_min_value_n            NUMBER(1) := sys.diutil.bool_to_int(flg_min_value_nin);
        l_flg_default_value_n        NUMBER(1) := sys.diutil.bool_to_int(flg_default_value_nin);
        l_flg_max_value_n            NUMBER(1) := sys.diutil.bool_to_int(flg_max_value_nin);
        l_flg_format_n               NUMBER(1) := sys.diutil.bool_to_int(flg_format_nin);
        l_flg_validation_n           NUMBER(1) := sys.diutil.bool_to_int(flg_validation_nin);
        l_id_pndb_related_n          NUMBER(1) := sys.diutil.bool_to_int(id_pndb_related_nin);
        l_id_swf_file_viewer_n       NUMBER(1) := sys.diutil.bool_to_int(id_swf_file_viewer_nin);
        l_value_viewer_n             NUMBER(1) := sys.diutil.bool_to_int(value_viewer_nin);
        l_min_days_period_n          NUMBER(1) := sys.diutil.bool_to_int(min_days_period_nin);
        l_max_days_period_n          NUMBER(1) := sys.diutil.bool_to_int(max_days_period_nin);
        l_default_days_period_n      NUMBER(1) := sys.diutil.bool_to_int(default_days_period_nin);
        l_flg_exc_sum_page_da_n      NUMBER(1) := sys.diutil.bool_to_int(flg_exc_sum_page_da_nin);
        l_flg_group_type_n           NUMBER(1) := sys.diutil.bool_to_int(flg_group_type_nin);
        l_desc_function_n            NUMBER(1) := sys.diutil.bool_to_int(desc_function_nin);
    BEGIN
        l_flg_import_n               := sys.diutil.bool_to_int(flg_import_nin);
        l_flg_select_n               := sys.diutil.bool_to_int(flg_select_nin);
        l_flg_scope_n                := sys.diutil.bool_to_int(flg_scope_nin);
        l_rank_n                     := sys.diutil.bool_to_int(rank_nin);
        l_create_user_n              := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n              := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n       := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n              := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n              := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n       := sys.diutil.bool_to_int(update_institution_nin);
        l_flg_actions_available_n    := sys.diutil.bool_to_int(flg_actions_available_nin);
        l_flg_line_on_boxes_n        := sys.diutil.bool_to_int(flg_line_on_boxes_nin);
        l_gender_n                   := sys.diutil.bool_to_int(gender_nin);
        l_age_min_n                  := sys.diutil.bool_to_int(age_min_nin);
        l_age_max_n                  := sys.diutil.bool_to_int(age_max_nin);
        l_flg_pregnant_n             := sys.diutil.bool_to_int(flg_pregnant_nin);
        l_flg_outside_period_n       := sys.diutil.bool_to_int(flg_outside_period_nin);
        l_days_available_period_n    := sys.diutil.bool_to_int(days_available_period_nin);
        l_flg_mandatory_n            := sys.diutil.bool_to_int(flg_mandatory_nin);
        l_flg_cp_no_changes_import_n := sys.diutil.bool_to_int(flg_cp_no_changes_import_nin);
        l_flg_import_date_n          := sys.diutil.bool_to_int(flg_import_date_nin);
        l_flg_group_on_import_n      := sys.diutil.bool_to_int(flg_group_on_import_nin);
        l_id_pndb_parent_n           := sys.diutil.bool_to_int(id_pndb_parent_nin);
        l_flg_struct_type_n          := sys.diutil.bool_to_int(flg_struct_type_nin);
        l_flg_show_title_n           := sys.diutil.bool_to_int(flg_show_title_nin);
        l_flg_show_sub_title_n       := sys.diutil.bool_to_int(flg_show_sub_title_nin);
        l_flg_data_removable_n       := sys.diutil.bool_to_int(flg_data_removable_nin);
        l_auto_pop_exec_prof_cat_n   := sys.diutil.bool_to_int(auto_pop_exec_prof_cat_nin);
        l_flg_focus_n                := sys.diutil.bool_to_int(flg_focus_nin);
        l_flg_editable_n             := sys.diutil.bool_to_int(flg_editable_nin);
        l_flg_group_select_filter_n  := sys.diutil.bool_to_int(flg_group_select_filter_nin);
        l_id_task_type_n             := sys.diutil.bool_to_int(id_task_type_nin);
        l_flg_order_type_n           := sys.diutil.bool_to_int(flg_order_type_nin);
        l_flg_signature_n            := sys.diutil.bool_to_int(flg_signature_nin);
        l_flg_min_value_n            := sys.diutil.bool_to_int(flg_min_value_nin);
        l_flg_default_value_n        := sys.diutil.bool_to_int(flg_default_value_nin);
        l_flg_max_value_n            := sys.diutil.bool_to_int(flg_max_value_nin);
        l_flg_format_n               := sys.diutil.bool_to_int(flg_format_nin);
        l_flg_validation_n           := sys.diutil.bool_to_int(flg_validation_nin);
        l_id_pndb_related_n          := sys.diutil.bool_to_int(id_pndb_related_nin);
        l_id_swf_file_viewer_n       := sys.diutil.bool_to_int(id_swf_file_viewer_nin);
        l_value_viewer_n             := sys.diutil.bool_to_int(value_viewer_nin);
        l_min_days_period_n          := sys.diutil.bool_to_int(min_days_period_nin);
        l_max_days_period_n          := sys.diutil.bool_to_int(max_days_period_nin);
        l_default_days_period_n      := sys.diutil.bool_to_int(default_days_period_nin);
        l_flg_exc_sum_page_da_n      := sys.diutil.bool_to_int(flg_exc_sum_page_da_nin);
        l_flg_group_type_n           := sys.diutil.bool_to_int(flg_group_type_nin);
        l_desc_function_n            := sys.diutil.bool_to_int(desc_function_nin);
        l_sql                        := 'UPDATE pn_dblock_mkt SET' || ' FLG_IMPORT = decode (' || l_flg_import_n ||
                                        ',0,:FLG_IMPORT_in, NVL (:FLG_IMPORT_in, FLG_IMPORT)) ' || ',' ||
                                        ' FLG_SELECT = decode (' || l_flg_select_n ||
                                        ',0,:FLG_SELECT_in, NVL (:FLG_SELECT_in, FLG_SELECT)) ' || ',' ||
                                        ' FLG_SCOPE = decode (' || l_flg_scope_n ||
                                        ',0,:FLG_SCOPE_in, NVL (:FLG_SCOPE_in, FLG_SCOPE)) ' || ',' ||
                                        ' RANK = decode (' || l_rank_n || ',0,:RANK_in, NVL (:RANK_in, RANK)) ' || ',' ||
                                        ' CREATE_USER = decode (' || l_create_user_n ||
                                        ',0,:CREATE_USER_in, NVL (:CREATE_USER_in, CREATE_USER)) ' || ',' ||
                                        ' CREATE_TIME = decode (' || l_create_time_n ||
                                        ',0,:CREATE_TIME_in, NVL (:CREATE_TIME_in, CREATE_TIME)) ' || ',' ||
                                        ' CREATE_INSTITUTION = decode (' || l_create_institution_n ||
                                        ',0,:CREATE_INSTITUTION_in, NVL (:CREATE_INSTITUTION_in, CREATE_INSTITUTION)) ' || ',' ||
                                        ' UPDATE_USER = decode (' || l_update_user_n ||
                                        ',0,:UPDATE_USER_in, NVL (:UPDATE_USER_in, UPDATE_USER)) ' || ',' ||
                                        ' UPDATE_TIME = decode (' || l_update_time_n ||
                                        ',0,:UPDATE_TIME_in, NVL (:UPDATE_TIME_in, UPDATE_TIME)) ' || ',' ||
                                        ' UPDATE_INSTITUTION = decode (' || l_update_institution_n ||
                                        ',0,:UPDATE_INSTITUTION_in, NVL (:UPDATE_INSTITUTION_in, UPDATE_INSTITUTION)) ' || ',' ||
                                        ' FLG_ACTIONS_AVAILABLE = decode (' || l_flg_actions_available_n ||
                                        ',0,:FLG_ACTIONS_AVAILABLE_in, NVL (:FLG_ACTIONS_AVAILABLE_in, FLG_ACTIONS_AVAILABLE)) ' || ',' ||
                                        ' FLG_LINE_ON_BOXES = decode (' || l_flg_line_on_boxes_n ||
                                        ',0,:FLG_LINE_ON_BOXES_in, NVL (:FLG_LINE_ON_BOXES_in, FLG_LINE_ON_BOXES)) ' || ',' ||
                                        ' GENDER = decode (' || l_gender_n ||
                                        ',0,:GENDER_in, NVL (:GENDER_in, GENDER)) ' || ',' || ' AGE_MIN = decode (' ||
                                        l_age_min_n || ',0,:AGE_MIN_in, NVL (:AGE_MIN_in, AGE_MIN)) ' || ',' ||
                                        ' AGE_MAX = decode (' || l_age_max_n ||
                                        ',0,:AGE_MAX_in, NVL (:AGE_MAX_in, AGE_MAX)) ' || ',' ||
                                        ' FLG_PREGNANT = decode (' || l_flg_pregnant_n ||
                                        ',0,:FLG_PREGNANT_in, NVL (:FLG_PREGNANT_in, FLG_PREGNANT)) ' || ',' ||
                                        ' FLG_OUTSIDE_PERIOD = decode (' || l_flg_outside_period_n ||
                                        ',0,:FLG_OUTSIDE_PERIOD_in, NVL (:FLG_OUTSIDE_PERIOD_in, FLG_OUTSIDE_PERIOD)) ' || ',' ||
                                        ' DAYS_AVAILABLE_PERIOD = decode (' || l_days_available_period_n ||
                                        ',0,:DAYS_AVAILABLE_PERIOD_in, NVL (:DAYS_AVAILABLE_PERIOD_in, DAYS_AVAILABLE_PERIOD)) ' || ',' ||
                                        ' FLG_MANDATORY = decode (' || l_flg_mandatory_n ||
                                        ',0,:FLG_MANDATORY_in, NVL (:FLG_MANDATORY_in, FLG_MANDATORY)) ' || ',' ||
                                        ' FLG_CP_NO_CHANGES_IMPORT = decode (' || l_flg_cp_no_changes_import_n ||
                                        ',0,:FLG_CP_NO_CHANGES_IMPORT_in, NVL (:FLG_CP_NO_CHANGES_IMPORT_in, FLG_CP_NO_CHANGES_IMPORT)) ' || ',' ||
                                        ' FLG_IMPORT_DATE = decode (' || l_flg_import_date_n ||
                                        ',0,:FLG_IMPORT_DATE_in, NVL (:FLG_IMPORT_DATE_in, FLG_IMPORT_DATE)) ' || ',' ||
                                        ' FLG_GROUP_ON_IMPORT = decode (' || l_flg_group_on_import_n ||
                                        ',0,:FLG_GROUP_ON_IMPORT_in, NVL (:FLG_GROUP_ON_IMPORT_in, FLG_GROUP_ON_IMPORT)) ' || ',' ||
                                        ' ID_PNDB_PARENT = decode (' || l_id_pndb_parent_n ||
                                        ',0,:ID_PNDB_PARENT_in, NVL (:ID_PNDB_PARENT_in, ID_PNDB_PARENT)) ' || ',' ||
                                        ' FLG_STRUCT_TYPE = decode (' || l_flg_struct_type_n ||
                                        ',0,:FLG_STRUCT_TYPE_in, NVL (:FLG_STRUCT_TYPE_in, FLG_STRUCT_TYPE)) ' || ',' ||
                                        ' FLG_SHOW_TITLE = decode (' || l_flg_show_title_n ||
                                        ',0,:FLG_SHOW_TITLE_in, NVL (:FLG_SHOW_TITLE_in, FLG_SHOW_TITLE)) ' || ',' ||
                                        ' FLG_SHOW_SUB_TITLE = decode (' || l_flg_show_sub_title_n ||
                                        ',0,:FLG_SHOW_SUB_TITLE_in, NVL (:FLG_SHOW_SUB_TITLE_in, FLG_SHOW_SUB_TITLE)) ' || ',' ||
                                        ' FLG_DATA_REMOVABLE = decode (' || l_flg_data_removable_n ||
                                        ',0,:FLG_DATA_REMOVABLE_in, NVL (:FLG_DATA_REMOVABLE_in, FLG_DATA_REMOVABLE)) ' || ',' ||
                                        ' AUTO_POP_EXEC_PROF_CAT = decode (' || l_auto_pop_exec_prof_cat_n ||
                                        ',0,:AUTO_POP_EXEC_PROF_CAT_in, NVL (:AUTO_POP_EXEC_PROF_CAT_in, AUTO_POP_EXEC_PROF_CAT)) ' || ',' ||
                                        ' FLG_FOCUS = decode (' || l_flg_focus_n ||
                                        ',0,:FLG_FOCUS_in, NVL (:FLG_FOCUS_in, FLG_FOCUS)) ' || ',' ||
                                        ' FLG_EDITABLE = decode (' || l_flg_editable_n ||
                                        ',0,:FLG_EDITABLE_in, NVL (:FLG_EDITABLE_in, FLG_EDITABLE)) ' || ',' ||
                                        ' FLG_GROUP_SELECT_FILTER = decode (' || l_flg_group_select_filter_n ||
                                        ',0,:FLG_GROUP_SELECT_FILTER_in, NVL (:FLG_GROUP_SELECT_FILTER_in, FLG_GROUP_SELECT_FILTER)) ' || ',' ||
                                        ' ID_TASK_TYPE = decode (' || l_id_task_type_n ||
                                        ',0,:ID_TASK_TYPE_in, NVL (:ID_TASK_TYPE_in, ID_TASK_TYPE)) ' || ',' ||
                                        ' FLG_ORDER_TYPE = decode (' || l_flg_order_type_n ||
                                        ',0,:FLG_ORDER_TYPE_in, NVL (:FLG_ORDER_TYPE_in, FLG_ORDER_TYPE)) ' || ',' ||
                                        ' FLG_SIGNATURE = decode (' || l_flg_signature_n ||
                                        ',0,:FLG_SIGNATURE_in, NVL (:FLG_SIGNATURE_in, FLG_SIGNATURE)) ' || ',' ||
                                        ' FLG_MIN_VALUE = decode (' || l_flg_min_value_n ||
                                        ',0,:FLG_MIN_VALUE_in, NVL (:FLG_MIN_VALUE_in, FLG_MIN_VALUE)) ' || ',' ||
                                        ' FLG_DEFAULT_VALUE = decode (' || l_flg_default_value_n ||
                                        ',0,:FLG_DEFAULT_VALUE_in, NVL (:FLG_DEFAULT_VALUE_in, FLG_DEFAULT_VALUE)) ' || ',' ||
                                        ' FLG_MAX_VALUE = decode (' || l_flg_max_value_n ||
                                        ',0,:FLG_MAX_VALUE_in, NVL (:FLG_MAX_VALUE_in, FLG_MAX_VALUE)) ' || ',' ||
                                        ' FLG_FORMAT = decode (' || l_flg_format_n ||
                                        ',0,:FLG_FORMAT_in, NVL (:FLG_FORMAT_in, FLG_FORMAT)) ' || ',' ||
                                        ' FLG_VALIDATION = decode (' || l_flg_validation_n ||
                                        ',0,:FLG_VALIDATION_in, NVL (:FLG_VALIDATION_in, FLG_VALIDATION)) ' || ',' ||
                                        ' ID_PNDB_RELATED = decode (' || l_id_pndb_related_n ||
                                        ',0,:ID_PNDB_RELATED_in, NVL (:ID_PNDB_RELATED_in, ID_PNDB_RELATED)) ' || ',' ||
                                        ' ID_SWF_FILE_VIEWER = decode (' || l_id_swf_file_viewer_n ||
                                        ',0,:ID_SWF_FILE_VIEWER_in, NVL (:ID_SWF_FILE_VIEWER_in, ID_SWF_FILE_VIEWER)) ' || ',' ||
                                        ' VALUE_VIEWER = decode (' || l_value_viewer_n ||
                                        ',0,:VALUE_VIEWER_in, NVL (:VALUE_VIEWER_in, VALUE_VIEWER)) ' || ',' ||
                                        ' MIN_DAYS_PERIOD = decode (' || l_min_days_period_n ||
                                        ',0,:MIN_DAYS_PERIOD_in, NVL (:MIN_DAYS_PERIOD_in, MIN_DAYS_PERIOD)) ' || ',' ||
                                        ' MAX_DAYS_PERIOD = decode (' || l_max_days_period_n ||
                                        ',0,:MAX_DAYS_PERIOD_in, NVL (:MAX_DAYS_PERIOD_in, MAX_DAYS_PERIOD)) ' || ',' ||
                                        ' DEFAULT_DAYS_PERIOD = decode (' || l_default_days_period_n ||
                                        ',0,:DEFAULT_DAYS_PERIOD_in, NVL (:DEFAULT_DAYS_PERIOD_in, DEFAULT_DAYS_PERIOD)) ' || ',' ||
                                        ' FLG_EXC_SUM_PAGE_DA = decode (' || l_flg_exc_sum_page_da_n ||
                                        ',0,:FLG_EXC_SUM_PAGE_DA_in, NVL (:FLG_EXC_SUM_PAGE_DA_in, FLG_EXC_SUM_PAGE_DA)) ' || ',' ||
                                        ' FLG_GROUP_TYPE = decode (' || l_flg_group_type_n ||
                                        ',0,:FLG_GROUP_TYPE_in, NVL (:FLG_GROUP_TYPE_in, FLG_GROUP_TYPE)) ' || ',' ||
                                        ' DESC_FUNCTION = decode (' || l_desc_function_n ||
                                        ',0,:DESC_FUNCTION_in, NVL (:DESC_FUNCTION_in, DESC_FUNCTION)) ' || ' where ' ||
                                        nvl(where_in, '(1=1)') || ' RETURNING ROWID BULK COLLECT INTO :l_rows_out';
        EXECUTE IMMEDIATE 'BEGIN ' || l_sql || '; END;'
            USING IN flg_import_in, flg_select_in, flg_scope_in, rank_in, create_user_in, create_time_in, create_institution_in, update_user_in, update_time_in, update_institution_in, flg_actions_available_in, flg_line_on_boxes_in, gender_in, age_min_in, age_max_in, flg_pregnant_in, flg_outside_period_in, days_available_period_in, flg_mandatory_in, flg_cp_no_changes_import_in, flg_import_date_in, flg_group_on_import_in, id_pndb_parent_in, flg_struct_type_in, flg_show_title_in, flg_show_sub_title_in, flg_data_removable_in, auto_pop_exec_prof_cat_in, flg_focus_in, flg_editable_in, flg_group_select_filter_in, id_task_type_in, flg_order_type_in, flg_signature_in, flg_min_value_in, flg_default_value_in, flg_max_value_in, flg_format_in, flg_validation_in, id_pndb_related_in, id_swf_file_viewer_in, value_viewer_in, min_days_period_in, max_days_period_in, default_days_period_in, flg_exc_sum_page_da_in, flg_group_type_in, desc_function_in, OUT l_rows_out;
        IF (rows_out IS NULL)
        THEN
            rows_out := table_varchar();
        END IF;
        rows_out := rows_out MULTISET UNION DISTINCT l_rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    --Update any/all columns by dynamic WHERE
    -- If you pass NULL, then the current column value is set to itself
    PROCEDURE upd
    (
        flg_import_in                IN pn_dblock_mkt.flg_import%TYPE DEFAULT NULL,
        flg_import_nin               IN BOOLEAN := TRUE,
        flg_select_in                IN pn_dblock_mkt.flg_select%TYPE DEFAULT NULL,
        flg_select_nin               IN BOOLEAN := TRUE,
        flg_scope_in                 IN pn_dblock_mkt.flg_scope%TYPE DEFAULT NULL,
        flg_scope_nin                IN BOOLEAN := TRUE,
        rank_in                      IN pn_dblock_mkt.rank%TYPE DEFAULT NULL,
        rank_nin                     IN BOOLEAN := TRUE,
        create_user_in               IN pn_dblock_mkt.create_user%TYPE DEFAULT NULL,
        create_user_nin              IN BOOLEAN := TRUE,
        create_time_in               IN pn_dblock_mkt.create_time%TYPE DEFAULT NULL,
        create_time_nin              IN BOOLEAN := TRUE,
        create_institution_in        IN pn_dblock_mkt.create_institution%TYPE DEFAULT NULL,
        create_institution_nin       IN BOOLEAN := TRUE,
        update_user_in               IN pn_dblock_mkt.update_user%TYPE DEFAULT NULL,
        update_user_nin              IN BOOLEAN := TRUE,
        update_time_in               IN pn_dblock_mkt.update_time%TYPE DEFAULT NULL,
        update_time_nin              IN BOOLEAN := TRUE,
        update_institution_in        IN pn_dblock_mkt.update_institution%TYPE DEFAULT NULL,
        update_institution_nin       IN BOOLEAN := TRUE,
        flg_actions_available_in     IN pn_dblock_mkt.flg_actions_available%TYPE DEFAULT NULL,
        flg_actions_available_nin    IN BOOLEAN := TRUE,
        flg_line_on_boxes_in         IN pn_dblock_mkt.flg_line_on_boxes%TYPE DEFAULT NULL,
        flg_line_on_boxes_nin        IN BOOLEAN := TRUE,
        gender_in                    IN pn_dblock_mkt.gender%TYPE DEFAULT NULL,
        gender_nin                   IN BOOLEAN := TRUE,
        age_min_in                   IN pn_dblock_mkt.age_min%TYPE DEFAULT NULL,
        age_min_nin                  IN BOOLEAN := TRUE,
        age_max_in                   IN pn_dblock_mkt.age_max%TYPE DEFAULT NULL,
        age_max_nin                  IN BOOLEAN := TRUE,
        flg_pregnant_in              IN pn_dblock_mkt.flg_pregnant%TYPE DEFAULT NULL,
        flg_pregnant_nin             IN BOOLEAN := TRUE,
        flg_outside_period_in        IN pn_dblock_mkt.flg_outside_period%TYPE DEFAULT NULL,
        flg_outside_period_nin       IN BOOLEAN := TRUE,
        days_available_period_in     IN pn_dblock_mkt.days_available_period%TYPE DEFAULT NULL,
        days_available_period_nin    IN BOOLEAN := TRUE,
        flg_mandatory_in             IN pn_dblock_mkt.flg_mandatory%TYPE DEFAULT NULL,
        flg_mandatory_nin            IN BOOLEAN := TRUE,
        flg_cp_no_changes_import_in  IN pn_dblock_mkt.flg_cp_no_changes_import%TYPE DEFAULT NULL,
        flg_cp_no_changes_import_nin IN BOOLEAN := TRUE,
        flg_import_date_in           IN pn_dblock_mkt.flg_import_date%TYPE DEFAULT NULL,
        flg_import_date_nin          IN BOOLEAN := TRUE,
        flg_group_on_import_in       IN pn_dblock_mkt.flg_group_on_import%TYPE DEFAULT NULL,
        flg_group_on_import_nin      IN BOOLEAN := TRUE,
        id_pndb_parent_in            IN pn_dblock_mkt.id_pndb_parent%TYPE DEFAULT NULL,
        id_pndb_parent_nin           IN BOOLEAN := TRUE,
        flg_struct_type_in           IN pn_dblock_mkt.flg_struct_type%TYPE DEFAULT NULL,
        flg_struct_type_nin          IN BOOLEAN := TRUE,
        flg_show_title_in            IN pn_dblock_mkt.flg_show_title%TYPE DEFAULT NULL,
        flg_show_title_nin           IN BOOLEAN := TRUE,
        flg_show_sub_title_in        IN pn_dblock_mkt.flg_show_sub_title%TYPE DEFAULT NULL,
        flg_show_sub_title_nin       IN BOOLEAN := TRUE,
        flg_data_removable_in        IN pn_dblock_mkt.flg_data_removable%TYPE DEFAULT NULL,
        flg_data_removable_nin       IN BOOLEAN := TRUE,
        auto_pop_exec_prof_cat_in    IN pn_dblock_mkt.auto_pop_exec_prof_cat%TYPE DEFAULT NULL,
        auto_pop_exec_prof_cat_nin   IN BOOLEAN := TRUE,
        flg_focus_in                 IN pn_dblock_mkt.flg_focus%TYPE DEFAULT NULL,
        flg_focus_nin                IN BOOLEAN := TRUE,
        flg_editable_in              IN pn_dblock_mkt.flg_editable%TYPE DEFAULT NULL,
        flg_editable_nin             IN BOOLEAN := TRUE,
        flg_group_select_filter_in   IN pn_dblock_mkt.flg_group_select_filter%TYPE DEFAULT NULL,
        flg_group_select_filter_nin  IN BOOLEAN := TRUE,
        id_task_type_in              IN pn_dblock_mkt.id_task_type%TYPE DEFAULT NULL,
        id_task_type_nin             IN BOOLEAN := TRUE,
        flg_order_type_in            IN pn_dblock_mkt.flg_order_type%TYPE DEFAULT NULL,
        flg_order_type_nin           IN BOOLEAN := TRUE,
        flg_signature_in             IN pn_dblock_mkt.flg_signature%TYPE DEFAULT NULL,
        flg_signature_nin            IN BOOLEAN := TRUE,
        flg_min_value_in             IN pn_dblock_mkt.flg_min_value%TYPE DEFAULT NULL,
        flg_min_value_nin            IN BOOLEAN := TRUE,
        flg_default_value_in         IN pn_dblock_mkt.flg_default_value%TYPE DEFAULT NULL,
        flg_default_value_nin        IN BOOLEAN := TRUE,
        flg_max_value_in             IN pn_dblock_mkt.flg_max_value%TYPE DEFAULT NULL,
        flg_max_value_nin            IN BOOLEAN := TRUE,
        flg_format_in                IN pn_dblock_mkt.flg_format%TYPE DEFAULT NULL,
        flg_format_nin               IN BOOLEAN := TRUE,
        flg_validation_in            IN pn_dblock_mkt.flg_validation%TYPE DEFAULT NULL,
        flg_validation_nin           IN BOOLEAN := TRUE,
        id_pndb_related_in           IN pn_dblock_mkt.id_pndb_related%TYPE DEFAULT NULL,
        id_pndb_related_nin          IN BOOLEAN := TRUE,
        id_swf_file_viewer_in        IN pn_dblock_mkt.id_swf_file_viewer%TYPE DEFAULT NULL,
        id_swf_file_viewer_nin       IN BOOLEAN := TRUE,
        value_viewer_in              IN pn_dblock_mkt.value_viewer%TYPE DEFAULT NULL,
        value_viewer_nin             IN BOOLEAN := TRUE,
        min_days_period_in           IN pn_dblock_mkt.min_days_period%TYPE DEFAULT NULL,
        min_days_period_nin          IN BOOLEAN := TRUE,
        max_days_period_in           IN pn_dblock_mkt.max_days_period%TYPE DEFAULT NULL,
        max_days_period_nin          IN BOOLEAN := TRUE,
        default_days_period_in       IN pn_dblock_mkt.default_days_period%TYPE DEFAULT NULL,
        default_days_period_nin      IN BOOLEAN := TRUE,
        flg_exc_sum_page_da_in       IN pn_dblock_mkt.flg_exc_sum_page_da%TYPE DEFAULT NULL,
        flg_exc_sum_page_da_nin      IN BOOLEAN := TRUE,
        flg_group_type_in            IN pn_dblock_mkt.flg_group_type%TYPE DEFAULT NULL,
        flg_group_type_nin           IN BOOLEAN := TRUE,
        desc_function_in             IN pn_dblock_mkt.desc_function%TYPE DEFAULT NULL,
        desc_function_nin            IN BOOLEAN := TRUE,
        where_in                     IN VARCHAR2,
        handle_error_in              IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(flg_import_in                => flg_import_in,
            flg_import_nin               => flg_import_nin,
            flg_select_in                => flg_select_in,
            flg_select_nin               => flg_select_nin,
            flg_scope_in                 => flg_scope_in,
            flg_scope_nin                => flg_scope_nin,
            rank_in                      => rank_in,
            rank_nin                     => rank_nin,
            create_user_in               => create_user_in,
            create_user_nin              => create_user_nin,
            create_time_in               => create_time_in,
            create_time_nin              => create_time_nin,
            create_institution_in        => create_institution_in,
            create_institution_nin       => create_institution_nin,
            update_user_in               => update_user_in,
            update_user_nin              => update_user_nin,
            update_time_in               => update_time_in,
            update_time_nin              => update_time_nin,
            update_institution_in        => update_institution_in,
            update_institution_nin       => update_institution_nin,
            flg_actions_available_in     => flg_actions_available_in,
            flg_actions_available_nin    => flg_actions_available_nin,
            flg_line_on_boxes_in         => flg_line_on_boxes_in,
            flg_line_on_boxes_nin        => flg_line_on_boxes_nin,
            gender_in                    => gender_in,
            gender_nin                   => gender_nin,
            age_min_in                   => age_min_in,
            age_min_nin                  => age_min_nin,
            age_max_in                   => age_max_in,
            age_max_nin                  => age_max_nin,
            flg_pregnant_in              => flg_pregnant_in,
            flg_pregnant_nin             => flg_pregnant_nin,
            flg_outside_period_in        => flg_outside_period_in,
            flg_outside_period_nin       => flg_outside_period_nin,
            days_available_period_in     => days_available_period_in,
            days_available_period_nin    => days_available_period_nin,
            flg_mandatory_in             => flg_mandatory_in,
            flg_mandatory_nin            => flg_mandatory_nin,
            flg_cp_no_changes_import_in  => flg_cp_no_changes_import_in,
            flg_cp_no_changes_import_nin => flg_cp_no_changes_import_nin,
            flg_import_date_in           => flg_import_date_in,
            flg_import_date_nin          => flg_import_date_nin,
            flg_group_on_import_in       => flg_group_on_import_in,
            flg_group_on_import_nin      => flg_group_on_import_nin,
            id_pndb_parent_in            => id_pndb_parent_in,
            id_pndb_parent_nin           => id_pndb_parent_nin,
            flg_struct_type_in           => flg_struct_type_in,
            flg_struct_type_nin          => flg_struct_type_nin,
            flg_show_title_in            => flg_show_title_in,
            flg_show_title_nin           => flg_show_title_nin,
            flg_show_sub_title_in        => flg_show_sub_title_in,
            flg_show_sub_title_nin       => flg_show_sub_title_nin,
            flg_data_removable_in        => flg_data_removable_in,
            flg_data_removable_nin       => flg_data_removable_nin,
            auto_pop_exec_prof_cat_in    => auto_pop_exec_prof_cat_in,
            auto_pop_exec_prof_cat_nin   => auto_pop_exec_prof_cat_nin,
            flg_focus_in                 => flg_focus_in,
            flg_focus_nin                => flg_focus_nin,
            flg_editable_in              => flg_editable_in,
            flg_editable_nin             => flg_editable_nin,
            flg_group_select_filter_in   => flg_group_select_filter_in,
            flg_group_select_filter_nin  => flg_group_select_filter_nin,
            id_task_type_in              => id_task_type_in,
            id_task_type_nin             => id_task_type_nin,
            flg_order_type_in            => flg_order_type_in,
            flg_order_type_nin           => flg_order_type_nin,
            flg_signature_in             => flg_signature_in,
            flg_signature_nin            => flg_signature_nin,
            flg_min_value_in             => flg_min_value_in,
            flg_min_value_nin            => flg_min_value_nin,
            flg_default_value_in         => flg_default_value_in,
            flg_default_value_nin        => flg_default_value_nin,
            flg_max_value_in             => flg_max_value_in,
            flg_max_value_nin            => flg_max_value_nin,
            flg_format_in                => flg_format_in,
            flg_format_nin               => flg_format_nin,
            flg_validation_in            => flg_validation_in,
            flg_validation_nin           => flg_validation_nin,
            id_pndb_related_in           => id_pndb_related_in,
            id_pndb_related_nin          => id_pndb_related_nin,
            id_swf_file_viewer_in        => id_swf_file_viewer_in,
            id_swf_file_viewer_nin       => id_swf_file_viewer_nin,
            value_viewer_in              => value_viewer_in,
            value_viewer_nin             => value_viewer_nin,
            min_days_period_in           => min_days_period_in,
            min_days_period_nin          => min_days_period_nin,
            max_days_period_in           => max_days_period_in,
            max_days_period_nin          => max_days_period_nin,
            default_days_period_in       => default_days_period_in,
            default_days_period_nin      => default_days_period_nin,
            flg_exc_sum_page_da_in       => flg_exc_sum_page_da_in,
            flg_exc_sum_page_da_nin      => flg_exc_sum_page_da_nin,
            flg_group_type_in            => flg_group_type_in,
            flg_group_type_nin           => flg_group_type_nin,
            desc_function_in             => desc_function_in,
            desc_function_nin            => desc_function_nin,
            where_in                     => where_in,
            handle_error_in              => handle_error_in,
            rows_out                     => rows_out);
    END upd;

    --Update/insert columns (with rows_out)
    PROCEDURE upd_ins
    (
        id_market_in                IN pn_dblock_mkt.id_market%TYPE,
        id_pn_note_type_in          IN pn_dblock_mkt.id_pn_note_type%TYPE,
        id_pn_data_block_in         IN pn_dblock_mkt.id_pn_data_block%TYPE,
        id_software_in              IN pn_dblock_mkt.id_software%TYPE,
        id_pn_soap_block_in         IN pn_dblock_mkt.id_pn_soap_block%TYPE,
        flg_import_in               IN pn_dblock_mkt.flg_import%TYPE DEFAULT NULL,
        flg_select_in               IN pn_dblock_mkt.flg_select%TYPE DEFAULT NULL,
        flg_scope_in                IN pn_dblock_mkt.flg_scope%TYPE DEFAULT NULL,
        rank_in                     IN pn_dblock_mkt.rank%TYPE DEFAULT NULL,
        create_user_in              IN pn_dblock_mkt.create_user%TYPE DEFAULT NULL,
        create_time_in              IN pn_dblock_mkt.create_time%TYPE DEFAULT NULL,
        create_institution_in       IN pn_dblock_mkt.create_institution%TYPE DEFAULT NULL,
        update_user_in              IN pn_dblock_mkt.update_user%TYPE DEFAULT NULL,
        update_time_in              IN pn_dblock_mkt.update_time%TYPE DEFAULT NULL,
        update_institution_in       IN pn_dblock_mkt.update_institution%TYPE DEFAULT NULL,
        flg_actions_available_in    IN pn_dblock_mkt.flg_actions_available%TYPE DEFAULT NULL,
        flg_line_on_boxes_in        IN pn_dblock_mkt.flg_line_on_boxes%TYPE DEFAULT NULL,
        gender_in                   IN pn_dblock_mkt.gender%TYPE DEFAULT NULL,
        age_min_in                  IN pn_dblock_mkt.age_min%TYPE DEFAULT NULL,
        age_max_in                  IN pn_dblock_mkt.age_max%TYPE DEFAULT NULL,
        flg_pregnant_in             IN pn_dblock_mkt.flg_pregnant%TYPE DEFAULT NULL,
        flg_outside_period_in       IN pn_dblock_mkt.flg_outside_period%TYPE DEFAULT NULL,
        days_available_period_in    IN pn_dblock_mkt.days_available_period%TYPE DEFAULT NULL,
        flg_mandatory_in            IN pn_dblock_mkt.flg_mandatory%TYPE DEFAULT NULL,
        flg_cp_no_changes_import_in IN pn_dblock_mkt.flg_cp_no_changes_import%TYPE DEFAULT NULL,
        flg_import_date_in          IN pn_dblock_mkt.flg_import_date%TYPE DEFAULT NULL,
        flg_group_on_import_in      IN pn_dblock_mkt.flg_group_on_import%TYPE DEFAULT NULL,
        id_pndb_parent_in           IN pn_dblock_mkt.id_pndb_parent%TYPE DEFAULT NULL,
        flg_struct_type_in          IN pn_dblock_mkt.flg_struct_type%TYPE DEFAULT NULL,
        flg_show_title_in           IN pn_dblock_mkt.flg_show_title%TYPE DEFAULT NULL,
        flg_show_sub_title_in       IN pn_dblock_mkt.flg_show_sub_title%TYPE DEFAULT NULL,
        flg_data_removable_in       IN pn_dblock_mkt.flg_data_removable%TYPE DEFAULT NULL,
        auto_pop_exec_prof_cat_in   IN pn_dblock_mkt.auto_pop_exec_prof_cat%TYPE DEFAULT NULL,
        flg_focus_in                IN pn_dblock_mkt.flg_focus%TYPE DEFAULT NULL,
        flg_editable_in             IN pn_dblock_mkt.flg_editable%TYPE DEFAULT NULL,
        flg_group_select_filter_in  IN pn_dblock_mkt.flg_group_select_filter%TYPE DEFAULT NULL,
        id_task_type_in             IN pn_dblock_mkt.id_task_type%TYPE DEFAULT NULL,
        flg_order_type_in           IN pn_dblock_mkt.flg_order_type%TYPE DEFAULT NULL,
        flg_signature_in            IN pn_dblock_mkt.flg_signature%TYPE DEFAULT NULL,
        flg_min_value_in            IN pn_dblock_mkt.flg_min_value%TYPE DEFAULT NULL,
        flg_default_value_in        IN pn_dblock_mkt.flg_default_value%TYPE DEFAULT NULL,
        flg_max_value_in            IN pn_dblock_mkt.flg_max_value%TYPE DEFAULT NULL,
        flg_format_in               IN pn_dblock_mkt.flg_format%TYPE DEFAULT NULL,
        flg_validation_in           IN pn_dblock_mkt.flg_validation%TYPE DEFAULT NULL,
        id_pndb_related_in          IN pn_dblock_mkt.id_pndb_related%TYPE DEFAULT NULL,
        id_swf_file_viewer_in       IN pn_dblock_mkt.id_swf_file_viewer%TYPE DEFAULT NULL,
        value_viewer_in             IN pn_dblock_mkt.value_viewer%TYPE DEFAULT NULL,
        min_days_period_in          IN pn_dblock_mkt.min_days_period%TYPE DEFAULT NULL,
        max_days_period_in          IN pn_dblock_mkt.max_days_period%TYPE DEFAULT NULL,
        default_days_period_in      IN pn_dblock_mkt.default_days_period%TYPE DEFAULT NULL,
        flg_exc_sum_page_da_in      IN pn_dblock_mkt.flg_exc_sum_page_da%TYPE DEFAULT NULL,
        flg_group_type_in           IN pn_dblock_mkt.flg_group_type%TYPE DEFAULT NULL,
        desc_function_in            IN pn_dblock_mkt.desc_function%TYPE DEFAULT NULL,
        handle_error_in             IN BOOLEAN := FALSE,
        rows_out                    IN OUT table_varchar
    ) IS
    BEGIN
        upd(id_market_in                => id_market_in,
            id_pn_note_type_in          => id_pn_note_type_in,
            id_pn_data_block_in         => id_pn_data_block_in,
            id_software_in              => id_software_in,
            id_pn_soap_block_in         => id_pn_soap_block_in,
            flg_import_in               => flg_import_in,
            flg_select_in               => flg_select_in,
            flg_scope_in                => flg_scope_in,
            rank_in                     => rank_in,
            create_user_in              => create_user_in,
            create_time_in              => create_time_in,
            create_institution_in       => create_institution_in,
            update_user_in              => update_user_in,
            update_time_in              => update_time_in,
            update_institution_in       => update_institution_in,
            flg_actions_available_in    => flg_actions_available_in,
            flg_line_on_boxes_in        => flg_line_on_boxes_in,
            gender_in                   => gender_in,
            age_min_in                  => age_min_in,
            age_max_in                  => age_max_in,
            flg_pregnant_in             => flg_pregnant_in,
            flg_outside_period_in       => flg_outside_period_in,
            days_available_period_in    => days_available_period_in,
            flg_mandatory_in            => flg_mandatory_in,
            flg_cp_no_changes_import_in => flg_cp_no_changes_import_in,
            flg_import_date_in          => flg_import_date_in,
            flg_group_on_import_in      => flg_group_on_import_in,
            id_pndb_parent_in           => id_pndb_parent_in,
            flg_struct_type_in          => flg_struct_type_in,
            flg_show_title_in           => flg_show_title_in,
            flg_show_sub_title_in       => flg_show_sub_title_in,
            flg_data_removable_in       => flg_data_removable_in,
            auto_pop_exec_prof_cat_in   => auto_pop_exec_prof_cat_in,
            flg_focus_in                => flg_focus_in,
            flg_editable_in             => flg_editable_in,
            flg_group_select_filter_in  => flg_group_select_filter_in,
            id_task_type_in             => id_task_type_in,
            flg_order_type_in           => flg_order_type_in,
            flg_signature_in            => flg_signature_in,
            flg_min_value_in            => flg_min_value_in,
            flg_default_value_in        => flg_default_value_in,
            flg_max_value_in            => flg_max_value_in,
            flg_format_in               => flg_format_in,
            flg_validation_in           => flg_validation_in,
            id_pndb_related_in          => id_pndb_related_in,
            id_swf_file_viewer_in       => id_swf_file_viewer_in,
            value_viewer_in             => value_viewer_in,
            min_days_period_in          => min_days_period_in,
            max_days_period_in          => max_days_period_in,
            default_days_period_in      => default_days_period_in,
            flg_exc_sum_page_da_in      => flg_exc_sum_page_da_in,
            flg_group_type_in           => flg_group_type_in,
            desc_function_in            => desc_function_in,
            handle_error_in             => handle_error_in,
            rows_out                    => rows_out);
        IF SQL%ROWCOUNT = 0
        THEN
            ins(id_market_in                => id_market_in,
                id_pn_note_type_in          => id_pn_note_type_in,
                id_pn_data_block_in         => id_pn_data_block_in,
                id_software_in              => id_software_in,
                id_pn_soap_block_in         => id_pn_soap_block_in,
                flg_import_in               => flg_import_in,
                flg_select_in               => flg_select_in,
                flg_scope_in                => flg_scope_in,
                rank_in                     => rank_in,
                create_user_in              => create_user_in,
                create_time_in              => create_time_in,
                create_institution_in       => create_institution_in,
                update_user_in              => update_user_in,
                update_time_in              => update_time_in,
                update_institution_in       => update_institution_in,
                flg_actions_available_in    => flg_actions_available_in,
                flg_line_on_boxes_in        => flg_line_on_boxes_in,
                gender_in                   => gender_in,
                age_min_in                  => age_min_in,
                age_max_in                  => age_max_in,
                flg_pregnant_in             => flg_pregnant_in,
                flg_outside_period_in       => flg_outside_period_in,
                days_available_period_in    => days_available_period_in,
                flg_mandatory_in            => flg_mandatory_in,
                flg_cp_no_changes_import_in => flg_cp_no_changes_import_in,
                flg_import_date_in          => flg_import_date_in,
                flg_group_on_import_in      => flg_group_on_import_in,
                id_pndb_parent_in           => id_pndb_parent_in,
                flg_struct_type_in          => flg_struct_type_in,
                flg_show_title_in           => flg_show_title_in,
                flg_show_sub_title_in       => flg_show_sub_title_in,
                flg_data_removable_in       => flg_data_removable_in,
                auto_pop_exec_prof_cat_in   => auto_pop_exec_prof_cat_in,
                flg_focus_in                => flg_focus_in,
                flg_editable_in             => flg_editable_in,
                flg_group_select_filter_in  => flg_group_select_filter_in,
                id_task_type_in             => id_task_type_in,
                flg_order_type_in           => flg_order_type_in,
                flg_signature_in            => flg_signature_in,
                flg_min_value_in            => flg_min_value_in,
                flg_default_value_in        => flg_default_value_in,
                flg_max_value_in            => flg_max_value_in,
                flg_format_in               => flg_format_in,
                flg_validation_in           => flg_validation_in,
                id_pndb_related_in          => id_pndb_related_in,
                id_swf_file_viewer_in       => id_swf_file_viewer_in,
                value_viewer_in             => value_viewer_in,
                min_days_period_in          => min_days_period_in,
                max_days_period_in          => max_days_period_in,
                default_days_period_in      => default_days_period_in,
                flg_exc_sum_page_da_in      => flg_exc_sum_page_da_in,
                flg_group_type_in           => flg_group_type_in,
                desc_function_in            => desc_function_in,
                handle_error_in             => handle_error_in,
                rows_out                    => rows_out);
        END IF;
    END upd_ins;

    --Update/insert columns (without rows_out)
    PROCEDURE upd_ins
    (
        id_market_in                IN pn_dblock_mkt.id_market%TYPE,
        id_pn_note_type_in          IN pn_dblock_mkt.id_pn_note_type%TYPE,
        id_pn_data_block_in         IN pn_dblock_mkt.id_pn_data_block%TYPE,
        id_software_in              IN pn_dblock_mkt.id_software%TYPE,
        id_pn_soap_block_in         IN pn_dblock_mkt.id_pn_soap_block%TYPE,
        flg_import_in               IN pn_dblock_mkt.flg_import%TYPE DEFAULT NULL,
        flg_select_in               IN pn_dblock_mkt.flg_select%TYPE DEFAULT NULL,
        flg_scope_in                IN pn_dblock_mkt.flg_scope%TYPE DEFAULT NULL,
        rank_in                     IN pn_dblock_mkt.rank%TYPE DEFAULT NULL,
        create_user_in              IN pn_dblock_mkt.create_user%TYPE DEFAULT NULL,
        create_time_in              IN pn_dblock_mkt.create_time%TYPE DEFAULT NULL,
        create_institution_in       IN pn_dblock_mkt.create_institution%TYPE DEFAULT NULL,
        update_user_in              IN pn_dblock_mkt.update_user%TYPE DEFAULT NULL,
        update_time_in              IN pn_dblock_mkt.update_time%TYPE DEFAULT NULL,
        update_institution_in       IN pn_dblock_mkt.update_institution%TYPE DEFAULT NULL,
        flg_actions_available_in    IN pn_dblock_mkt.flg_actions_available%TYPE DEFAULT NULL,
        flg_line_on_boxes_in        IN pn_dblock_mkt.flg_line_on_boxes%TYPE DEFAULT NULL,
        gender_in                   IN pn_dblock_mkt.gender%TYPE DEFAULT NULL,
        age_min_in                  IN pn_dblock_mkt.age_min%TYPE DEFAULT NULL,
        age_max_in                  IN pn_dblock_mkt.age_max%TYPE DEFAULT NULL,
        flg_pregnant_in             IN pn_dblock_mkt.flg_pregnant%TYPE DEFAULT NULL,
        flg_outside_period_in       IN pn_dblock_mkt.flg_outside_period%TYPE DEFAULT NULL,
        days_available_period_in    IN pn_dblock_mkt.days_available_period%TYPE DEFAULT NULL,
        flg_mandatory_in            IN pn_dblock_mkt.flg_mandatory%TYPE DEFAULT NULL,
        flg_cp_no_changes_import_in IN pn_dblock_mkt.flg_cp_no_changes_import%TYPE DEFAULT NULL,
        flg_import_date_in          IN pn_dblock_mkt.flg_import_date%TYPE DEFAULT NULL,
        flg_group_on_import_in      IN pn_dblock_mkt.flg_group_on_import%TYPE DEFAULT NULL,
        id_pndb_parent_in           IN pn_dblock_mkt.id_pndb_parent%TYPE DEFAULT NULL,
        flg_struct_type_in          IN pn_dblock_mkt.flg_struct_type%TYPE DEFAULT NULL,
        flg_show_title_in           IN pn_dblock_mkt.flg_show_title%TYPE DEFAULT NULL,
        flg_show_sub_title_in       IN pn_dblock_mkt.flg_show_sub_title%TYPE DEFAULT NULL,
        flg_data_removable_in       IN pn_dblock_mkt.flg_data_removable%TYPE DEFAULT NULL,
        auto_pop_exec_prof_cat_in   IN pn_dblock_mkt.auto_pop_exec_prof_cat%TYPE DEFAULT NULL,
        flg_focus_in                IN pn_dblock_mkt.flg_focus%TYPE DEFAULT NULL,
        flg_editable_in             IN pn_dblock_mkt.flg_editable%TYPE DEFAULT NULL,
        flg_group_select_filter_in  IN pn_dblock_mkt.flg_group_select_filter%TYPE DEFAULT NULL,
        id_task_type_in             IN pn_dblock_mkt.id_task_type%TYPE DEFAULT NULL,
        flg_order_type_in           IN pn_dblock_mkt.flg_order_type%TYPE DEFAULT NULL,
        flg_signature_in            IN pn_dblock_mkt.flg_signature%TYPE DEFAULT NULL,
        flg_min_value_in            IN pn_dblock_mkt.flg_min_value%TYPE DEFAULT NULL,
        flg_default_value_in        IN pn_dblock_mkt.flg_default_value%TYPE DEFAULT NULL,
        flg_max_value_in            IN pn_dblock_mkt.flg_max_value%TYPE DEFAULT NULL,
        flg_format_in               IN pn_dblock_mkt.flg_format%TYPE DEFAULT NULL,
        flg_validation_in           IN pn_dblock_mkt.flg_validation%TYPE DEFAULT NULL,
        id_pndb_related_in          IN pn_dblock_mkt.id_pndb_related%TYPE DEFAULT NULL,
        id_swf_file_viewer_in       IN pn_dblock_mkt.id_swf_file_viewer%TYPE DEFAULT NULL,
        value_viewer_in             IN pn_dblock_mkt.value_viewer%TYPE DEFAULT NULL,
        min_days_period_in          IN pn_dblock_mkt.min_days_period%TYPE DEFAULT NULL,
        max_days_period_in          IN pn_dblock_mkt.max_days_period%TYPE DEFAULT NULL,
        default_days_period_in      IN pn_dblock_mkt.default_days_period%TYPE DEFAULT NULL,
        flg_exc_sum_page_da_in      IN pn_dblock_mkt.flg_exc_sum_page_da%TYPE DEFAULT NULL,
        flg_group_type_in           IN pn_dblock_mkt.flg_group_type%TYPE DEFAULT NULL,
        desc_function_in            IN pn_dblock_mkt.desc_function%TYPE DEFAULT NULL,
        handle_error_in             IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd_ins(id_market_in,
                id_pn_note_type_in,
                id_pn_data_block_in,
                id_software_in,
                id_pn_soap_block_in,
                flg_import_in,
                flg_select_in,
                flg_scope_in,
                rank_in,
                create_user_in,
                create_time_in,
                create_institution_in,
                update_user_in,
                update_time_in,
                update_institution_in,
                flg_actions_available_in,
                flg_line_on_boxes_in,
                gender_in,
                age_min_in,
                age_max_in,
                flg_pregnant_in,
                flg_outside_period_in,
                days_available_period_in,
                flg_mandatory_in,
                flg_cp_no_changes_import_in,
                flg_import_date_in,
                flg_group_on_import_in,
                id_pndb_parent_in,
                flg_struct_type_in,
                flg_show_title_in,
                flg_show_sub_title_in,
                flg_data_removable_in,
                auto_pop_exec_prof_cat_in,
                flg_focus_in,
                flg_editable_in,
                flg_group_select_filter_in,
                id_task_type_in,
                flg_order_type_in,
                flg_signature_in,
                flg_min_value_in,
                flg_default_value_in,
                flg_max_value_in,
                flg_format_in,
                flg_validation_in,
                id_pndb_related_in,
                id_swf_file_viewer_in,
                value_viewer_in,
                min_days_period_in,
                max_days_period_in,
                default_days_period_in,
                flg_exc_sum_page_da_in,
                flg_group_type_in,
                desc_function_in,
                handle_error_in,
                rows_out);
    END upd_ins;

    --Update by record (with rows_out)
    PROCEDURE upd
    (
        rec_in          IN pn_dblock_mkt%ROWTYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        IN OUT table_varchar
    ) IS
    BEGIN
        upd(id_market_in                => rec_in.id_market,
            id_pn_note_type_in          => rec_in.id_pn_note_type,
            id_pn_data_block_in         => rec_in.id_pn_data_block,
            id_software_in              => rec_in.id_software,
            id_pn_soap_block_in         => rec_in.id_pn_soap_block,
            flg_import_in               => rec_in.flg_import,
            flg_select_in               => rec_in.flg_select,
            flg_scope_in                => rec_in.flg_scope,
            rank_in                     => rec_in.rank,
            create_user_in              => rec_in.create_user,
            create_time_in              => rec_in.create_time,
            create_institution_in       => rec_in.create_institution,
            update_user_in              => rec_in.update_user,
            update_time_in              => rec_in.update_time,
            update_institution_in       => rec_in.update_institution,
            flg_actions_available_in    => rec_in.flg_actions_available,
            flg_line_on_boxes_in        => rec_in.flg_line_on_boxes,
            gender_in                   => rec_in.gender,
            age_min_in                  => rec_in.age_min,
            age_max_in                  => rec_in.age_max,
            flg_pregnant_in             => rec_in.flg_pregnant,
            flg_outside_period_in       => rec_in.flg_outside_period,
            days_available_period_in    => rec_in.days_available_period,
            flg_mandatory_in            => rec_in.flg_mandatory,
            flg_cp_no_changes_import_in => rec_in.flg_cp_no_changes_import,
            flg_import_date_in          => rec_in.flg_import_date,
            flg_group_on_import_in      => rec_in.flg_group_on_import,
            id_pndb_parent_in           => rec_in.id_pndb_parent,
            flg_struct_type_in          => rec_in.flg_struct_type,
            flg_show_title_in           => rec_in.flg_show_title,
            flg_show_sub_title_in       => rec_in.flg_show_sub_title,
            flg_data_removable_in       => rec_in.flg_data_removable,
            auto_pop_exec_prof_cat_in   => rec_in.auto_pop_exec_prof_cat,
            flg_focus_in                => rec_in.flg_focus,
            flg_editable_in             => rec_in.flg_editable,
            flg_group_select_filter_in  => rec_in.flg_group_select_filter,
            id_task_type_in             => rec_in.id_task_type,
            flg_order_type_in           => rec_in.flg_order_type,
            flg_signature_in            => rec_in.flg_signature,
            flg_min_value_in            => rec_in.flg_min_value,
            flg_default_value_in        => rec_in.flg_default_value,
            flg_max_value_in            => rec_in.flg_max_value,
            flg_format_in               => rec_in.flg_format,
            flg_validation_in           => rec_in.flg_validation,
            id_pndb_related_in          => rec_in.id_pndb_related,
            id_swf_file_viewer_in       => rec_in.id_swf_file_viewer,
            value_viewer_in             => rec_in.value_viewer,
            min_days_period_in          => rec_in.min_days_period,
            max_days_period_in          => rec_in.max_days_period,
            default_days_period_in      => rec_in.default_days_period,
            flg_exc_sum_page_da_in      => rec_in.flg_exc_sum_page_da,
            flg_group_type_in           => rec_in.flg_group_type,
            desc_function_in            => rec_in.desc_function,
            handle_error_in             => handle_error_in,
            rows_out                    => rows_out);
    END upd;

    --Update by record (without rows_out)
    PROCEDURE upd
    (
        rec_in          IN pn_dblock_mkt%ROWTYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(id_market_in                => rec_in.id_market,
            id_pn_note_type_in          => rec_in.id_pn_note_type,
            id_pn_data_block_in         => rec_in.id_pn_data_block,
            id_software_in              => rec_in.id_software,
            id_pn_soap_block_in         => rec_in.id_pn_soap_block,
            flg_import_in               => rec_in.flg_import,
            flg_select_in               => rec_in.flg_select,
            flg_scope_in                => rec_in.flg_scope,
            rank_in                     => rec_in.rank,
            create_user_in              => rec_in.create_user,
            create_time_in              => rec_in.create_time,
            create_institution_in       => rec_in.create_institution,
            update_user_in              => rec_in.update_user,
            update_time_in              => rec_in.update_time,
            update_institution_in       => rec_in.update_institution,
            flg_actions_available_in    => rec_in.flg_actions_available,
            flg_line_on_boxes_in        => rec_in.flg_line_on_boxes,
            gender_in                   => rec_in.gender,
            age_min_in                  => rec_in.age_min,
            age_max_in                  => rec_in.age_max,
            flg_pregnant_in             => rec_in.flg_pregnant,
            flg_outside_period_in       => rec_in.flg_outside_period,
            days_available_period_in    => rec_in.days_available_period,
            flg_mandatory_in            => rec_in.flg_mandatory,
            flg_cp_no_changes_import_in => rec_in.flg_cp_no_changes_import,
            flg_import_date_in          => rec_in.flg_import_date,
            flg_group_on_import_in      => rec_in.flg_group_on_import,
            id_pndb_parent_in           => rec_in.id_pndb_parent,
            flg_struct_type_in          => rec_in.flg_struct_type,
            flg_show_title_in           => rec_in.flg_show_title,
            flg_show_sub_title_in       => rec_in.flg_show_sub_title,
            flg_data_removable_in       => rec_in.flg_data_removable,
            auto_pop_exec_prof_cat_in   => rec_in.auto_pop_exec_prof_cat,
            flg_focus_in                => rec_in.flg_focus,
            flg_editable_in             => rec_in.flg_editable,
            flg_group_select_filter_in  => rec_in.flg_group_select_filter,
            id_task_type_in             => rec_in.id_task_type,
            flg_order_type_in           => rec_in.flg_order_type,
            flg_signature_in            => rec_in.flg_signature,
            flg_min_value_in            => rec_in.flg_min_value,
            flg_default_value_in        => rec_in.flg_default_value,
            flg_max_value_in            => rec_in.flg_max_value,
            flg_format_in               => rec_in.flg_format,
            flg_validation_in           => rec_in.flg_validation,
            id_pndb_related_in          => rec_in.id_pndb_related,
            id_swf_file_viewer_in       => rec_in.id_swf_file_viewer,
            value_viewer_in             => rec_in.value_viewer,
            min_days_period_in          => rec_in.min_days_period,
            max_days_period_in          => rec_in.max_days_period,
            default_days_period_in      => rec_in.default_days_period,
            flg_exc_sum_page_da_in      => rec_in.flg_exc_sum_page_da,
            flg_group_type_in           => rec_in.flg_group_type,
            desc_function_in            => rec_in.desc_function,
            handle_error_in             => handle_error_in,
            rows_out                    => rows_out);
    END upd;

    --Update with collection (with rows_out)
    PROCEDURE upd
    (
        col_in            IN pn_dblock_mkt_tc,
        ignore_if_null_in IN BOOLEAN := TRUE,
        handle_error_in   IN BOOLEAN := FALSE,
        rows_out          IN OUT table_varchar
    ) IS
        l_id_market                id_market_cc;
        l_id_pn_note_type          id_pn_note_type_cc;
        l_id_pn_data_block         id_pn_data_block_cc;
        l_id_software              id_software_cc;
        l_id_pn_soap_block         id_pn_soap_block_cc;
        l_flg_import               flg_import_cc;
        l_flg_select               flg_select_cc;
        l_flg_scope                flg_scope_cc;
        l_rank                     rank_cc;
        l_create_user              create_user_cc;
        l_create_time              create_time_cc;
        l_create_institution       create_institution_cc;
        l_update_user              update_user_cc;
        l_update_time              update_time_cc;
        l_update_institution       update_institution_cc;
        l_flg_actions_available    flg_actions_available_cc;
        l_flg_line_on_boxes        flg_line_on_boxes_cc;
        l_gender                   gender_cc;
        l_age_min                  age_min_cc;
        l_age_max                  age_max_cc;
        l_flg_pregnant             flg_pregnant_cc;
        l_flg_outside_period       flg_outside_period_cc;
        l_days_available_period    days_available_period_cc;
        l_flg_mandatory            flg_mandatory_cc;
        l_flg_cp_no_changes_import flg_cp_no_changes_import_cc;
        l_flg_import_date          flg_import_date_cc;
        l_flg_group_on_import      flg_group_on_import_cc;
        l_id_pndb_parent           id_pndb_parent_cc;
        l_flg_struct_type          flg_struct_type_cc;
        l_flg_show_title           flg_show_title_cc;
        l_flg_show_sub_title       flg_show_sub_title_cc;
        l_flg_data_removable       flg_data_removable_cc;
        l_auto_pop_exec_prof_cat   auto_pop_exec_prof_cat_cc;
        l_flg_focus                flg_focus_cc;
        l_flg_editable             flg_editable_cc;
        l_flg_group_select_filter  flg_group_select_filter_cc;
        l_id_task_type             id_task_type_cc;
        l_flg_order_type           flg_order_type_cc;
        l_flg_signature            flg_signature_cc;
        l_flg_min_value            flg_min_value_cc;
        l_flg_default_value        flg_default_value_cc;
        l_flg_max_value            flg_max_value_cc;
        l_flg_format               flg_format_cc;
        l_flg_validation           flg_validation_cc;
        l_id_pndb_related          id_pndb_related_cc;
        l_id_swf_file_viewer       id_swf_file_viewer_cc;
        l_value_viewer             value_viewer_cc;
        l_min_days_period          min_days_period_cc;
        l_max_days_period          max_days_period_cc;
        l_default_days_period      default_days_period_cc;
        l_flg_exc_sum_page_da      flg_exc_sum_page_da_cc;
        l_flg_group_type           flg_group_type_cc;
        l_desc_function            desc_function_cc;
    BEGIN
        FOR i IN col_in.first .. col_in.last
        LOOP
            l_id_market(i) := col_in(i).id_market;
            l_id_pn_note_type(i) := col_in(i).id_pn_note_type;
            l_id_pn_data_block(i) := col_in(i).id_pn_data_block;
            l_id_software(i) := col_in(i).id_software;
            l_id_pn_soap_block(i) := col_in(i).id_pn_soap_block;
            l_flg_import(i) := col_in(i).flg_import;
            l_flg_select(i) := col_in(i).flg_select;
            l_flg_scope(i) := col_in(i).flg_scope;
            l_rank(i) := col_in(i).rank;
            l_create_user(i) := col_in(i).create_user;
            l_create_time(i) := col_in(i).create_time;
            l_create_institution(i) := col_in(i).create_institution;
            l_update_user(i) := col_in(i).update_user;
            l_update_time(i) := col_in(i).update_time;
            l_update_institution(i) := col_in(i).update_institution;
            l_flg_actions_available(i) := col_in(i).flg_actions_available;
            l_flg_line_on_boxes(i) := col_in(i).flg_line_on_boxes;
            l_gender(i) := col_in(i).gender;
            l_age_min(i) := col_in(i).age_min;
            l_age_max(i) := col_in(i).age_max;
            l_flg_pregnant(i) := col_in(i).flg_pregnant;
            l_flg_outside_period(i) := col_in(i).flg_outside_period;
            l_days_available_period(i) := col_in(i).days_available_period;
            l_flg_mandatory(i) := col_in(i).flg_mandatory;
            l_flg_cp_no_changes_import(i) := col_in(i).flg_cp_no_changes_import;
            l_flg_import_date(i) := col_in(i).flg_import_date;
            l_flg_group_on_import(i) := col_in(i).flg_group_on_import;
            l_id_pndb_parent(i) := col_in(i).id_pndb_parent;
            l_flg_struct_type(i) := col_in(i).flg_struct_type;
            l_flg_show_title(i) := col_in(i).flg_show_title;
            l_flg_show_sub_title(i) := col_in(i).flg_show_sub_title;
            l_flg_data_removable(i) := col_in(i).flg_data_removable;
            l_auto_pop_exec_prof_cat(i) := col_in(i).auto_pop_exec_prof_cat;
            l_flg_focus(i) := col_in(i).flg_focus;
            l_flg_editable(i) := col_in(i).flg_editable;
            l_flg_group_select_filter(i) := col_in(i).flg_group_select_filter;
            l_id_task_type(i) := col_in(i).id_task_type;
            l_flg_order_type(i) := col_in(i).flg_order_type;
            l_flg_signature(i) := col_in(i).flg_signature;
            l_flg_min_value(i) := col_in(i).flg_min_value;
            l_flg_default_value(i) := col_in(i).flg_default_value;
            l_flg_max_value(i) := col_in(i).flg_max_value;
            l_flg_format(i) := col_in(i).flg_format;
            l_flg_validation(i) := col_in(i).flg_validation;
            l_id_pndb_related(i) := col_in(i).id_pndb_related;
            l_id_swf_file_viewer(i) := col_in(i).id_swf_file_viewer;
            l_value_viewer(i) := col_in(i).value_viewer;
            l_min_days_period(i) := col_in(i).min_days_period;
            l_max_days_period(i) := col_in(i).max_days_period;
            l_default_days_period(i) := col_in(i).default_days_period;
            l_flg_exc_sum_page_da(i) := col_in(i).flg_exc_sum_page_da;
            l_flg_group_type(i) := col_in(i).flg_group_type;
            l_desc_function(i) := col_in(i).desc_function;
        END LOOP;
        IF nvl(ignore_if_null_in, FALSE)
        THEN
            -- Set any columns to their current values
            -- if incoming value is NULL.
            -- Put WHEN clause on column-level triggers!
            FORALL i IN col_in.first .. col_in.last
                UPDATE pn_dblock_mkt
                   SET flg_import               = nvl(l_flg_import(i), flg_import),
                       flg_select               = nvl(l_flg_select(i), flg_select),
                       flg_scope                = nvl(l_flg_scope(i), flg_scope),
                       rank                     = nvl(l_rank(i), rank),
                       create_user              = nvl(l_create_user(i), create_user),
                       create_time              = nvl(l_create_time(i), create_time),
                       create_institution       = nvl(l_create_institution(i), create_institution),
                       update_user              = nvl(l_update_user(i), update_user),
                       update_time              = nvl(l_update_time(i), update_time),
                       update_institution       = nvl(l_update_institution(i), update_institution),
                       flg_actions_available    = nvl(l_flg_actions_available(i), flg_actions_available),
                       flg_line_on_boxes        = nvl(l_flg_line_on_boxes(i), flg_line_on_boxes),
                       gender                   = nvl(l_gender(i), gender),
                       age_min                  = nvl(l_age_min(i), age_min),
                       age_max                  = nvl(l_age_max(i), age_max),
                       flg_pregnant             = nvl(l_flg_pregnant(i), flg_pregnant),
                       flg_outside_period       = nvl(l_flg_outside_period(i), flg_outside_period),
                       days_available_period    = nvl(l_days_available_period(i), days_available_period),
                       flg_mandatory            = nvl(l_flg_mandatory(i), flg_mandatory),
                       flg_cp_no_changes_import = nvl(l_flg_cp_no_changes_import(i), flg_cp_no_changes_import),
                       flg_import_date          = nvl(l_flg_import_date(i), flg_import_date),
                       flg_group_on_import      = nvl(l_flg_group_on_import(i), flg_group_on_import),
                       id_pndb_parent           = nvl(l_id_pndb_parent(i), id_pndb_parent),
                       flg_struct_type          = nvl(l_flg_struct_type(i), flg_struct_type),
                       flg_show_title           = nvl(l_flg_show_title(i), flg_show_title),
                       flg_show_sub_title       = nvl(l_flg_show_sub_title(i), flg_show_sub_title),
                       flg_data_removable       = nvl(l_flg_data_removable(i), flg_data_removable),
                       auto_pop_exec_prof_cat   = nvl(l_auto_pop_exec_prof_cat(i), auto_pop_exec_prof_cat),
                       flg_focus                = nvl(l_flg_focus(i), flg_focus),
                       flg_editable             = nvl(l_flg_editable(i), flg_editable),
                       flg_group_select_filter  = nvl(l_flg_group_select_filter(i), flg_group_select_filter),
                       id_task_type             = nvl(l_id_task_type(i), id_task_type),
                       flg_order_type           = nvl(l_flg_order_type(i), flg_order_type),
                       flg_signature            = nvl(l_flg_signature(i), flg_signature),
                       flg_min_value            = nvl(l_flg_min_value(i), flg_min_value),
                       flg_default_value        = nvl(l_flg_default_value(i), flg_default_value),
                       flg_max_value            = nvl(l_flg_max_value(i), flg_max_value),
                       flg_format               = nvl(l_flg_format(i), flg_format),
                       flg_validation           = nvl(l_flg_validation(i), flg_validation),
                       id_pndb_related          = nvl(l_id_pndb_related(i), id_pndb_related),
                       id_swf_file_viewer       = nvl(l_id_swf_file_viewer(i), id_swf_file_viewer),
                       value_viewer             = nvl(l_value_viewer(i), value_viewer),
                       min_days_period          = nvl(l_min_days_period(i), min_days_period),
                       max_days_period          = nvl(l_max_days_period(i), max_days_period),
                       default_days_period      = nvl(l_default_days_period(i), default_days_period),
                       flg_exc_sum_page_da      = nvl(l_flg_exc_sum_page_da(i), flg_exc_sum_page_da),
                       flg_group_type           = nvl(l_flg_group_type(i), flg_group_type),
                       desc_function            = nvl(l_desc_function(i), desc_function)
                 WHERE id_market = l_id_market(i)
                   AND id_pn_note_type = l_id_pn_note_type(i)
                   AND id_pn_data_block = l_id_pn_data_block(i)
                   AND id_software = l_id_software(i)
                   AND id_pn_soap_block = l_id_pn_soap_block(i)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        ELSE
            FORALL i IN col_in.first .. col_in.last
                UPDATE pn_dblock_mkt
                   SET flg_import               = l_flg_import(i),
                       flg_select               = l_flg_select(i),
                       flg_scope                = l_flg_scope(i),
                       rank                     = l_rank(i),
                       create_user              = l_create_user(i),
                       create_time              = l_create_time(i),
                       create_institution       = l_create_institution(i),
                       update_user              = l_update_user(i),
                       update_time              = l_update_time(i),
                       update_institution       = l_update_institution(i),
                       flg_actions_available    = l_flg_actions_available(i),
                       flg_line_on_boxes        = l_flg_line_on_boxes(i),
                       gender                   = l_gender(i),
                       age_min                  = l_age_min(i),
                       age_max                  = l_age_max(i),
                       flg_pregnant             = l_flg_pregnant(i),
                       flg_outside_period       = l_flg_outside_period(i),
                       days_available_period    = l_days_available_period(i),
                       flg_mandatory            = l_flg_mandatory(i),
                       flg_cp_no_changes_import = l_flg_cp_no_changes_import(i),
                       flg_import_date          = l_flg_import_date(i),
                       flg_group_on_import      = l_flg_group_on_import(i),
                       id_pndb_parent           = l_id_pndb_parent(i),
                       flg_struct_type          = l_flg_struct_type(i),
                       flg_show_title           = l_flg_show_title(i),
                       flg_show_sub_title       = l_flg_show_sub_title(i),
                       flg_data_removable       = l_flg_data_removable(i),
                       auto_pop_exec_prof_cat   = l_auto_pop_exec_prof_cat(i),
                       flg_focus                = l_flg_focus(i),
                       flg_editable             = l_flg_editable(i),
                       flg_group_select_filter  = l_flg_group_select_filter(i),
                       id_task_type             = l_id_task_type(i),
                       flg_order_type           = l_flg_order_type(i),
                       flg_signature            = l_flg_signature(i),
                       flg_min_value            = l_flg_min_value(i),
                       flg_default_value        = l_flg_default_value(i),
                       flg_max_value            = l_flg_max_value(i),
                       flg_format               = l_flg_format(i),
                       flg_validation           = l_flg_validation(i),
                       id_pndb_related          = l_id_pndb_related(i),
                       id_swf_file_viewer       = l_id_swf_file_viewer(i),
                       value_viewer             = l_value_viewer(i),
                       min_days_period          = l_min_days_period(i),
                       max_days_period          = l_max_days_period(i),
                       default_days_period      = l_default_days_period(i),
                       flg_exc_sum_page_da      = l_flg_exc_sum_page_da(i),
                       flg_group_type           = l_flg_group_type(i),
                       desc_function            = l_desc_function(i)
                 WHERE id_market = l_id_market(i)
                   AND id_pn_note_type = l_id_pn_note_type(i)
                   AND id_pn_data_block = l_id_pn_data_block(i)
                   AND id_software = l_id_software(i)
                   AND id_pn_soap_block = l_id_pn_soap_block(i)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        END IF;
    
    EXCEPTION
        WHEN e_forall_error THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                FOR indx IN 1 .. SQL%bulk_exceptions.count
                LOOP
                    pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
                END LOOP;
            END IF;
        WHEN OTHERS THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    --Update with collection (without rows_out)
    PROCEDURE upd
    (
        col_in            IN pn_dblock_mkt_tc,
        ignore_if_null_in IN BOOLEAN := TRUE,
        handle_error_in   IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(col_in, ignore_if_null_in, handle_error_in, rows_out);
    END upd;

    --Dynamic update string
    FUNCTION dynupdstr
    (
        colname_in IN all_tab_columns.column_name%TYPE,
        where_in   IN VARCHAR2 := NULL
    ) RETURN VARCHAR2 IS
    BEGIN
        RETURN 'BEGIN UPDATE pn_dblock_mkt
SET ' || colname_in || ' = :value
 WHERE ' || nvl(where_in, '1=1') || ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;';
    END dynupdstr;

    -- Use Native Dynamic SQL increment a single NUMBER column
    -- for all rows specified by the dynamic WHERE clause (with rows_out)
    PROCEDURE increment_onecol
    (
        colname_in         IN all_tab_columns.column_name%TYPE,
        where_in           IN VARCHAR2,
        increment_value_in IN NUMBER DEFAULT 1,
        handle_error_in    IN BOOLEAN := FALSE,
        rows_out           OUT table_varchar
    ) IS
    BEGIN
        EXECUTE IMMEDIATE 'BEGIN UPDATE pn_dblock_mkt
SET ' || colname_in || '=' || colname_in || '+' || nvl(increment_value_in, 1) || ' WHERE ' ||
                          nvl(where_in, '1=1') || ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;'
            USING OUT rows_out;
    END increment_onecol;

    -- Use Native Dynamic SQL increment a single NUMBER column
    -- for all rows specified by the dynamic WHERE clause (without rows_out)
    PROCEDURE increment_onecol
    (
        colname_in         IN all_tab_columns.column_name%TYPE,
        where_in           IN VARCHAR2,
        increment_value_in IN NUMBER DEFAULT 1,
        handle_error_in    IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        EXECUTE IMMEDIATE 'UPDATE pn_dblock_mkt
SET ' || colname_in || '=' || colname_in || '+' || nvl(increment_value_in, 1) || ' WHERE ' ||
                          nvl(where_in, '1=1');
    END increment_onecol;

    -- Delete one row by primary key
    PROCEDURE del
    (
        id_market_in        IN pn_dblock_mkt.id_market%TYPE,
        id_pn_note_type_in  IN pn_dblock_mkt.id_pn_note_type%TYPE,
        id_pn_data_block_in IN pn_dblock_mkt.id_pn_data_block%TYPE,
        id_software_in      IN pn_dblock_mkt.id_software%TYPE,
        id_pn_soap_block_in IN pn_dblock_mkt.id_pn_soap_block%TYPE,
        handle_error_in     IN BOOLEAN := FALSE,
        rows_out            OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pn_dblock_mkt
         WHERE id_market = id_market_in
           AND id_pn_note_type = id_pn_note_type_in
           AND id_pn_data_block = id_pn_data_block_in
           AND id_software = id_software_in
           AND id_pn_soap_block = id_pn_soap_block_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del;

    -- Delete one row by primary key
    PROCEDURE del
    (
        id_market_in        IN pn_dblock_mkt.id_market%TYPE,
        id_pn_note_type_in  IN pn_dblock_mkt.id_pn_note_type%TYPE,
        id_pn_data_block_in IN pn_dblock_mkt.id_pn_data_block%TYPE,
        id_software_in      IN pn_dblock_mkt.id_software%TYPE,
        id_pn_soap_block_in IN pn_dblock_mkt.id_pn_soap_block%TYPE,
        handle_error_in     IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del(id_market_in        => id_market_in,
            id_pn_note_type_in  => id_pn_note_type_in,
            id_pn_data_block_in => id_pn_data_block_in,
            id_software_in      => id_software_in,
            id_pn_soap_block_in => id_pn_soap_block_in,
            handle_error_in     => handle_error_in,
            rows_out            => rows_out);
    END del;

    -- Delete all rows for this PDBM_DBPRNT_FK foreign key value
    PROCEDURE del_pdbm_dbprnt_fk
    (
        id_pndb_parent_in IN pn_dblock_mkt.id_pndb_parent%TYPE,
        handle_error_in   IN BOOLEAN := FALSE,
        rows_out          OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pn_dblock_mkt
         WHERE id_pndb_parent = id_pndb_parent_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pdbm_dbprnt_fk;

    -- Delete all rows for this PDM_MRK_FK foreign key value
    PROCEDURE del_pdm_mrk_fk
    (
        id_market_in    IN pn_dblock_mkt.id_market%TYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pn_dblock_mkt
         WHERE id_market = id_market_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pdm_mrk_fk;

    -- Delete all rows for this PDM_PNDB_FK foreign key value
    PROCEDURE del_pdm_pndb_fk
    (
        id_pn_data_block_in IN pn_dblock_mkt.id_pn_data_block%TYPE,
        handle_error_in     IN BOOLEAN := FALSE,
        rows_out            OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pn_dblock_mkt
         WHERE id_pn_data_block = id_pn_data_block_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pdm_pndb_fk;

    -- Delete all rows for this PDM_PNSB_FK foreign key value
    PROCEDURE del_pdm_pnsb_fk
    (
        id_pn_soap_block_in IN pn_dblock_mkt.id_pn_soap_block%TYPE,
        handle_error_in     IN BOOLEAN := FALSE,
        rows_out            OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pn_dblock_mkt
         WHERE id_pn_soap_block = id_pn_soap_block_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pdm_pnsb_fk;

    -- Delete all rows for this PDM_S_FK foreign key value
    PROCEDURE del_pdm_s_fk
    (
        id_software_in  IN pn_dblock_mkt.id_software%TYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pn_dblock_mkt
         WHERE id_software = id_software_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pdm_s_fk;

    -- Delete all rows for this PNDBM_TT_FK foreign key value
    PROCEDURE del_pndbm_tt_fk
    (
        id_task_type_in IN pn_dblock_mkt.id_task_type%TYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM pn_dblock_mkt
         WHERE id_task_type = id_task_type_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_pndbm_tt_fk;

    -- Delete all rows for this PDBM_DBPRNT_FK foreign key value
    PROCEDURE del_pdbm_dbprnt_fk
    (
        id_pndb_parent_in IN pn_dblock_mkt.id_pndb_parent%TYPE,
        handle_error_in   IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pdbm_dbprnt_fk(id_pndb_parent_in => id_pndb_parent_in,
                           handle_error_in   => handle_error_in,
                           rows_out          => rows_out);
    END del_pdbm_dbprnt_fk;

    -- Delete all rows for this PDM_MRK_FK foreign key value
    PROCEDURE del_pdm_mrk_fk
    (
        id_market_in    IN pn_dblock_mkt.id_market%TYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pdm_mrk_fk(id_market_in => id_market_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_pdm_mrk_fk;

    -- Delete all rows for this PDM_PNDB_FK foreign key value
    PROCEDURE del_pdm_pndb_fk
    (
        id_pn_data_block_in IN pn_dblock_mkt.id_pn_data_block%TYPE,
        handle_error_in     IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pdm_pndb_fk(id_pn_data_block_in => id_pn_data_block_in,
                        handle_error_in     => handle_error_in,
                        rows_out            => rows_out);
    END del_pdm_pndb_fk;

    -- Delete all rows for this PDM_PNSB_FK foreign key value
    PROCEDURE del_pdm_pnsb_fk
    (
        id_pn_soap_block_in IN pn_dblock_mkt.id_pn_soap_block%TYPE,
        handle_error_in     IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pdm_pnsb_fk(id_pn_soap_block_in => id_pn_soap_block_in,
                        handle_error_in     => handle_error_in,
                        rows_out            => rows_out);
    END del_pdm_pnsb_fk;

    -- Delete all rows for this PDM_S_FK foreign key value
    PROCEDURE del_pdm_s_fk
    (
        id_software_in  IN pn_dblock_mkt.id_software%TYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pdm_s_fk(id_software_in => id_software_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_pdm_s_fk;

    -- Delete all rows for this PNDBM_TT_FK foreign key value
    PROCEDURE del_pndbm_tt_fk
    (
        id_task_type_in IN pn_dblock_mkt.id_task_type%TYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_pndbm_tt_fk(id_task_type_in => id_task_type_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_pndbm_tt_fk;

    -- Deletions using dynamic SQL
    FUNCTION dyndelstr(where_in IN VARCHAR2) RETURN VARCHAR2 IS
    BEGIN
        IF where_in IS NULL
        THEN
            RETURN 'DELETE FROM pn_dblock_mkt';
        ELSE
            RETURN 'DELETE FROM pn_dblock_mkt WHERE ' || where_in;
        END IF;
    END dyndelstr;
    -- Delete all rows specified by dynamic WHERE clause
    PROCEDURE del_by
    (
        where_clause_in IN VARCHAR2,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        EXECUTE IMMEDIATE 'BEGIN ' || dyndelstr(where_clause_in) ||
                          ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;'
            USING OUT rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_by;

    -- Delete all rows specified by dynamic WHERE clause
    PROCEDURE del_by
    (
        where_clause_in IN VARCHAR2,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
    BEGIN
        EXECUTE IMMEDIATE dyndelstr(where_clause_in);
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_by;

    -- Initialize a record with default values for columns in the table (prc)
    PROCEDURE initrec(pn_dblock_mkt_inout IN OUT pn_dblock_mkt%ROWTYPE) IS
    BEGIN
        pn_dblock_mkt_inout.id_market                := NULL;
        pn_dblock_mkt_inout.id_pn_note_type          := NULL;
        pn_dblock_mkt_inout.id_pn_data_block         := NULL;
        pn_dblock_mkt_inout.id_software              := NULL;
        pn_dblock_mkt_inout.id_pn_soap_block         := NULL;
        pn_dblock_mkt_inout.flg_import               := NULL;
        pn_dblock_mkt_inout.flg_select               := NULL;
        pn_dblock_mkt_inout.flg_scope                := NULL;
        pn_dblock_mkt_inout.rank                     := NULL;
        pn_dblock_mkt_inout.create_user              := NULL;
        pn_dblock_mkt_inout.create_time              := NULL;
        pn_dblock_mkt_inout.create_institution       := NULL;
        pn_dblock_mkt_inout.update_user              := NULL;
        pn_dblock_mkt_inout.update_time              := NULL;
        pn_dblock_mkt_inout.update_institution       := NULL;
        pn_dblock_mkt_inout.flg_actions_available    := NULL;
        pn_dblock_mkt_inout.flg_line_on_boxes        := NULL;
        pn_dblock_mkt_inout.gender                   := NULL;
        pn_dblock_mkt_inout.age_min                  := NULL;
        pn_dblock_mkt_inout.age_max                  := NULL;
        pn_dblock_mkt_inout.flg_pregnant             := NULL;
        pn_dblock_mkt_inout.flg_outside_period       := NULL;
        pn_dblock_mkt_inout.days_available_period    := NULL;
        pn_dblock_mkt_inout.flg_mandatory            := NULL;
        pn_dblock_mkt_inout.flg_cp_no_changes_import := NULL;
        pn_dblock_mkt_inout.flg_import_date          := NULL;
        pn_dblock_mkt_inout.flg_group_on_import      := NULL;
        pn_dblock_mkt_inout.id_pndb_parent           := NULL;
        pn_dblock_mkt_inout.flg_struct_type          := NULL;
        pn_dblock_mkt_inout.flg_show_title           := NULL;
        pn_dblock_mkt_inout.flg_show_sub_title       := NULL;
        pn_dblock_mkt_inout.flg_data_removable       := NULL;
        pn_dblock_mkt_inout.auto_pop_exec_prof_cat   := NULL;
        pn_dblock_mkt_inout.flg_focus                := NULL;
        pn_dblock_mkt_inout.flg_editable             := NULL;
        pn_dblock_mkt_inout.flg_group_select_filter  := NULL;
        pn_dblock_mkt_inout.id_task_type             := NULL;
        pn_dblock_mkt_inout.flg_order_type           := NULL;
        pn_dblock_mkt_inout.flg_signature            := NULL;
        pn_dblock_mkt_inout.flg_min_value            := NULL;
        pn_dblock_mkt_inout.flg_default_value        := NULL;
        pn_dblock_mkt_inout.flg_max_value            := NULL;
        pn_dblock_mkt_inout.flg_format               := NULL;
        pn_dblock_mkt_inout.flg_validation           := NULL;
        pn_dblock_mkt_inout.id_pndb_related          := NULL;
        pn_dblock_mkt_inout.id_swf_file_viewer       := NULL;
        pn_dblock_mkt_inout.value_viewer             := NULL;
        pn_dblock_mkt_inout.min_days_period          := NULL;
        pn_dblock_mkt_inout.max_days_period          := NULL;
        pn_dblock_mkt_inout.default_days_period      := NULL;
        pn_dblock_mkt_inout.flg_exc_sum_page_da      := NULL;
        pn_dblock_mkt_inout.flg_group_type           := NULL;
        pn_dblock_mkt_inout.desc_function            := NULL;
    END initrec;

    -- Initialize a record with default values for columns in the table (fnc)
    FUNCTION initrec RETURN pn_dblock_mkt%ROWTYPE IS
        l_pn_dblock_mkt pn_dblock_mkt%ROWTYPE;
    BEGIN
        RETURN l_pn_dblock_mkt;
    END initrec;

    --get data from rowid
    FUNCTION get_data_rowid(rows_in IN table_varchar) RETURN pn_dblock_mkt_tc IS
        data pn_dblock_mkt_tc;
    BEGIN
        SELECT *
          BULK COLLECT
          INTO data
          FROM pn_dblock_mkt
         WHERE ROWID IN (SELECT /*+ OPT_ESTIMATE(TABLE t ROWS=1) */
                          *
                           FROM TABLE(rows_in) t);
        RETURN data;
    END get_data_rowid;

    --get data from rowid (pragma autonomous transacion)
    FUNCTION get_data_rowid_pat(rows_in IN table_varchar) RETURN pn_dblock_mkt_tc IS
        data pn_dblock_mkt_tc;
        PRAGMA AUTONOMOUS_TRANSACTION;
    BEGIN
        data := get_data_rowid(rows_in);
        COMMIT;
        RETURN data;
    
    EXCEPTION
        WHEN OTHERS THEN
            pk_alert_exceptions.raise_error(error_name_in => 'get_data_rowid_pat');
            ROLLBACK;
        
    END get_data_rowid_pat;

BEGIN
    NULL;
END ts_pn_dblock_mkt;
/

