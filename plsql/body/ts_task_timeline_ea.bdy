/*-- Last Change Revision: $Rev: 2028402 $*/
/*-- Last Change by: $Author: mario.fernandes $*/
/*-- Date of last change: $Date: 2022-08-02 18:45:33 +0100 (ter, 02 ago 2022) $*/
CREATE OR REPLACE PACKAGE BODY ts_task_timeline_ea
/*
| Generated by or retrieved - DO NOT MODIFY!
| Created On: 2021-11-10 11:59:02
| Created By: ALERT
*/
 IS

    e_null_column_value EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_null_column_value, -1400);

    e_existing_fky_reference EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_existing_fky_reference, -2266);

    e_check_constraint_failure EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_check_constraint_failure, -2290);

    e_no_parent_key EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_no_parent_key, -2291);

    e_child_record_found EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_child_record_found, -2292);

    e_forall_error EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_forall_error, -24381);

    -- Defined for backward compatibilty.
    e_integ_constraint_failure EXCEPTION;
    PRAGMA EXCEPTION_INIT(e_integ_constraint_failure, -2291);

    PROCEDURE ins
    (
        id_tl_task_in             IN task_timeline_ea.id_tl_task%TYPE,
        id_task_refid_in          IN task_timeline_ea.id_task_refid%TYPE,
        id_patient_in             IN task_timeline_ea.id_patient%TYPE DEFAULT NULL,
        id_episode_in             IN task_timeline_ea.id_episode%TYPE DEFAULT NULL,
        id_visit_in               IN task_timeline_ea.id_visit%TYPE DEFAULT NULL,
        id_institution_in         IN task_timeline_ea.id_institution%TYPE DEFAULT NULL,
        dt_req_in                 IN task_timeline_ea.dt_req%TYPE DEFAULT NULL,
        id_prof_req_in            IN task_timeline_ea.id_prof_req%TYPE DEFAULT NULL,
        dt_begin_in               IN task_timeline_ea.dt_begin%TYPE DEFAULT NULL,
        dt_end_in                 IN task_timeline_ea.dt_end%TYPE DEFAULT NULL,
        flg_status_req_in         IN task_timeline_ea.flg_status_req%TYPE DEFAULT NULL,
        table_name_in             IN task_timeline_ea.table_name%TYPE DEFAULT NULL,
        flg_show_method_in        IN task_timeline_ea.flg_show_method%TYPE DEFAULT NULL,
        flg_type_viewer_in        IN task_timeline_ea.flg_type_viewer%TYPE DEFAULT NULL,
        status_str_in             IN task_timeline_ea.status_str%TYPE DEFAULT NULL,
        status_msg_in             IN task_timeline_ea.status_msg%TYPE DEFAULT NULL,
        status_icon_in            IN task_timeline_ea.status_icon%TYPE DEFAULT NULL,
        status_flg_in             IN task_timeline_ea.status_flg%TYPE DEFAULT NULL,
        code_description_in       IN task_timeline_ea.code_description%TYPE DEFAULT NULL,
        dt_dg_last_update_in      IN task_timeline_ea.dt_dg_last_update%TYPE DEFAULT current_timestamp,
        create_user_in            IN task_timeline_ea.create_user%TYPE DEFAULT NULL,
        create_time_in            IN task_timeline_ea.create_time%TYPE DEFAULT NULL,
        create_institution_in     IN task_timeline_ea.create_institution%TYPE DEFAULT NULL,
        update_user_in            IN task_timeline_ea.update_user%TYPE DEFAULT NULL,
        update_time_in            IN task_timeline_ea.update_time%TYPE DEFAULT NULL,
        update_institution_in     IN task_timeline_ea.update_institution%TYPE DEFAULT NULL,
        medication_subject_in     IN task_timeline_ea.medication_subject%TYPE DEFAULT NULL,
        flg_outdated_in           IN task_timeline_ea.flg_outdated%TYPE DEFAULT 0,
        id_ref_group_in           IN task_timeline_ea.id_ref_group%TYPE DEFAULT NULL,
        rank_in                   IN task_timeline_ea.rank%TYPE DEFAULT NULL,
        id_doc_area_in            IN task_timeline_ea.id_doc_area%TYPE DEFAULT NULL,
        id_group_import_in        IN task_timeline_ea.id_group_import%TYPE DEFAULT NULL,
        code_desc_group_in        IN task_timeline_ea.code_desc_group%TYPE DEFAULT NULL,
        dt_execution_in           IN task_timeline_ea.dt_execution%TYPE DEFAULT NULL,
        code_status_in            IN task_timeline_ea.code_status%TYPE DEFAULT NULL,
        flg_sos_in                IN task_timeline_ea.flg_sos%TYPE DEFAULT 'N',
        id_sub_group_import_in    IN task_timeline_ea.id_sub_group_import%TYPE DEFAULT NULL,
        code_desc_sub_group_in    IN task_timeline_ea.code_desc_sub_group%TYPE DEFAULT NULL,
        id_task_aggregator_in     IN task_timeline_ea.id_task_aggregator%TYPE DEFAULT NULL,
        universal_desc_clob_in    IN task_timeline_ea.universal_desc_clob%TYPE DEFAULT NULL,
        id_parent_task_refid_in   IN task_timeline_ea.id_parent_task_refid%TYPE DEFAULT NULL,
        flg_ongoing_in            IN task_timeline_ea.flg_ongoing%TYPE DEFAULT 'N',
        flg_normal_in             IN task_timeline_ea.flg_normal%TYPE DEFAULT 'Y',
        id_prof_exec_in           IN task_timeline_ea.id_prof_exec%TYPE DEFAULT NULL,
        dt_last_update_in         IN task_timeline_ea.dt_last_update%TYPE DEFAULT NULL,
        flg_has_comments_in       IN task_timeline_ea.flg_has_comments%TYPE DEFAULT 'N',
        dt_last_execution_in      IN task_timeline_ea.dt_last_execution%TYPE DEFAULT NULL,
        id_parent_comments_in     IN task_timeline_ea.id_parent_comments%TYPE DEFAULT NULL,
        id_prof_review_in         IN task_timeline_ea.id_prof_review%TYPE DEFAULT NULL,
        dt_review_in              IN task_timeline_ea.dt_review%TYPE DEFAULT NULL,
        id_task_notes_in          IN task_timeline_ea.id_task_notes%TYPE DEFAULT NULL,
        id_sample_type_in         IN task_timeline_ea.id_sample_type%TYPE DEFAULT NULL,
        code_desc_sample_type_in  IN task_timeline_ea.code_desc_sample_type%TYPE DEFAULT NULL,
        flg_technical_in          IN task_timeline_ea.flg_technical%TYPE DEFAULT 'N',
        flg_relevant_in           IN task_timeline_ea.flg_relevant%TYPE DEFAULT 'N',
        flg_stat_in               IN task_timeline_ea.flg_stat%TYPE DEFAULT 'N',
        id_task_related_in        IN task_timeline_ea.id_task_related%TYPE DEFAULT NULL,
        flg_type_in               IN task_timeline_ea.flg_type%TYPE DEFAULT NULL,
        dt_result_in              IN task_timeline_ea.dt_result%TYPE DEFAULT NULL,
        code_desc_group_parent_in IN task_timeline_ea.code_desc_group_parent%TYPE DEFAULT NULL,
        instructions_hash_in      IN task_timeline_ea.instructions_hash%TYPE DEFAULT NULL,
        handle_error_in           IN BOOLEAN := FALSE,
        rows_out                  OUT table_varchar
    ) IS
    BEGIN
        INSERT INTO task_timeline_ea
            (id_tl_task,
             id_task_refid,
             id_patient,
             id_episode,
             id_visit,
             id_institution,
             dt_req,
             id_prof_req,
             dt_begin,
             dt_end,
             flg_status_req,
             table_name,
             flg_show_method,
             flg_type_viewer,
             status_str,
             status_msg,
             status_icon,
             status_flg,
             code_description,
             dt_dg_last_update,
             create_user,
             create_time,
             create_institution,
             update_user,
             update_time,
             update_institution,
             medication_subject,
             flg_outdated,
             id_ref_group,
             rank,
             id_doc_area,
             id_group_import,
             code_desc_group,
             dt_execution,
             code_status,
             flg_sos,
             id_sub_group_import,
             code_desc_sub_group,
             id_task_aggregator,
             universal_desc_clob,
             id_parent_task_refid,
             flg_ongoing,
             flg_normal,
             id_prof_exec,
             dt_last_update,
             flg_has_comments,
             dt_last_execution,
             id_parent_comments,
             id_prof_review,
             dt_review,
             id_task_notes,
             id_sample_type,
             code_desc_sample_type,
             flg_technical,
             flg_relevant,
             flg_stat,
             id_task_related,
             flg_type,
             dt_result,
             code_desc_group_parent,
             instructions_hash)
        VALUES
            (id_tl_task_in,
             id_task_refid_in,
             id_patient_in,
             id_episode_in,
             id_visit_in,
             id_institution_in,
             dt_req_in,
             id_prof_req_in,
             dt_begin_in,
             dt_end_in,
             flg_status_req_in,
             table_name_in,
             flg_show_method_in,
             flg_type_viewer_in,
             status_str_in,
             status_msg_in,
             status_icon_in,
             status_flg_in,
             code_description_in,
             dt_dg_last_update_in,
             create_user_in,
             create_time_in,
             create_institution_in,
             update_user_in,
             update_time_in,
             update_institution_in,
             medication_subject_in,
             flg_outdated_in,
             id_ref_group_in,
             rank_in,
             id_doc_area_in,
             id_group_import_in,
             code_desc_group_in,
             dt_execution_in,
             code_status_in,
             flg_sos_in,
             id_sub_group_import_in,
             code_desc_sub_group_in,
             id_task_aggregator_in,
             universal_desc_clob_in,
             id_parent_task_refid_in,
             flg_ongoing_in,
             flg_normal_in,
             id_prof_exec_in,
             dt_last_update_in,
             flg_has_comments_in,
             dt_last_execution_in,
             id_parent_comments_in,
             id_prof_review_in,
             dt_review_in,
             id_task_notes_in,
             id_sample_type_in,
             code_desc_sample_type_in,
             flg_technical_in,
             flg_relevant_in,
             flg_stat_in,
             id_task_related_in,
             flg_type_in,
             dt_result_in,
             code_desc_group_parent_in,
             instructions_hash_in)
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END ins;

    PROCEDURE ins
    (
        id_tl_task_in             IN task_timeline_ea.id_tl_task%TYPE,
        id_task_refid_in          IN task_timeline_ea.id_task_refid%TYPE,
        id_patient_in             IN task_timeline_ea.id_patient%TYPE DEFAULT NULL,
        id_episode_in             IN task_timeline_ea.id_episode%TYPE DEFAULT NULL,
        id_visit_in               IN task_timeline_ea.id_visit%TYPE DEFAULT NULL,
        id_institution_in         IN task_timeline_ea.id_institution%TYPE DEFAULT NULL,
        dt_req_in                 IN task_timeline_ea.dt_req%TYPE DEFAULT NULL,
        id_prof_req_in            IN task_timeline_ea.id_prof_req%TYPE DEFAULT NULL,
        dt_begin_in               IN task_timeline_ea.dt_begin%TYPE DEFAULT NULL,
        dt_end_in                 IN task_timeline_ea.dt_end%TYPE DEFAULT NULL,
        flg_status_req_in         IN task_timeline_ea.flg_status_req%TYPE DEFAULT NULL,
        table_name_in             IN task_timeline_ea.table_name%TYPE DEFAULT NULL,
        flg_show_method_in        IN task_timeline_ea.flg_show_method%TYPE DEFAULT NULL,
        flg_type_viewer_in        IN task_timeline_ea.flg_type_viewer%TYPE DEFAULT NULL,
        status_str_in             IN task_timeline_ea.status_str%TYPE DEFAULT NULL,
        status_msg_in             IN task_timeline_ea.status_msg%TYPE DEFAULT NULL,
        status_icon_in            IN task_timeline_ea.status_icon%TYPE DEFAULT NULL,
        status_flg_in             IN task_timeline_ea.status_flg%TYPE DEFAULT NULL,
        code_description_in       IN task_timeline_ea.code_description%TYPE DEFAULT NULL,
        dt_dg_last_update_in      IN task_timeline_ea.dt_dg_last_update%TYPE DEFAULT current_timestamp,
        create_user_in            IN task_timeline_ea.create_user%TYPE DEFAULT NULL,
        create_time_in            IN task_timeline_ea.create_time%TYPE DEFAULT NULL,
        create_institution_in     IN task_timeline_ea.create_institution%TYPE DEFAULT NULL,
        update_user_in            IN task_timeline_ea.update_user%TYPE DEFAULT NULL,
        update_time_in            IN task_timeline_ea.update_time%TYPE DEFAULT NULL,
        update_institution_in     IN task_timeline_ea.update_institution%TYPE DEFAULT NULL,
        medication_subject_in     IN task_timeline_ea.medication_subject%TYPE DEFAULT NULL,
        flg_outdated_in           IN task_timeline_ea.flg_outdated%TYPE DEFAULT 0,
        id_ref_group_in           IN task_timeline_ea.id_ref_group%TYPE DEFAULT NULL,
        rank_in                   IN task_timeline_ea.rank%TYPE DEFAULT NULL,
        id_doc_area_in            IN task_timeline_ea.id_doc_area%TYPE DEFAULT NULL,
        id_group_import_in        IN task_timeline_ea.id_group_import%TYPE DEFAULT NULL,
        code_desc_group_in        IN task_timeline_ea.code_desc_group%TYPE DEFAULT NULL,
        dt_execution_in           IN task_timeline_ea.dt_execution%TYPE DEFAULT NULL,
        code_status_in            IN task_timeline_ea.code_status%TYPE DEFAULT NULL,
        flg_sos_in                IN task_timeline_ea.flg_sos%TYPE DEFAULT 'N',
        id_sub_group_import_in    IN task_timeline_ea.id_sub_group_import%TYPE DEFAULT NULL,
        code_desc_sub_group_in    IN task_timeline_ea.code_desc_sub_group%TYPE DEFAULT NULL,
        id_task_aggregator_in     IN task_timeline_ea.id_task_aggregator%TYPE DEFAULT NULL,
        universal_desc_clob_in    IN task_timeline_ea.universal_desc_clob%TYPE DEFAULT NULL,
        id_parent_task_refid_in   IN task_timeline_ea.id_parent_task_refid%TYPE DEFAULT NULL,
        flg_ongoing_in            IN task_timeline_ea.flg_ongoing%TYPE DEFAULT 'N',
        flg_normal_in             IN task_timeline_ea.flg_normal%TYPE DEFAULT 'Y',
        id_prof_exec_in           IN task_timeline_ea.id_prof_exec%TYPE DEFAULT NULL,
        dt_last_update_in         IN task_timeline_ea.dt_last_update%TYPE DEFAULT NULL,
        flg_has_comments_in       IN task_timeline_ea.flg_has_comments%TYPE DEFAULT 'N',
        dt_last_execution_in      IN task_timeline_ea.dt_last_execution%TYPE DEFAULT NULL,
        id_parent_comments_in     IN task_timeline_ea.id_parent_comments%TYPE DEFAULT NULL,
        id_prof_review_in         IN task_timeline_ea.id_prof_review%TYPE DEFAULT NULL,
        dt_review_in              IN task_timeline_ea.dt_review%TYPE DEFAULT NULL,
        id_task_notes_in          IN task_timeline_ea.id_task_notes%TYPE DEFAULT NULL,
        id_sample_type_in         IN task_timeline_ea.id_sample_type%TYPE DEFAULT NULL,
        code_desc_sample_type_in  IN task_timeline_ea.code_desc_sample_type%TYPE DEFAULT NULL,
        flg_technical_in          IN task_timeline_ea.flg_technical%TYPE DEFAULT 'N',
        flg_relevant_in           IN task_timeline_ea.flg_relevant%TYPE DEFAULT 'N',
        flg_stat_in               IN task_timeline_ea.flg_stat%TYPE DEFAULT 'N',
        id_task_related_in        IN task_timeline_ea.id_task_related%TYPE DEFAULT NULL,
        flg_type_in               IN task_timeline_ea.flg_type%TYPE DEFAULT NULL,
        dt_result_in              IN task_timeline_ea.dt_result%TYPE DEFAULT NULL,
        code_desc_group_parent_in IN task_timeline_ea.code_desc_group_parent%TYPE DEFAULT NULL,
        instructions_hash_in      IN task_timeline_ea.instructions_hash%TYPE DEFAULT NULL,
        handle_error_in           IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(id_tl_task_in             => id_tl_task_in,
            id_task_refid_in          => id_task_refid_in,
            id_patient_in             => id_patient_in,
            id_episode_in             => id_episode_in,
            id_visit_in               => id_visit_in,
            id_institution_in         => id_institution_in,
            dt_req_in                 => dt_req_in,
            id_prof_req_in            => id_prof_req_in,
            dt_begin_in               => dt_begin_in,
            dt_end_in                 => dt_end_in,
            flg_status_req_in         => flg_status_req_in,
            table_name_in             => table_name_in,
            flg_show_method_in        => flg_show_method_in,
            flg_type_viewer_in        => flg_type_viewer_in,
            status_str_in             => status_str_in,
            status_msg_in             => status_msg_in,
            status_icon_in            => status_icon_in,
            status_flg_in             => status_flg_in,
            code_description_in       => code_description_in,
            dt_dg_last_update_in      => dt_dg_last_update_in,
            create_user_in            => create_user_in,
            create_time_in            => create_time_in,
            create_institution_in     => create_institution_in,
            update_user_in            => update_user_in,
            update_time_in            => update_time_in,
            update_institution_in     => update_institution_in,
            medication_subject_in     => medication_subject_in,
            flg_outdated_in           => flg_outdated_in,
            id_ref_group_in           => id_ref_group_in,
            rank_in                   => rank_in,
            id_doc_area_in            => id_doc_area_in,
            id_group_import_in        => id_group_import_in,
            code_desc_group_in        => code_desc_group_in,
            dt_execution_in           => dt_execution_in,
            code_status_in            => code_status_in,
            flg_sos_in                => flg_sos_in,
            id_sub_group_import_in    => id_sub_group_import_in,
            code_desc_sub_group_in    => code_desc_sub_group_in,
            id_task_aggregator_in     => id_task_aggregator_in,
            universal_desc_clob_in    => universal_desc_clob_in,
            id_parent_task_refid_in   => id_parent_task_refid_in,
            flg_ongoing_in            => flg_ongoing_in,
            flg_normal_in             => flg_normal_in,
            id_prof_exec_in           => id_prof_exec_in,
            dt_last_update_in         => dt_last_update_in,
            flg_has_comments_in       => flg_has_comments_in,
            dt_last_execution_in      => dt_last_execution_in,
            id_parent_comments_in     => id_parent_comments_in,
            id_prof_review_in         => id_prof_review_in,
            dt_review_in              => dt_review_in,
            id_task_notes_in          => id_task_notes_in,
            id_sample_type_in         => id_sample_type_in,
            code_desc_sample_type_in  => code_desc_sample_type_in,
            flg_technical_in          => flg_technical_in,
            flg_relevant_in           => flg_relevant_in,
            flg_stat_in               => flg_stat_in,
            id_task_related_in        => id_task_related_in,
            flg_type_in               => flg_type_in,
            dt_result_in              => dt_result_in,
            code_desc_group_parent_in => code_desc_group_parent_in,
            instructions_hash_in      => instructions_hash_in,
            handle_error_in           => handle_error_in,
            rows_out                  => rows_out);
    END ins;

    PROCEDURE ins
    (
        rec_in          IN task_timeline_ea%ROWTYPE,
        gen_pky_in      IN BOOLEAN DEFAULT FALSE,
        sequence_in     IN VARCHAR2 := NULL,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
        l_rec task_timeline_ea%ROWTYPE := rec_in;
    BEGIN
    
        ins(id_tl_task_in             => l_rec.id_tl_task,
            id_task_refid_in          => l_rec.id_task_refid,
            id_patient_in             => l_rec.id_patient,
            id_episode_in             => l_rec.id_episode,
            id_visit_in               => l_rec.id_visit,
            id_institution_in         => l_rec.id_institution,
            dt_req_in                 => l_rec.dt_req,
            id_prof_req_in            => l_rec.id_prof_req,
            dt_begin_in               => l_rec.dt_begin,
            dt_end_in                 => l_rec.dt_end,
            flg_status_req_in         => l_rec.flg_status_req,
            table_name_in             => l_rec.table_name,
            flg_show_method_in        => l_rec.flg_show_method,
            flg_type_viewer_in        => l_rec.flg_type_viewer,
            status_str_in             => l_rec.status_str,
            status_msg_in             => l_rec.status_msg,
            status_icon_in            => l_rec.status_icon,
            status_flg_in             => l_rec.status_flg,
            code_description_in       => l_rec.code_description,
            dt_dg_last_update_in      => l_rec.dt_dg_last_update,
            create_user_in            => l_rec.create_user,
            create_time_in            => l_rec.create_time,
            create_institution_in     => l_rec.create_institution,
            update_user_in            => l_rec.update_user,
            update_time_in            => l_rec.update_time,
            update_institution_in     => l_rec.update_institution,
            medication_subject_in     => l_rec.medication_subject,
            flg_outdated_in           => l_rec.flg_outdated,
            id_ref_group_in           => l_rec.id_ref_group,
            rank_in                   => l_rec.rank,
            id_doc_area_in            => l_rec.id_doc_area,
            id_group_import_in        => l_rec.id_group_import,
            code_desc_group_in        => l_rec.code_desc_group,
            dt_execution_in           => l_rec.dt_execution,
            code_status_in            => l_rec.code_status,
            flg_sos_in                => l_rec.flg_sos,
            id_sub_group_import_in    => l_rec.id_sub_group_import,
            code_desc_sub_group_in    => l_rec.code_desc_sub_group,
            id_task_aggregator_in     => l_rec.id_task_aggregator,
            universal_desc_clob_in    => l_rec.universal_desc_clob,
            id_parent_task_refid_in   => l_rec.id_parent_task_refid,
            flg_ongoing_in            => l_rec.flg_ongoing,
            flg_normal_in             => l_rec.flg_normal,
            id_prof_exec_in           => l_rec.id_prof_exec,
            dt_last_update_in         => l_rec.dt_last_update,
            flg_has_comments_in       => l_rec.flg_has_comments,
            dt_last_execution_in      => l_rec.dt_last_execution,
            id_parent_comments_in     => l_rec.id_parent_comments,
            id_prof_review_in         => l_rec.id_prof_review,
            dt_review_in              => l_rec.dt_review,
            id_task_notes_in          => l_rec.id_task_notes,
            id_sample_type_in         => l_rec.id_sample_type,
            code_desc_sample_type_in  => l_rec.code_desc_sample_type,
            flg_technical_in          => l_rec.flg_technical,
            flg_relevant_in           => l_rec.flg_relevant,
            flg_stat_in               => l_rec.flg_stat,
            id_task_related_in        => l_rec.id_task_related,
            flg_type_in               => l_rec.flg_type,
            dt_result_in              => l_rec.dt_result,
            code_desc_group_parent_in => l_rec.code_desc_group_parent,
            instructions_hash_in      => l_rec.instructions_hash,
            handle_error_in           => handle_error_in,
            rows_out                  => rows_out);
    END ins;

    PROCEDURE ins
    (
        rec_in          IN task_timeline_ea%ROWTYPE,
        gen_pky_in      IN BOOLEAN DEFAULT FALSE,
        sequence_in     IN VARCHAR2 := NULL,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(rec_in          => rec_in,
            gen_pky_in      => gen_pky_in,
            sequence_in     => sequence_in,
            handle_error_in => handle_error_in,
            rows_out        => rows_out);
    END ins;

    -- Insert a collection of rows using FORALL; all primary key values
    -- must have already been generated, or are handled in triggers
    PROCEDURE ins
    (
        rows_in         IN task_timeline_ea_tc,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        IF rows_in.count = 0
        THEN
            NULL;
        ELSE
            FORALL indx IN rows_in.first .. rows_in.last SAVE EXCEPTIONS
                INSERT INTO task_timeline_ea
                    (id_task_refid,
                     id_tl_task,
                     id_patient,
                     id_episode,
                     id_visit,
                     id_institution,
                     dt_req,
                     id_prof_req,
                     dt_begin,
                     dt_end,
                     flg_status_req,
                     table_name,
                     flg_show_method,
                     flg_type_viewer,
                     status_str,
                     status_msg,
                     status_icon,
                     status_flg,
                     code_description,
                     dt_dg_last_update,
                     medication_subject,
                     flg_outdated,
                     id_ref_group,
                     rank,
                     id_doc_area,
                     id_group_import,
                     code_desc_group,
                     dt_execution,
                     code_status,
                     flg_sos,
                     id_sub_group_import,
                     code_desc_sub_group,
                     id_task_aggregator,
                     universal_desc_clob,
                     id_parent_task_refid,
                     flg_ongoing,
                     flg_normal,
                     id_prof_exec,
                     dt_last_update,
                     flg_has_comments,
                     dt_last_execution,
                     id_parent_comments,
                     id_prof_review,
                     dt_review,
                     id_task_notes,
                     id_sample_type,
                     code_desc_sample_type,
                     flg_technical,
                     flg_relevant,
                     flg_stat,
                     id_task_related,
                     flg_type,
                     dt_result,
                     code_desc_group_parent,
                     instructions_hash)
                VALUES
                    (rows_in(indx).id_task_refid,
                     rows_in(indx).id_tl_task,
                     rows_in(indx).id_patient,
                     rows_in(indx).id_episode,
                     rows_in(indx).id_visit,
                     rows_in(indx).id_institution,
                     rows_in(indx).dt_req,
                     rows_in(indx).id_prof_req,
                     rows_in(indx).dt_begin,
                     rows_in(indx).dt_end,
                     rows_in(indx).flg_status_req,
                     rows_in(indx).table_name,
                     rows_in(indx).flg_show_method,
                     rows_in(indx).flg_type_viewer,
                     rows_in(indx).status_str,
                     rows_in(indx).status_msg,
                     rows_in(indx).status_icon,
                     rows_in(indx).status_flg,
                     rows_in(indx).code_description,
                     rows_in(indx).dt_dg_last_update,
                     rows_in(indx).medication_subject,
                     rows_in(indx).flg_outdated,
                     rows_in(indx).id_ref_group,
                     rows_in(indx).rank,
                     rows_in(indx).id_doc_area,
                     rows_in(indx).id_group_import,
                     rows_in(indx).code_desc_group,
                     rows_in(indx).dt_execution,
                     rows_in(indx).code_status,
                     rows_in(indx).flg_sos,
                     rows_in(indx).id_sub_group_import,
                     rows_in(indx).code_desc_sub_group,
                     rows_in(indx).id_task_aggregator,
                     rows_in(indx).universal_desc_clob,
                     rows_in(indx).id_parent_task_refid,
                     rows_in(indx).flg_ongoing,
                     rows_in(indx).flg_normal,
                     rows_in(indx).id_prof_exec,
                     rows_in(indx).dt_last_update,
                     rows_in(indx).flg_has_comments,
                     rows_in(indx).dt_last_execution,
                     rows_in(indx).id_parent_comments,
                     rows_in(indx).id_prof_review,
                     rows_in(indx).dt_review,
                     rows_in(indx).id_task_notes,
                     rows_in(indx).id_sample_type,
                     rows_in(indx).code_desc_sample_type,
                     rows_in(indx).flg_technical,
                     rows_in(indx).flg_relevant,
                     rows_in(indx).flg_stat,
                     rows_in(indx).id_task_related,
                     rows_in(indx).flg_type,
                     rows_in(indx).dt_result,
                     rows_in(indx).code_desc_group_parent,
                     rows_in(indx).instructions_hash)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        END IF;
    
    EXCEPTION
        WHEN e_forall_error THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                FOR indx IN 1 .. SQL%bulk_exceptions.count
                LOOP
                    pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
                END LOOP;
            END IF;
        WHEN OTHERS THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END ins;

    -- Insert a collection of rows using FORALL; all primary key values
    -- must have already been generated, or are handled in triggers
    PROCEDURE ins
    (
        rows_in         IN task_timeline_ea_tc,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        ins(rows_in => rows_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END ins;

    -- Update any/all columns by primary key. If you pass NULL, then
    -- the current column value is set to itself. If you need a more
    -- selected UPDATE then use one of the onecol procedures below.
    PROCEDURE upd
    (
        id_tl_task_in              IN task_timeline_ea.id_tl_task%TYPE,
        id_task_refid_in           IN task_timeline_ea.id_task_refid%TYPE,
        id_patient_in              IN task_timeline_ea.id_patient%TYPE DEFAULT NULL,
        id_patient_nin             IN BOOLEAN := TRUE,
        id_episode_in              IN task_timeline_ea.id_episode%TYPE DEFAULT NULL,
        id_episode_nin             IN BOOLEAN := TRUE,
        id_visit_in                IN task_timeline_ea.id_visit%TYPE DEFAULT NULL,
        id_visit_nin               IN BOOLEAN := TRUE,
        id_institution_in          IN task_timeline_ea.id_institution%TYPE DEFAULT NULL,
        id_institution_nin         IN BOOLEAN := TRUE,
        dt_req_in                  IN task_timeline_ea.dt_req%TYPE DEFAULT NULL,
        dt_req_nin                 IN BOOLEAN := TRUE,
        id_prof_req_in             IN task_timeline_ea.id_prof_req%TYPE DEFAULT NULL,
        id_prof_req_nin            IN BOOLEAN := TRUE,
        dt_begin_in                IN task_timeline_ea.dt_begin%TYPE DEFAULT NULL,
        dt_begin_nin               IN BOOLEAN := TRUE,
        dt_end_in                  IN task_timeline_ea.dt_end%TYPE DEFAULT NULL,
        dt_end_nin                 IN BOOLEAN := TRUE,
        flg_status_req_in          IN task_timeline_ea.flg_status_req%TYPE DEFAULT NULL,
        flg_status_req_nin         IN BOOLEAN := TRUE,
        table_name_in              IN task_timeline_ea.table_name%TYPE DEFAULT NULL,
        table_name_nin             IN BOOLEAN := TRUE,
        flg_show_method_in         IN task_timeline_ea.flg_show_method%TYPE DEFAULT NULL,
        flg_show_method_nin        IN BOOLEAN := TRUE,
        flg_type_viewer_in         IN task_timeline_ea.flg_type_viewer%TYPE DEFAULT NULL,
        flg_type_viewer_nin        IN BOOLEAN := TRUE,
        status_str_in              IN task_timeline_ea.status_str%TYPE DEFAULT NULL,
        status_str_nin             IN BOOLEAN := TRUE,
        status_msg_in              IN task_timeline_ea.status_msg%TYPE DEFAULT NULL,
        status_msg_nin             IN BOOLEAN := TRUE,
        status_icon_in             IN task_timeline_ea.status_icon%TYPE DEFAULT NULL,
        status_icon_nin            IN BOOLEAN := TRUE,
        status_flg_in              IN task_timeline_ea.status_flg%TYPE DEFAULT NULL,
        status_flg_nin             IN BOOLEAN := TRUE,
        code_description_in        IN task_timeline_ea.code_description%TYPE DEFAULT NULL,
        code_description_nin       IN BOOLEAN := TRUE,
        dt_dg_last_update_in       IN task_timeline_ea.dt_dg_last_update%TYPE DEFAULT NULL,
        dt_dg_last_update_nin      IN BOOLEAN := TRUE,
        create_user_in             IN task_timeline_ea.create_user%TYPE DEFAULT NULL,
        create_user_nin            IN BOOLEAN := TRUE,
        create_time_in             IN task_timeline_ea.create_time%TYPE DEFAULT NULL,
        create_time_nin            IN BOOLEAN := TRUE,
        create_institution_in      IN task_timeline_ea.create_institution%TYPE DEFAULT NULL,
        create_institution_nin     IN BOOLEAN := TRUE,
        update_user_in             IN task_timeline_ea.update_user%TYPE DEFAULT NULL,
        update_user_nin            IN BOOLEAN := TRUE,
        update_time_in             IN task_timeline_ea.update_time%TYPE DEFAULT NULL,
        update_time_nin            IN BOOLEAN := TRUE,
        update_institution_in      IN task_timeline_ea.update_institution%TYPE DEFAULT NULL,
        update_institution_nin     IN BOOLEAN := TRUE,
        medication_subject_in      IN task_timeline_ea.medication_subject%TYPE DEFAULT NULL,
        medication_subject_nin     IN BOOLEAN := TRUE,
        flg_outdated_in            IN task_timeline_ea.flg_outdated%TYPE DEFAULT NULL,
        flg_outdated_nin           IN BOOLEAN := TRUE,
        id_ref_group_in            IN task_timeline_ea.id_ref_group%TYPE DEFAULT NULL,
        id_ref_group_nin           IN BOOLEAN := TRUE,
        rank_in                    IN task_timeline_ea.rank%TYPE DEFAULT NULL,
        rank_nin                   IN BOOLEAN := TRUE,
        id_doc_area_in             IN task_timeline_ea.id_doc_area%TYPE DEFAULT NULL,
        id_doc_area_nin            IN BOOLEAN := TRUE,
        id_group_import_in         IN task_timeline_ea.id_group_import%TYPE DEFAULT NULL,
        id_group_import_nin        IN BOOLEAN := TRUE,
        code_desc_group_in         IN task_timeline_ea.code_desc_group%TYPE DEFAULT NULL,
        code_desc_group_nin        IN BOOLEAN := TRUE,
        dt_execution_in            IN task_timeline_ea.dt_execution%TYPE DEFAULT NULL,
        dt_execution_nin           IN BOOLEAN := TRUE,
        code_status_in             IN task_timeline_ea.code_status%TYPE DEFAULT NULL,
        code_status_nin            IN BOOLEAN := TRUE,
        flg_sos_in                 IN task_timeline_ea.flg_sos%TYPE DEFAULT NULL,
        flg_sos_nin                IN BOOLEAN := TRUE,
        id_sub_group_import_in     IN task_timeline_ea.id_sub_group_import%TYPE DEFAULT NULL,
        id_sub_group_import_nin    IN BOOLEAN := TRUE,
        code_desc_sub_group_in     IN task_timeline_ea.code_desc_sub_group%TYPE DEFAULT NULL,
        code_desc_sub_group_nin    IN BOOLEAN := TRUE,
        id_task_aggregator_in      IN task_timeline_ea.id_task_aggregator%TYPE DEFAULT NULL,
        id_task_aggregator_nin     IN BOOLEAN := TRUE,
        universal_desc_clob_in     IN task_timeline_ea.universal_desc_clob%TYPE DEFAULT NULL,
        universal_desc_clob_nin    IN BOOLEAN := TRUE,
        id_parent_task_refid_in    IN task_timeline_ea.id_parent_task_refid%TYPE DEFAULT NULL,
        id_parent_task_refid_nin   IN BOOLEAN := TRUE,
        flg_ongoing_in             IN task_timeline_ea.flg_ongoing%TYPE DEFAULT NULL,
        flg_ongoing_nin            IN BOOLEAN := TRUE,
        flg_normal_in              IN task_timeline_ea.flg_normal%TYPE DEFAULT NULL,
        flg_normal_nin             IN BOOLEAN := TRUE,
        id_prof_exec_in            IN task_timeline_ea.id_prof_exec%TYPE DEFAULT NULL,
        id_prof_exec_nin           IN BOOLEAN := TRUE,
        dt_last_update_in          IN task_timeline_ea.dt_last_update%TYPE DEFAULT NULL,
        dt_last_update_nin         IN BOOLEAN := TRUE,
        flg_has_comments_in        IN task_timeline_ea.flg_has_comments%TYPE DEFAULT NULL,
        flg_has_comments_nin       IN BOOLEAN := TRUE,
        dt_last_execution_in       IN task_timeline_ea.dt_last_execution%TYPE DEFAULT NULL,
        dt_last_execution_nin      IN BOOLEAN := TRUE,
        id_parent_comments_in      IN task_timeline_ea.id_parent_comments%TYPE DEFAULT NULL,
        id_parent_comments_nin     IN BOOLEAN := TRUE,
        id_prof_review_in          IN task_timeline_ea.id_prof_review%TYPE DEFAULT NULL,
        id_prof_review_nin         IN BOOLEAN := TRUE,
        dt_review_in               IN task_timeline_ea.dt_review%TYPE DEFAULT NULL,
        dt_review_nin              IN BOOLEAN := TRUE,
        id_task_notes_in           IN task_timeline_ea.id_task_notes%TYPE DEFAULT NULL,
        id_task_notes_nin          IN BOOLEAN := TRUE,
        id_sample_type_in          IN task_timeline_ea.id_sample_type%TYPE DEFAULT NULL,
        id_sample_type_nin         IN BOOLEAN := TRUE,
        code_desc_sample_type_in   IN task_timeline_ea.code_desc_sample_type%TYPE DEFAULT NULL,
        code_desc_sample_type_nin  IN BOOLEAN := TRUE,
        flg_technical_in           IN task_timeline_ea.flg_technical%TYPE DEFAULT NULL,
        flg_technical_nin          IN BOOLEAN := TRUE,
        flg_relevant_in            IN task_timeline_ea.flg_relevant%TYPE DEFAULT NULL,
        flg_relevant_nin           IN BOOLEAN := TRUE,
        flg_stat_in                IN task_timeline_ea.flg_stat%TYPE DEFAULT NULL,
        flg_stat_nin               IN BOOLEAN := TRUE,
        id_task_related_in         IN task_timeline_ea.id_task_related%TYPE DEFAULT NULL,
        id_task_related_nin        IN BOOLEAN := TRUE,
        flg_type_in                IN task_timeline_ea.flg_type%TYPE DEFAULT NULL,
        flg_type_nin               IN BOOLEAN := TRUE,
        dt_result_in               IN task_timeline_ea.dt_result%TYPE DEFAULT NULL,
        dt_result_nin              IN BOOLEAN := TRUE,
        code_desc_group_parent_in  IN task_timeline_ea.code_desc_group_parent%TYPE DEFAULT NULL,
        code_desc_group_parent_nin IN BOOLEAN := TRUE,
        instructions_hash_in       IN task_timeline_ea.instructions_hash%TYPE DEFAULT NULL,
        instructions_hash_nin      IN BOOLEAN := TRUE,
        handle_error_in            IN BOOLEAN := FALSE,
        rows_out                   IN OUT table_varchar
    ) IS
        l_rows_out                 table_varchar;
        l_id_patient_n             NUMBER(1) := sys.diutil.bool_to_int(id_patient_nin);
        l_id_episode_n             NUMBER(1) := sys.diutil.bool_to_int(id_episode_nin);
        l_id_visit_n               NUMBER(1) := sys.diutil.bool_to_int(id_visit_nin);
        l_id_institution_n         NUMBER(1) := sys.diutil.bool_to_int(id_institution_nin);
        l_dt_req_n                 NUMBER(1) := sys.diutil.bool_to_int(dt_req_nin);
        l_id_prof_req_n            NUMBER(1) := sys.diutil.bool_to_int(id_prof_req_nin);
        l_dt_begin_n               NUMBER(1) := sys.diutil.bool_to_int(dt_begin_nin);
        l_dt_end_n                 NUMBER(1) := sys.diutil.bool_to_int(dt_end_nin);
        l_flg_status_req_n         NUMBER(1) := sys.diutil.bool_to_int(flg_status_req_nin);
        l_table_name_n             NUMBER(1) := sys.diutil.bool_to_int(table_name_nin);
        l_flg_show_method_n        NUMBER(1) := sys.diutil.bool_to_int(flg_show_method_nin);
        l_flg_type_viewer_n        NUMBER(1) := sys.diutil.bool_to_int(flg_type_viewer_nin);
        l_status_str_n             NUMBER(1) := sys.diutil.bool_to_int(status_str_nin);
        l_status_msg_n             NUMBER(1) := sys.diutil.bool_to_int(status_msg_nin);
        l_status_icon_n            NUMBER(1) := sys.diutil.bool_to_int(status_icon_nin);
        l_status_flg_n             NUMBER(1) := sys.diutil.bool_to_int(status_flg_nin);
        l_code_description_n       NUMBER(1) := sys.diutil.bool_to_int(code_description_nin);
        l_dt_dg_last_update_n      NUMBER(1) := sys.diutil.bool_to_int(dt_dg_last_update_nin);
        l_create_user_n            NUMBER(1) := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n            NUMBER(1) := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n     NUMBER(1) := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n            NUMBER(1) := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n            NUMBER(1) := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n     NUMBER(1) := sys.diutil.bool_to_int(update_institution_nin);
        l_medication_subject_n     NUMBER(1) := sys.diutil.bool_to_int(medication_subject_nin);
        l_flg_outdated_n           NUMBER(1) := sys.diutil.bool_to_int(flg_outdated_nin);
        l_id_ref_group_n           NUMBER(1) := sys.diutil.bool_to_int(id_ref_group_nin);
        l_rank_n                   NUMBER(1) := sys.diutil.bool_to_int(rank_nin);
        l_id_doc_area_n            NUMBER(1) := sys.diutil.bool_to_int(id_doc_area_nin);
        l_id_group_import_n        NUMBER(1) := sys.diutil.bool_to_int(id_group_import_nin);
        l_code_desc_group_n        NUMBER(1) := sys.diutil.bool_to_int(code_desc_group_nin);
        l_dt_execution_n           NUMBER(1) := sys.diutil.bool_to_int(dt_execution_nin);
        l_code_status_n            NUMBER(1) := sys.diutil.bool_to_int(code_status_nin);
        l_flg_sos_n                NUMBER(1) := sys.diutil.bool_to_int(flg_sos_nin);
        l_id_sub_group_import_n    NUMBER(1) := sys.diutil.bool_to_int(id_sub_group_import_nin);
        l_code_desc_sub_group_n    NUMBER(1) := sys.diutil.bool_to_int(code_desc_sub_group_nin);
        l_id_task_aggregator_n     NUMBER(1) := sys.diutil.bool_to_int(id_task_aggregator_nin);
        l_universal_desc_clob_n    NUMBER(1) := sys.diutil.bool_to_int(universal_desc_clob_nin);
        l_id_parent_task_refid_n   NUMBER(1) := sys.diutil.bool_to_int(id_parent_task_refid_nin);
        l_flg_ongoing_n            NUMBER(1) := sys.diutil.bool_to_int(flg_ongoing_nin);
        l_flg_normal_n             NUMBER(1) := sys.diutil.bool_to_int(flg_normal_nin);
        l_id_prof_exec_n           NUMBER(1) := sys.diutil.bool_to_int(id_prof_exec_nin);
        l_dt_last_update_n         NUMBER(1) := sys.diutil.bool_to_int(dt_last_update_nin);
        l_flg_has_comments_n       NUMBER(1) := sys.diutil.bool_to_int(flg_has_comments_nin);
        l_dt_last_execution_n      NUMBER(1) := sys.diutil.bool_to_int(dt_last_execution_nin);
        l_id_parent_comments_n     NUMBER(1) := sys.diutil.bool_to_int(id_parent_comments_nin);
        l_id_prof_review_n         NUMBER(1) := sys.diutil.bool_to_int(id_prof_review_nin);
        l_dt_review_n              NUMBER(1) := sys.diutil.bool_to_int(dt_review_nin);
        l_id_task_notes_n          NUMBER(1) := sys.diutil.bool_to_int(id_task_notes_nin);
        l_id_sample_type_n         NUMBER(1) := sys.diutil.bool_to_int(id_sample_type_nin);
        l_code_desc_sample_type_n  NUMBER(1) := sys.diutil.bool_to_int(code_desc_sample_type_nin);
        l_flg_technical_n          NUMBER(1) := sys.diutil.bool_to_int(flg_technical_nin);
        l_flg_relevant_n           NUMBER(1) := sys.diutil.bool_to_int(flg_relevant_nin);
        l_flg_stat_n               NUMBER(1) := sys.diutil.bool_to_int(flg_stat_nin);
        l_id_task_related_n        NUMBER(1) := sys.diutil.bool_to_int(id_task_related_nin);
        l_flg_type_n               NUMBER(1) := sys.diutil.bool_to_int(flg_type_nin);
        l_dt_result_n              NUMBER(1) := sys.diutil.bool_to_int(dt_result_nin);
        l_code_desc_group_parent_n NUMBER(1) := sys.diutil.bool_to_int(code_desc_group_parent_nin);
        l_instructions_hash_n      NUMBER(1) := sys.diutil.bool_to_int(instructions_hash_nin);
    BEGIN
    
        UPDATE task_timeline_ea
           SET id_patient             = decode(l_id_patient_n, 0, id_patient_in, nvl(id_patient_in, id_patient)),
               id_episode             = decode(l_id_episode_n, 0, id_episode_in, nvl(id_episode_in, id_episode)),
               id_visit               = decode(l_id_visit_n, 0, id_visit_in, nvl(id_visit_in, id_visit)),
               id_institution         = decode(l_id_institution_n,
                                               0,
                                               id_institution_in,
                                               nvl(id_institution_in, id_institution)),
               dt_req                 = decode(l_dt_req_n, 0, dt_req_in, nvl(dt_req_in, dt_req)),
               id_prof_req            = decode(l_id_prof_req_n, 0, id_prof_req_in, nvl(id_prof_req_in, id_prof_req)),
               dt_begin               = decode(l_dt_begin_n, 0, dt_begin_in, nvl(dt_begin_in, dt_begin)),
               dt_end                 = decode(l_dt_end_n, 0, dt_end_in, nvl(dt_end_in, dt_end)),
               flg_status_req         = decode(l_flg_status_req_n,
                                               0,
                                               flg_status_req_in,
                                               nvl(flg_status_req_in, flg_status_req)),
               table_name             = decode(l_table_name_n, 0, table_name_in, nvl(table_name_in, table_name)),
               flg_show_method        = decode(l_flg_show_method_n,
                                               0,
                                               flg_show_method_in,
                                               nvl(flg_show_method_in, flg_show_method)),
               flg_type_viewer        = decode(l_flg_type_viewer_n,
                                               0,
                                               flg_type_viewer_in,
                                               nvl(flg_type_viewer_in, flg_type_viewer)),
               status_str             = decode(l_status_str_n, 0, status_str_in, nvl(status_str_in, status_str)),
               status_msg             = decode(l_status_msg_n, 0, status_msg_in, nvl(status_msg_in, status_msg)),
               status_icon            = decode(l_status_icon_n, 0, status_icon_in, nvl(status_icon_in, status_icon)),
               status_flg             = decode(l_status_flg_n, 0, status_flg_in, nvl(status_flg_in, status_flg)),
               code_description       = decode(l_code_description_n,
                                               0,
                                               code_description_in,
                                               nvl(code_description_in, code_description)),
               dt_dg_last_update      = decode(l_dt_dg_last_update_n,
                                               0,
                                               dt_dg_last_update_in,
                                               nvl(dt_dg_last_update_in, dt_dg_last_update)),
               create_user            = decode(l_create_user_n, 0, create_user_in, nvl(create_user_in, create_user)),
               create_time            = decode(l_create_time_n, 0, create_time_in, nvl(create_time_in, create_time)),
               create_institution     = decode(l_create_institution_n,
                                               0,
                                               create_institution_in,
                                               nvl(create_institution_in, create_institution)),
               update_user            = decode(l_update_user_n, 0, update_user_in, nvl(update_user_in, update_user)),
               update_time            = decode(l_update_time_n, 0, update_time_in, nvl(update_time_in, update_time)),
               update_institution     = decode(l_update_institution_n,
                                               0,
                                               update_institution_in,
                                               nvl(update_institution_in, update_institution)),
               medication_subject     = decode(l_medication_subject_n,
                                               0,
                                               medication_subject_in,
                                               nvl(medication_subject_in, medication_subject)),
               flg_outdated           = decode(l_flg_outdated_n, 0, flg_outdated_in, nvl(flg_outdated_in, flg_outdated)),
               id_ref_group           = decode(l_id_ref_group_n, 0, id_ref_group_in, nvl(id_ref_group_in, id_ref_group)),
               rank                   = decode(l_rank_n, 0, rank_in, nvl(rank_in, rank)),
               id_doc_area            = decode(l_id_doc_area_n, 0, id_doc_area_in, nvl(id_doc_area_in, id_doc_area)),
               id_group_import        = decode(l_id_group_import_n,
                                               0,
                                               id_group_import_in,
                                               nvl(id_group_import_in, id_group_import)),
               code_desc_group        = decode(l_code_desc_group_n,
                                               0,
                                               code_desc_group_in,
                                               nvl(code_desc_group_in, code_desc_group)),
               dt_execution           = decode(l_dt_execution_n, 0, dt_execution_in, nvl(dt_execution_in, dt_execution)),
               code_status            = decode(l_code_status_n, 0, code_status_in, nvl(code_status_in, code_status)),
               flg_sos                = decode(l_flg_sos_n, 0, flg_sos_in, nvl(flg_sos_in, flg_sos)),
               id_sub_group_import    = decode(l_id_sub_group_import_n,
                                               0,
                                               id_sub_group_import_in,
                                               nvl(id_sub_group_import_in, id_sub_group_import)),
               code_desc_sub_group    = decode(l_code_desc_sub_group_n,
                                               0,
                                               code_desc_sub_group_in,
                                               nvl(code_desc_sub_group_in, code_desc_sub_group)),
               id_task_aggregator     = decode(l_id_task_aggregator_n,
                                               0,
                                               id_task_aggregator_in,
                                               nvl(id_task_aggregator_in, id_task_aggregator)),
               universal_desc_clob    = decode(l_universal_desc_clob_n,
                                               0,
                                               universal_desc_clob_in,
                                               nvl(universal_desc_clob_in, universal_desc_clob)),
               id_parent_task_refid   = decode(l_id_parent_task_refid_n,
                                               0,
                                               id_parent_task_refid_in,
                                               nvl(id_parent_task_refid_in, id_parent_task_refid)),
               flg_ongoing            = decode(l_flg_ongoing_n, 0, flg_ongoing_in, nvl(flg_ongoing_in, flg_ongoing)),
               flg_normal             = decode(l_flg_normal_n, 0, flg_normal_in, nvl(flg_normal_in, flg_normal)),
               id_prof_exec           = decode(l_id_prof_exec_n, 0, id_prof_exec_in, nvl(id_prof_exec_in, id_prof_exec)),
               dt_last_update         = decode(l_dt_last_update_n,
                                               0,
                                               dt_last_update_in,
                                               nvl(dt_last_update_in, dt_last_update)),
               flg_has_comments       = decode(l_flg_has_comments_n,
                                               0,
                                               flg_has_comments_in,
                                               nvl(flg_has_comments_in, flg_has_comments)),
               dt_last_execution      = decode(l_dt_last_execution_n,
                                               0,
                                               dt_last_execution_in,
                                               nvl(dt_last_execution_in, dt_last_execution)),
               id_parent_comments     = decode(l_id_parent_comments_n,
                                               0,
                                               id_parent_comments_in,
                                               nvl(id_parent_comments_in, id_parent_comments)),
               id_prof_review         = decode(l_id_prof_review_n,
                                               0,
                                               id_prof_review_in,
                                               nvl(id_prof_review_in, id_prof_review)),
               dt_review              = decode(l_dt_review_n, 0, dt_review_in, nvl(dt_review_in, dt_review)),
               id_task_notes          = decode(l_id_task_notes_n,
                                               0,
                                               id_task_notes_in,
                                               nvl(id_task_notes_in, id_task_notes)),
               id_sample_type         = decode(l_id_sample_type_n,
                                               0,
                                               id_sample_type_in,
                                               nvl(id_sample_type_in, id_sample_type)),
               code_desc_sample_type  = decode(l_code_desc_sample_type_n,
                                               0,
                                               code_desc_sample_type_in,
                                               nvl(code_desc_sample_type_in, code_desc_sample_type)),
               flg_technical          = decode(l_flg_technical_n,
                                               0,
                                               flg_technical_in,
                                               nvl(flg_technical_in, flg_technical)),
               flg_relevant           = decode(l_flg_relevant_n, 0, flg_relevant_in, nvl(flg_relevant_in, flg_relevant)),
               flg_stat               = decode(l_flg_stat_n, 0, flg_stat_in, nvl(flg_stat_in, flg_stat)),
               id_task_related        = decode(l_id_task_related_n,
                                               0,
                                               id_task_related_in,
                                               nvl(id_task_related_in, id_task_related)),
               flg_type               = decode(l_flg_type_n, 0, flg_type_in, nvl(flg_type_in, flg_type)),
               dt_result              = decode(l_dt_result_n, 0, dt_result_in, nvl(dt_result_in, dt_result)),
               code_desc_group_parent = decode(l_code_desc_group_parent_n,
                                               0,
                                               code_desc_group_parent_in,
                                               nvl(code_desc_group_parent_in, code_desc_group_parent)),
               instructions_hash      = decode(l_instructions_hash_n,
                                               0,
                                               instructions_hash_in,
                                               nvl(instructions_hash_in, instructions_hash))
         WHERE id_tl_task = id_tl_task_in
           AND id_task_refid = id_task_refid_in
        RETURNING ROWID BULK COLLECT INTO l_rows_out;
        IF (rows_out IS NULL)
        THEN
            rows_out := table_varchar();
        END IF;
        rows_out := rows_out MULTISET UNION DISTINCT l_rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    -- Update any/all columns by primary key. If you pass NULL, then
    -- the current column value is set to itself. If you need a more
    -- selected UPDATE then use one of the onecol procedures below.
    PROCEDURE upd
    (
        id_tl_task_in              IN task_timeline_ea.id_tl_task%TYPE,
        id_task_refid_in           IN task_timeline_ea.id_task_refid%TYPE,
        id_patient_in              IN task_timeline_ea.id_patient%TYPE DEFAULT NULL,
        id_patient_nin             IN BOOLEAN := TRUE,
        id_episode_in              IN task_timeline_ea.id_episode%TYPE DEFAULT NULL,
        id_episode_nin             IN BOOLEAN := TRUE,
        id_visit_in                IN task_timeline_ea.id_visit%TYPE DEFAULT NULL,
        id_visit_nin               IN BOOLEAN := TRUE,
        id_institution_in          IN task_timeline_ea.id_institution%TYPE DEFAULT NULL,
        id_institution_nin         IN BOOLEAN := TRUE,
        dt_req_in                  IN task_timeline_ea.dt_req%TYPE DEFAULT NULL,
        dt_req_nin                 IN BOOLEAN := TRUE,
        id_prof_req_in             IN task_timeline_ea.id_prof_req%TYPE DEFAULT NULL,
        id_prof_req_nin            IN BOOLEAN := TRUE,
        dt_begin_in                IN task_timeline_ea.dt_begin%TYPE DEFAULT NULL,
        dt_begin_nin               IN BOOLEAN := TRUE,
        dt_end_in                  IN task_timeline_ea.dt_end%TYPE DEFAULT NULL,
        dt_end_nin                 IN BOOLEAN := TRUE,
        flg_status_req_in          IN task_timeline_ea.flg_status_req%TYPE DEFAULT NULL,
        flg_status_req_nin         IN BOOLEAN := TRUE,
        table_name_in              IN task_timeline_ea.table_name%TYPE DEFAULT NULL,
        table_name_nin             IN BOOLEAN := TRUE,
        flg_show_method_in         IN task_timeline_ea.flg_show_method%TYPE DEFAULT NULL,
        flg_show_method_nin        IN BOOLEAN := TRUE,
        flg_type_viewer_in         IN task_timeline_ea.flg_type_viewer%TYPE DEFAULT NULL,
        flg_type_viewer_nin        IN BOOLEAN := TRUE,
        status_str_in              IN task_timeline_ea.status_str%TYPE DEFAULT NULL,
        status_str_nin             IN BOOLEAN := TRUE,
        status_msg_in              IN task_timeline_ea.status_msg%TYPE DEFAULT NULL,
        status_msg_nin             IN BOOLEAN := TRUE,
        status_icon_in             IN task_timeline_ea.status_icon%TYPE DEFAULT NULL,
        status_icon_nin            IN BOOLEAN := TRUE,
        status_flg_in              IN task_timeline_ea.status_flg%TYPE DEFAULT NULL,
        status_flg_nin             IN BOOLEAN := TRUE,
        code_description_in        IN task_timeline_ea.code_description%TYPE DEFAULT NULL,
        code_description_nin       IN BOOLEAN := TRUE,
        dt_dg_last_update_in       IN task_timeline_ea.dt_dg_last_update%TYPE DEFAULT NULL,
        dt_dg_last_update_nin      IN BOOLEAN := TRUE,
        create_user_in             IN task_timeline_ea.create_user%TYPE DEFAULT NULL,
        create_user_nin            IN BOOLEAN := TRUE,
        create_time_in             IN task_timeline_ea.create_time%TYPE DEFAULT NULL,
        create_time_nin            IN BOOLEAN := TRUE,
        create_institution_in      IN task_timeline_ea.create_institution%TYPE DEFAULT NULL,
        create_institution_nin     IN BOOLEAN := TRUE,
        update_user_in             IN task_timeline_ea.update_user%TYPE DEFAULT NULL,
        update_user_nin            IN BOOLEAN := TRUE,
        update_time_in             IN task_timeline_ea.update_time%TYPE DEFAULT NULL,
        update_time_nin            IN BOOLEAN := TRUE,
        update_institution_in      IN task_timeline_ea.update_institution%TYPE DEFAULT NULL,
        update_institution_nin     IN BOOLEAN := TRUE,
        medication_subject_in      IN task_timeline_ea.medication_subject%TYPE DEFAULT NULL,
        medication_subject_nin     IN BOOLEAN := TRUE,
        flg_outdated_in            IN task_timeline_ea.flg_outdated%TYPE DEFAULT NULL,
        flg_outdated_nin           IN BOOLEAN := TRUE,
        id_ref_group_in            IN task_timeline_ea.id_ref_group%TYPE DEFAULT NULL,
        id_ref_group_nin           IN BOOLEAN := TRUE,
        rank_in                    IN task_timeline_ea.rank%TYPE DEFAULT NULL,
        rank_nin                   IN BOOLEAN := TRUE,
        id_doc_area_in             IN task_timeline_ea.id_doc_area%TYPE DEFAULT NULL,
        id_doc_area_nin            IN BOOLEAN := TRUE,
        id_group_import_in         IN task_timeline_ea.id_group_import%TYPE DEFAULT NULL,
        id_group_import_nin        IN BOOLEAN := TRUE,
        code_desc_group_in         IN task_timeline_ea.code_desc_group%TYPE DEFAULT NULL,
        code_desc_group_nin        IN BOOLEAN := TRUE,
        dt_execution_in            IN task_timeline_ea.dt_execution%TYPE DEFAULT NULL,
        dt_execution_nin           IN BOOLEAN := TRUE,
        code_status_in             IN task_timeline_ea.code_status%TYPE DEFAULT NULL,
        code_status_nin            IN BOOLEAN := TRUE,
        flg_sos_in                 IN task_timeline_ea.flg_sos%TYPE DEFAULT NULL,
        flg_sos_nin                IN BOOLEAN := TRUE,
        id_sub_group_import_in     IN task_timeline_ea.id_sub_group_import%TYPE DEFAULT NULL,
        id_sub_group_import_nin    IN BOOLEAN := TRUE,
        code_desc_sub_group_in     IN task_timeline_ea.code_desc_sub_group%TYPE DEFAULT NULL,
        code_desc_sub_group_nin    IN BOOLEAN := TRUE,
        id_task_aggregator_in      IN task_timeline_ea.id_task_aggregator%TYPE DEFAULT NULL,
        id_task_aggregator_nin     IN BOOLEAN := TRUE,
        universal_desc_clob_in     IN task_timeline_ea.universal_desc_clob%TYPE DEFAULT NULL,
        universal_desc_clob_nin    IN BOOLEAN := TRUE,
        id_parent_task_refid_in    IN task_timeline_ea.id_parent_task_refid%TYPE DEFAULT NULL,
        id_parent_task_refid_nin   IN BOOLEAN := TRUE,
        flg_ongoing_in             IN task_timeline_ea.flg_ongoing%TYPE DEFAULT NULL,
        flg_ongoing_nin            IN BOOLEAN := TRUE,
        flg_normal_in              IN task_timeline_ea.flg_normal%TYPE DEFAULT NULL,
        flg_normal_nin             IN BOOLEAN := TRUE,
        id_prof_exec_in            IN task_timeline_ea.id_prof_exec%TYPE DEFAULT NULL,
        id_prof_exec_nin           IN BOOLEAN := TRUE,
        dt_last_update_in          IN task_timeline_ea.dt_last_update%TYPE DEFAULT NULL,
        dt_last_update_nin         IN BOOLEAN := TRUE,
        flg_has_comments_in        IN task_timeline_ea.flg_has_comments%TYPE DEFAULT NULL,
        flg_has_comments_nin       IN BOOLEAN := TRUE,
        dt_last_execution_in       IN task_timeline_ea.dt_last_execution%TYPE DEFAULT NULL,
        dt_last_execution_nin      IN BOOLEAN := TRUE,
        id_parent_comments_in      IN task_timeline_ea.id_parent_comments%TYPE DEFAULT NULL,
        id_parent_comments_nin     IN BOOLEAN := TRUE,
        id_prof_review_in          IN task_timeline_ea.id_prof_review%TYPE DEFAULT NULL,
        id_prof_review_nin         IN BOOLEAN := TRUE,
        dt_review_in               IN task_timeline_ea.dt_review%TYPE DEFAULT NULL,
        dt_review_nin              IN BOOLEAN := TRUE,
        id_task_notes_in           IN task_timeline_ea.id_task_notes%TYPE DEFAULT NULL,
        id_task_notes_nin          IN BOOLEAN := TRUE,
        id_sample_type_in          IN task_timeline_ea.id_sample_type%TYPE DEFAULT NULL,
        id_sample_type_nin         IN BOOLEAN := TRUE,
        code_desc_sample_type_in   IN task_timeline_ea.code_desc_sample_type%TYPE DEFAULT NULL,
        code_desc_sample_type_nin  IN BOOLEAN := TRUE,
        flg_technical_in           IN task_timeline_ea.flg_technical%TYPE DEFAULT NULL,
        flg_technical_nin          IN BOOLEAN := TRUE,
        flg_relevant_in            IN task_timeline_ea.flg_relevant%TYPE DEFAULT NULL,
        flg_relevant_nin           IN BOOLEAN := TRUE,
        flg_stat_in                IN task_timeline_ea.flg_stat%TYPE DEFAULT NULL,
        flg_stat_nin               IN BOOLEAN := TRUE,
        id_task_related_in         IN task_timeline_ea.id_task_related%TYPE DEFAULT NULL,
        id_task_related_nin        IN BOOLEAN := TRUE,
        flg_type_in                IN task_timeline_ea.flg_type%TYPE DEFAULT NULL,
        flg_type_nin               IN BOOLEAN := TRUE,
        dt_result_in               IN task_timeline_ea.dt_result%TYPE DEFAULT NULL,
        dt_result_nin              IN BOOLEAN := TRUE,
        code_desc_group_parent_in  IN task_timeline_ea.code_desc_group_parent%TYPE DEFAULT NULL,
        code_desc_group_parent_nin IN BOOLEAN := TRUE,
        instructions_hash_in       IN task_timeline_ea.instructions_hash%TYPE DEFAULT NULL,
        instructions_hash_nin      IN BOOLEAN := TRUE,
        handle_error_in            IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(id_tl_task_in              => id_tl_task_in,
            id_task_refid_in           => id_task_refid_in,
            id_patient_in              => id_patient_in,
            id_patient_nin             => id_patient_nin,
            id_episode_in              => id_episode_in,
            id_episode_nin             => id_episode_nin,
            id_visit_in                => id_visit_in,
            id_visit_nin               => id_visit_nin,
            id_institution_in          => id_institution_in,
            id_institution_nin         => id_institution_nin,
            dt_req_in                  => dt_req_in,
            dt_req_nin                 => dt_req_nin,
            id_prof_req_in             => id_prof_req_in,
            id_prof_req_nin            => id_prof_req_nin,
            dt_begin_in                => dt_begin_in,
            dt_begin_nin               => dt_begin_nin,
            dt_end_in                  => dt_end_in,
            dt_end_nin                 => dt_end_nin,
            flg_status_req_in          => flg_status_req_in,
            flg_status_req_nin         => flg_status_req_nin,
            table_name_in              => table_name_in,
            table_name_nin             => table_name_nin,
            flg_show_method_in         => flg_show_method_in,
            flg_show_method_nin        => flg_show_method_nin,
            flg_type_viewer_in         => flg_type_viewer_in,
            flg_type_viewer_nin        => flg_type_viewer_nin,
            status_str_in              => status_str_in,
            status_str_nin             => status_str_nin,
            status_msg_in              => status_msg_in,
            status_msg_nin             => status_msg_nin,
            status_icon_in             => status_icon_in,
            status_icon_nin            => status_icon_nin,
            status_flg_in              => status_flg_in,
            status_flg_nin             => status_flg_nin,
            code_description_in        => code_description_in,
            code_description_nin       => code_description_nin,
            dt_dg_last_update_in       => dt_dg_last_update_in,
            dt_dg_last_update_nin      => dt_dg_last_update_nin,
            create_user_in             => create_user_in,
            create_user_nin            => create_user_nin,
            create_time_in             => create_time_in,
            create_time_nin            => create_time_nin,
            create_institution_in      => create_institution_in,
            create_institution_nin     => create_institution_nin,
            update_user_in             => update_user_in,
            update_user_nin            => update_user_nin,
            update_time_in             => update_time_in,
            update_time_nin            => update_time_nin,
            update_institution_in      => update_institution_in,
            update_institution_nin     => update_institution_nin,
            medication_subject_in      => medication_subject_in,
            medication_subject_nin     => medication_subject_nin,
            flg_outdated_in            => flg_outdated_in,
            flg_outdated_nin           => flg_outdated_nin,
            id_ref_group_in            => id_ref_group_in,
            id_ref_group_nin           => id_ref_group_nin,
            rank_in                    => rank_in,
            rank_nin                   => rank_nin,
            id_doc_area_in             => id_doc_area_in,
            id_doc_area_nin            => id_doc_area_nin,
            id_group_import_in         => id_group_import_in,
            id_group_import_nin        => id_group_import_nin,
            code_desc_group_in         => code_desc_group_in,
            code_desc_group_nin        => code_desc_group_nin,
            dt_execution_in            => dt_execution_in,
            dt_execution_nin           => dt_execution_nin,
            code_status_in             => code_status_in,
            code_status_nin            => code_status_nin,
            flg_sos_in                 => flg_sos_in,
            flg_sos_nin                => flg_sos_nin,
            id_sub_group_import_in     => id_sub_group_import_in,
            id_sub_group_import_nin    => id_sub_group_import_nin,
            code_desc_sub_group_in     => code_desc_sub_group_in,
            code_desc_sub_group_nin    => code_desc_sub_group_nin,
            id_task_aggregator_in      => id_task_aggregator_in,
            id_task_aggregator_nin     => id_task_aggregator_nin,
            universal_desc_clob_in     => universal_desc_clob_in,
            universal_desc_clob_nin    => universal_desc_clob_nin,
            id_parent_task_refid_in    => id_parent_task_refid_in,
            id_parent_task_refid_nin   => id_parent_task_refid_nin,
            flg_ongoing_in             => flg_ongoing_in,
            flg_ongoing_nin            => flg_ongoing_nin,
            flg_normal_in              => flg_normal_in,
            flg_normal_nin             => flg_normal_nin,
            id_prof_exec_in            => id_prof_exec_in,
            id_prof_exec_nin           => id_prof_exec_nin,
            dt_last_update_in          => dt_last_update_in,
            dt_last_update_nin         => dt_last_update_nin,
            flg_has_comments_in        => flg_has_comments_in,
            flg_has_comments_nin       => flg_has_comments_nin,
            dt_last_execution_in       => dt_last_execution_in,
            dt_last_execution_nin      => dt_last_execution_nin,
            id_parent_comments_in      => id_parent_comments_in,
            id_parent_comments_nin     => id_parent_comments_nin,
            id_prof_review_in          => id_prof_review_in,
            id_prof_review_nin         => id_prof_review_nin,
            dt_review_in               => dt_review_in,
            dt_review_nin              => dt_review_nin,
            id_task_notes_in           => id_task_notes_in,
            id_task_notes_nin          => id_task_notes_nin,
            id_sample_type_in          => id_sample_type_in,
            id_sample_type_nin         => id_sample_type_nin,
            code_desc_sample_type_in   => code_desc_sample_type_in,
            code_desc_sample_type_nin  => code_desc_sample_type_nin,
            flg_technical_in           => flg_technical_in,
            flg_technical_nin          => flg_technical_nin,
            flg_relevant_in            => flg_relevant_in,
            flg_relevant_nin           => flg_relevant_nin,
            flg_stat_in                => flg_stat_in,
            flg_stat_nin               => flg_stat_nin,
            id_task_related_in         => id_task_related_in,
            id_task_related_nin        => id_task_related_nin,
            flg_type_in                => flg_type_in,
            flg_type_nin               => flg_type_nin,
            dt_result_in               => dt_result_in,
            dt_result_nin              => dt_result_nin,
            code_desc_group_parent_in  => code_desc_group_parent_in,
            code_desc_group_parent_nin => code_desc_group_parent_nin,
            instructions_hash_in       => instructions_hash_in,
            instructions_hash_nin      => instructions_hash_nin,
            handle_error_in            => handle_error_in,
            rows_out                   => rows_out);
    END upd;

    --Update any/all columns by dynamic WHERE
    -- If you pass NULL, then the current column value is set to itself
    PROCEDURE upd
    (
        id_patient_in              IN task_timeline_ea.id_patient%TYPE DEFAULT NULL,
        id_patient_nin             IN BOOLEAN := TRUE,
        id_episode_in              IN task_timeline_ea.id_episode%TYPE DEFAULT NULL,
        id_episode_nin             IN BOOLEAN := TRUE,
        id_visit_in                IN task_timeline_ea.id_visit%TYPE DEFAULT NULL,
        id_visit_nin               IN BOOLEAN := TRUE,
        id_institution_in          IN task_timeline_ea.id_institution%TYPE DEFAULT NULL,
        id_institution_nin         IN BOOLEAN := TRUE,
        dt_req_in                  IN task_timeline_ea.dt_req%TYPE DEFAULT NULL,
        dt_req_nin                 IN BOOLEAN := TRUE,
        id_prof_req_in             IN task_timeline_ea.id_prof_req%TYPE DEFAULT NULL,
        id_prof_req_nin            IN BOOLEAN := TRUE,
        dt_begin_in                IN task_timeline_ea.dt_begin%TYPE DEFAULT NULL,
        dt_begin_nin               IN BOOLEAN := TRUE,
        dt_end_in                  IN task_timeline_ea.dt_end%TYPE DEFAULT NULL,
        dt_end_nin                 IN BOOLEAN := TRUE,
        flg_status_req_in          IN task_timeline_ea.flg_status_req%TYPE DEFAULT NULL,
        flg_status_req_nin         IN BOOLEAN := TRUE,
        table_name_in              IN task_timeline_ea.table_name%TYPE DEFAULT NULL,
        table_name_nin             IN BOOLEAN := TRUE,
        flg_show_method_in         IN task_timeline_ea.flg_show_method%TYPE DEFAULT NULL,
        flg_show_method_nin        IN BOOLEAN := TRUE,
        flg_type_viewer_in         IN task_timeline_ea.flg_type_viewer%TYPE DEFAULT NULL,
        flg_type_viewer_nin        IN BOOLEAN := TRUE,
        status_str_in              IN task_timeline_ea.status_str%TYPE DEFAULT NULL,
        status_str_nin             IN BOOLEAN := TRUE,
        status_msg_in              IN task_timeline_ea.status_msg%TYPE DEFAULT NULL,
        status_msg_nin             IN BOOLEAN := TRUE,
        status_icon_in             IN task_timeline_ea.status_icon%TYPE DEFAULT NULL,
        status_icon_nin            IN BOOLEAN := TRUE,
        status_flg_in              IN task_timeline_ea.status_flg%TYPE DEFAULT NULL,
        status_flg_nin             IN BOOLEAN := TRUE,
        code_description_in        IN task_timeline_ea.code_description%TYPE DEFAULT NULL,
        code_description_nin       IN BOOLEAN := TRUE,
        dt_dg_last_update_in       IN task_timeline_ea.dt_dg_last_update%TYPE DEFAULT NULL,
        dt_dg_last_update_nin      IN BOOLEAN := TRUE,
        create_user_in             IN task_timeline_ea.create_user%TYPE DEFAULT NULL,
        create_user_nin            IN BOOLEAN := TRUE,
        create_time_in             IN task_timeline_ea.create_time%TYPE DEFAULT NULL,
        create_time_nin            IN BOOLEAN := TRUE,
        create_institution_in      IN task_timeline_ea.create_institution%TYPE DEFAULT NULL,
        create_institution_nin     IN BOOLEAN := TRUE,
        update_user_in             IN task_timeline_ea.update_user%TYPE DEFAULT NULL,
        update_user_nin            IN BOOLEAN := TRUE,
        update_time_in             IN task_timeline_ea.update_time%TYPE DEFAULT NULL,
        update_time_nin            IN BOOLEAN := TRUE,
        update_institution_in      IN task_timeline_ea.update_institution%TYPE DEFAULT NULL,
        update_institution_nin     IN BOOLEAN := TRUE,
        medication_subject_in      IN task_timeline_ea.medication_subject%TYPE DEFAULT NULL,
        medication_subject_nin     IN BOOLEAN := TRUE,
        flg_outdated_in            IN task_timeline_ea.flg_outdated%TYPE DEFAULT NULL,
        flg_outdated_nin           IN BOOLEAN := TRUE,
        id_ref_group_in            IN task_timeline_ea.id_ref_group%TYPE DEFAULT NULL,
        id_ref_group_nin           IN BOOLEAN := TRUE,
        rank_in                    IN task_timeline_ea.rank%TYPE DEFAULT NULL,
        rank_nin                   IN BOOLEAN := TRUE,
        id_doc_area_in             IN task_timeline_ea.id_doc_area%TYPE DEFAULT NULL,
        id_doc_area_nin            IN BOOLEAN := TRUE,
        id_group_import_in         IN task_timeline_ea.id_group_import%TYPE DEFAULT NULL,
        id_group_import_nin        IN BOOLEAN := TRUE,
        code_desc_group_in         IN task_timeline_ea.code_desc_group%TYPE DEFAULT NULL,
        code_desc_group_nin        IN BOOLEAN := TRUE,
        dt_execution_in            IN task_timeline_ea.dt_execution%TYPE DEFAULT NULL,
        dt_execution_nin           IN BOOLEAN := TRUE,
        code_status_in             IN task_timeline_ea.code_status%TYPE DEFAULT NULL,
        code_status_nin            IN BOOLEAN := TRUE,
        flg_sos_in                 IN task_timeline_ea.flg_sos%TYPE DEFAULT NULL,
        flg_sos_nin                IN BOOLEAN := TRUE,
        id_sub_group_import_in     IN task_timeline_ea.id_sub_group_import%TYPE DEFAULT NULL,
        id_sub_group_import_nin    IN BOOLEAN := TRUE,
        code_desc_sub_group_in     IN task_timeline_ea.code_desc_sub_group%TYPE DEFAULT NULL,
        code_desc_sub_group_nin    IN BOOLEAN := TRUE,
        id_task_aggregator_in      IN task_timeline_ea.id_task_aggregator%TYPE DEFAULT NULL,
        id_task_aggregator_nin     IN BOOLEAN := TRUE,
        universal_desc_clob_in     IN task_timeline_ea.universal_desc_clob%TYPE DEFAULT NULL,
        universal_desc_clob_nin    IN BOOLEAN := TRUE,
        id_parent_task_refid_in    IN task_timeline_ea.id_parent_task_refid%TYPE DEFAULT NULL,
        id_parent_task_refid_nin   IN BOOLEAN := TRUE,
        flg_ongoing_in             IN task_timeline_ea.flg_ongoing%TYPE DEFAULT NULL,
        flg_ongoing_nin            IN BOOLEAN := TRUE,
        flg_normal_in              IN task_timeline_ea.flg_normal%TYPE DEFAULT NULL,
        flg_normal_nin             IN BOOLEAN := TRUE,
        id_prof_exec_in            IN task_timeline_ea.id_prof_exec%TYPE DEFAULT NULL,
        id_prof_exec_nin           IN BOOLEAN := TRUE,
        dt_last_update_in          IN task_timeline_ea.dt_last_update%TYPE DEFAULT NULL,
        dt_last_update_nin         IN BOOLEAN := TRUE,
        flg_has_comments_in        IN task_timeline_ea.flg_has_comments%TYPE DEFAULT NULL,
        flg_has_comments_nin       IN BOOLEAN := TRUE,
        dt_last_execution_in       IN task_timeline_ea.dt_last_execution%TYPE DEFAULT NULL,
        dt_last_execution_nin      IN BOOLEAN := TRUE,
        id_parent_comments_in      IN task_timeline_ea.id_parent_comments%TYPE DEFAULT NULL,
        id_parent_comments_nin     IN BOOLEAN := TRUE,
        id_prof_review_in          IN task_timeline_ea.id_prof_review%TYPE DEFAULT NULL,
        id_prof_review_nin         IN BOOLEAN := TRUE,
        dt_review_in               IN task_timeline_ea.dt_review%TYPE DEFAULT NULL,
        dt_review_nin              IN BOOLEAN := TRUE,
        id_task_notes_in           IN task_timeline_ea.id_task_notes%TYPE DEFAULT NULL,
        id_task_notes_nin          IN BOOLEAN := TRUE,
        id_sample_type_in          IN task_timeline_ea.id_sample_type%TYPE DEFAULT NULL,
        id_sample_type_nin         IN BOOLEAN := TRUE,
        code_desc_sample_type_in   IN task_timeline_ea.code_desc_sample_type%TYPE DEFAULT NULL,
        code_desc_sample_type_nin  IN BOOLEAN := TRUE,
        flg_technical_in           IN task_timeline_ea.flg_technical%TYPE DEFAULT NULL,
        flg_technical_nin          IN BOOLEAN := TRUE,
        flg_relevant_in            IN task_timeline_ea.flg_relevant%TYPE DEFAULT NULL,
        flg_relevant_nin           IN BOOLEAN := TRUE,
        flg_stat_in                IN task_timeline_ea.flg_stat%TYPE DEFAULT NULL,
        flg_stat_nin               IN BOOLEAN := TRUE,
        id_task_related_in         IN task_timeline_ea.id_task_related%TYPE DEFAULT NULL,
        id_task_related_nin        IN BOOLEAN := TRUE,
        flg_type_in                IN task_timeline_ea.flg_type%TYPE DEFAULT NULL,
        flg_type_nin               IN BOOLEAN := TRUE,
        dt_result_in               IN task_timeline_ea.dt_result%TYPE DEFAULT NULL,
        dt_result_nin              IN BOOLEAN := TRUE,
        code_desc_group_parent_in  IN task_timeline_ea.code_desc_group_parent%TYPE DEFAULT NULL,
        code_desc_group_parent_nin IN BOOLEAN := TRUE,
        instructions_hash_in       IN task_timeline_ea.instructions_hash%TYPE DEFAULT NULL,
        instructions_hash_nin      IN BOOLEAN := TRUE,
        where_in                   IN VARCHAR2,
        handle_error_in            IN BOOLEAN := FALSE,
        rows_out                   IN OUT table_varchar
    ) IS
        l_sql                      VARCHAR2(32767);
        l_rows_out                 table_varchar;
        l_id_patient_n             NUMBER(1) := sys.diutil.bool_to_int(id_patient_nin);
        l_id_episode_n             NUMBER(1) := sys.diutil.bool_to_int(id_episode_nin);
        l_id_visit_n               NUMBER(1) := sys.diutil.bool_to_int(id_visit_nin);
        l_id_institution_n         NUMBER(1) := sys.diutil.bool_to_int(id_institution_nin);
        l_dt_req_n                 NUMBER(1) := sys.diutil.bool_to_int(dt_req_nin);
        l_id_prof_req_n            NUMBER(1) := sys.diutil.bool_to_int(id_prof_req_nin);
        l_dt_begin_n               NUMBER(1) := sys.diutil.bool_to_int(dt_begin_nin);
        l_dt_end_n                 NUMBER(1) := sys.diutil.bool_to_int(dt_end_nin);
        l_flg_status_req_n         NUMBER(1) := sys.diutil.bool_to_int(flg_status_req_nin);
        l_table_name_n             NUMBER(1) := sys.diutil.bool_to_int(table_name_nin);
        l_flg_show_method_n        NUMBER(1) := sys.diutil.bool_to_int(flg_show_method_nin);
        l_flg_type_viewer_n        NUMBER(1) := sys.diutil.bool_to_int(flg_type_viewer_nin);
        l_status_str_n             NUMBER(1) := sys.diutil.bool_to_int(status_str_nin);
        l_status_msg_n             NUMBER(1) := sys.diutil.bool_to_int(status_msg_nin);
        l_status_icon_n            NUMBER(1) := sys.diutil.bool_to_int(status_icon_nin);
        l_status_flg_n             NUMBER(1) := sys.diutil.bool_to_int(status_flg_nin);
        l_code_description_n       NUMBER(1) := sys.diutil.bool_to_int(code_description_nin);
        l_dt_dg_last_update_n      NUMBER(1) := sys.diutil.bool_to_int(dt_dg_last_update_nin);
        l_create_user_n            NUMBER(1) := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n            NUMBER(1) := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n     NUMBER(1) := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n            NUMBER(1) := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n            NUMBER(1) := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n     NUMBER(1) := sys.diutil.bool_to_int(update_institution_nin);
        l_medication_subject_n     NUMBER(1) := sys.diutil.bool_to_int(medication_subject_nin);
        l_flg_outdated_n           NUMBER(1) := sys.diutil.bool_to_int(flg_outdated_nin);
        l_id_ref_group_n           NUMBER(1) := sys.diutil.bool_to_int(id_ref_group_nin);
        l_rank_n                   NUMBER(1) := sys.diutil.bool_to_int(rank_nin);
        l_id_doc_area_n            NUMBER(1) := sys.diutil.bool_to_int(id_doc_area_nin);
        l_id_group_import_n        NUMBER(1) := sys.diutil.bool_to_int(id_group_import_nin);
        l_code_desc_group_n        NUMBER(1) := sys.diutil.bool_to_int(code_desc_group_nin);
        l_dt_execution_n           NUMBER(1) := sys.diutil.bool_to_int(dt_execution_nin);
        l_code_status_n            NUMBER(1) := sys.diutil.bool_to_int(code_status_nin);
        l_flg_sos_n                NUMBER(1) := sys.diutil.bool_to_int(flg_sos_nin);
        l_id_sub_group_import_n    NUMBER(1) := sys.diutil.bool_to_int(id_sub_group_import_nin);
        l_code_desc_sub_group_n    NUMBER(1) := sys.diutil.bool_to_int(code_desc_sub_group_nin);
        l_id_task_aggregator_n     NUMBER(1) := sys.diutil.bool_to_int(id_task_aggregator_nin);
        l_universal_desc_clob_n    NUMBER(1) := sys.diutil.bool_to_int(universal_desc_clob_nin);
        l_id_parent_task_refid_n   NUMBER(1) := sys.diutil.bool_to_int(id_parent_task_refid_nin);
        l_flg_ongoing_n            NUMBER(1) := sys.diutil.bool_to_int(flg_ongoing_nin);
        l_flg_normal_n             NUMBER(1) := sys.diutil.bool_to_int(flg_normal_nin);
        l_id_prof_exec_n           NUMBER(1) := sys.diutil.bool_to_int(id_prof_exec_nin);
        l_dt_last_update_n         NUMBER(1) := sys.diutil.bool_to_int(dt_last_update_nin);
        l_flg_has_comments_n       NUMBER(1) := sys.diutil.bool_to_int(flg_has_comments_nin);
        l_dt_last_execution_n      NUMBER(1) := sys.diutil.bool_to_int(dt_last_execution_nin);
        l_id_parent_comments_n     NUMBER(1) := sys.diutil.bool_to_int(id_parent_comments_nin);
        l_id_prof_review_n         NUMBER(1) := sys.diutil.bool_to_int(id_prof_review_nin);
        l_dt_review_n              NUMBER(1) := sys.diutil.bool_to_int(dt_review_nin);
        l_id_task_notes_n          NUMBER(1) := sys.diutil.bool_to_int(id_task_notes_nin);
        l_id_sample_type_n         NUMBER(1) := sys.diutil.bool_to_int(id_sample_type_nin);
        l_code_desc_sample_type_n  NUMBER(1) := sys.diutil.bool_to_int(code_desc_sample_type_nin);
        l_flg_technical_n          NUMBER(1) := sys.diutil.bool_to_int(flg_technical_nin);
        l_flg_relevant_n           NUMBER(1) := sys.diutil.bool_to_int(flg_relevant_nin);
        l_flg_stat_n               NUMBER(1) := sys.diutil.bool_to_int(flg_stat_nin);
        l_id_task_related_n        NUMBER(1) := sys.diutil.bool_to_int(id_task_related_nin);
        l_flg_type_n               NUMBER(1) := sys.diutil.bool_to_int(flg_type_nin);
        l_dt_result_n              NUMBER(1) := sys.diutil.bool_to_int(dt_result_nin);
        l_code_desc_group_parent_n NUMBER(1) := sys.diutil.bool_to_int(code_desc_group_parent_nin);
        l_instructions_hash_n      NUMBER(1) := sys.diutil.bool_to_int(instructions_hash_nin);
    BEGIN
        l_id_patient_n             := sys.diutil.bool_to_int(id_patient_nin);
        l_id_episode_n             := sys.diutil.bool_to_int(id_episode_nin);
        l_id_visit_n               := sys.diutil.bool_to_int(id_visit_nin);
        l_id_institution_n         := sys.diutil.bool_to_int(id_institution_nin);
        l_dt_req_n                 := sys.diutil.bool_to_int(dt_req_nin);
        l_id_prof_req_n            := sys.diutil.bool_to_int(id_prof_req_nin);
        l_dt_begin_n               := sys.diutil.bool_to_int(dt_begin_nin);
        l_dt_end_n                 := sys.diutil.bool_to_int(dt_end_nin);
        l_flg_status_req_n         := sys.diutil.bool_to_int(flg_status_req_nin);
        l_table_name_n             := sys.diutil.bool_to_int(table_name_nin);
        l_flg_show_method_n        := sys.diutil.bool_to_int(flg_show_method_nin);
        l_flg_type_viewer_n        := sys.diutil.bool_to_int(flg_type_viewer_nin);
        l_status_str_n             := sys.diutil.bool_to_int(status_str_nin);
        l_status_msg_n             := sys.diutil.bool_to_int(status_msg_nin);
        l_status_icon_n            := sys.diutil.bool_to_int(status_icon_nin);
        l_status_flg_n             := sys.diutil.bool_to_int(status_flg_nin);
        l_code_description_n       := sys.diutil.bool_to_int(code_description_nin);
        l_dt_dg_last_update_n      := sys.diutil.bool_to_int(dt_dg_last_update_nin);
        l_create_user_n            := sys.diutil.bool_to_int(create_user_nin);
        l_create_time_n            := sys.diutil.bool_to_int(create_time_nin);
        l_create_institution_n     := sys.diutil.bool_to_int(create_institution_nin);
        l_update_user_n            := sys.diutil.bool_to_int(update_user_nin);
        l_update_time_n            := sys.diutil.bool_to_int(update_time_nin);
        l_update_institution_n     := sys.diutil.bool_to_int(update_institution_nin);
        l_medication_subject_n     := sys.diutil.bool_to_int(medication_subject_nin);
        l_flg_outdated_n           := sys.diutil.bool_to_int(flg_outdated_nin);
        l_id_ref_group_n           := sys.diutil.bool_to_int(id_ref_group_nin);
        l_rank_n                   := sys.diutil.bool_to_int(rank_nin);
        l_id_doc_area_n            := sys.diutil.bool_to_int(id_doc_area_nin);
        l_id_group_import_n        := sys.diutil.bool_to_int(id_group_import_nin);
        l_code_desc_group_n        := sys.diutil.bool_to_int(code_desc_group_nin);
        l_dt_execution_n           := sys.diutil.bool_to_int(dt_execution_nin);
        l_code_status_n            := sys.diutil.bool_to_int(code_status_nin);
        l_flg_sos_n                := sys.diutil.bool_to_int(flg_sos_nin);
        l_id_sub_group_import_n    := sys.diutil.bool_to_int(id_sub_group_import_nin);
        l_code_desc_sub_group_n    := sys.diutil.bool_to_int(code_desc_sub_group_nin);
        l_id_task_aggregator_n     := sys.diutil.bool_to_int(id_task_aggregator_nin);
        l_universal_desc_clob_n    := sys.diutil.bool_to_int(universal_desc_clob_nin);
        l_id_parent_task_refid_n   := sys.diutil.bool_to_int(id_parent_task_refid_nin);
        l_flg_ongoing_n            := sys.diutil.bool_to_int(flg_ongoing_nin);
        l_flg_normal_n             := sys.diutil.bool_to_int(flg_normal_nin);
        l_id_prof_exec_n           := sys.diutil.bool_to_int(id_prof_exec_nin);
        l_dt_last_update_n         := sys.diutil.bool_to_int(dt_last_update_nin);
        l_flg_has_comments_n       := sys.diutil.bool_to_int(flg_has_comments_nin);
        l_dt_last_execution_n      := sys.diutil.bool_to_int(dt_last_execution_nin);
        l_id_parent_comments_n     := sys.diutil.bool_to_int(id_parent_comments_nin);
        l_id_prof_review_n         := sys.diutil.bool_to_int(id_prof_review_nin);
        l_dt_review_n              := sys.diutil.bool_to_int(dt_review_nin);
        l_id_task_notes_n          := sys.diutil.bool_to_int(id_task_notes_nin);
        l_id_sample_type_n         := sys.diutil.bool_to_int(id_sample_type_nin);
        l_code_desc_sample_type_n  := sys.diutil.bool_to_int(code_desc_sample_type_nin);
        l_flg_technical_n          := sys.diutil.bool_to_int(flg_technical_nin);
        l_flg_relevant_n           := sys.diutil.bool_to_int(flg_relevant_nin);
        l_flg_stat_n               := sys.diutil.bool_to_int(flg_stat_nin);
        l_id_task_related_n        := sys.diutil.bool_to_int(id_task_related_nin);
        l_flg_type_n               := sys.diutil.bool_to_int(flg_type_nin);
        l_dt_result_n              := sys.diutil.bool_to_int(dt_result_nin);
        l_code_desc_group_parent_n := sys.diutil.bool_to_int(code_desc_group_parent_nin);
        l_instructions_hash_n      := sys.diutil.bool_to_int(instructions_hash_nin);
        l_sql                      := 'UPDATE task_timeline_ea SET' || ' ID_PATIENT = decode (' || l_id_patient_n ||
                                      ',0,:ID_PATIENT_in, NVL (:ID_PATIENT_in, ID_PATIENT)) ' || ',' ||
                                      ' ID_EPISODE = decode (' || l_id_episode_n ||
                                      ',0,:ID_EPISODE_in, NVL (:ID_EPISODE_in, ID_EPISODE)) ' || ',' ||
                                      ' ID_VISIT = decode (' || l_id_visit_n ||
                                      ',0,:ID_VISIT_in, NVL (:ID_VISIT_in, ID_VISIT)) ' || ',' ||
                                      ' ID_INSTITUTION = decode (' || l_id_institution_n ||
                                      ',0,:ID_INSTITUTION_in, NVL (:ID_INSTITUTION_in, ID_INSTITUTION)) ' || ',' ||
                                      ' DT_REQ = decode (' || l_dt_req_n || ',0,:DT_REQ_in, NVL (:DT_REQ_in, DT_REQ)) ' || ',' ||
                                      ' ID_PROF_REQ = decode (' || l_id_prof_req_n ||
                                      ',0,:ID_PROF_REQ_in, NVL (:ID_PROF_REQ_in, ID_PROF_REQ)) ' || ',' ||
                                      ' DT_BEGIN = decode (' || l_dt_begin_n ||
                                      ',0,:DT_BEGIN_in, NVL (:DT_BEGIN_in, DT_BEGIN)) ' || ',' || ' DT_END = decode (' ||
                                      l_dt_end_n || ',0,:DT_END_in, NVL (:DT_END_in, DT_END)) ' || ',' ||
                                      ' FLG_STATUS_REQ = decode (' || l_flg_status_req_n ||
                                      ',0,:FLG_STATUS_REQ_in, NVL (:FLG_STATUS_REQ_in, FLG_STATUS_REQ)) ' || ',' ||
                                      ' TABLE_NAME = decode (' || l_table_name_n ||
                                      ',0,:TABLE_NAME_in, NVL (:TABLE_NAME_in, TABLE_NAME)) ' || ',' ||
                                      ' FLG_SHOW_METHOD = decode (' || l_flg_show_method_n ||
                                      ',0,:FLG_SHOW_METHOD_in, NVL (:FLG_SHOW_METHOD_in, FLG_SHOW_METHOD)) ' || ',' ||
                                      ' FLG_TYPE_VIEWER = decode (' || l_flg_type_viewer_n ||
                                      ',0,:FLG_TYPE_VIEWER_in, NVL (:FLG_TYPE_VIEWER_in, FLG_TYPE_VIEWER)) ' || ',' ||
                                      ' STATUS_STR = decode (' || l_status_str_n ||
                                      ',0,:STATUS_STR_in, NVL (:STATUS_STR_in, STATUS_STR)) ' || ',' ||
                                      ' STATUS_MSG = decode (' || l_status_msg_n ||
                                      ',0,:STATUS_MSG_in, NVL (:STATUS_MSG_in, STATUS_MSG)) ' || ',' ||
                                      ' STATUS_ICON = decode (' || l_status_icon_n ||
                                      ',0,:STATUS_ICON_in, NVL (:STATUS_ICON_in, STATUS_ICON)) ' || ',' ||
                                      ' STATUS_FLG = decode (' || l_status_flg_n ||
                                      ',0,:STATUS_FLG_in, NVL (:STATUS_FLG_in, STATUS_FLG)) ' || ',' ||
                                      ' CODE_DESCRIPTION = decode (' || l_code_description_n ||
                                      ',0,:CODE_DESCRIPTION_in, NVL (:CODE_DESCRIPTION_in, CODE_DESCRIPTION)) ' || ',' ||
                                      ' DT_DG_LAST_UPDATE = decode (' || l_dt_dg_last_update_n ||
                                      ',0,:DT_DG_LAST_UPDATE_in, NVL (:DT_DG_LAST_UPDATE_in, DT_DG_LAST_UPDATE)) ' || ',' ||
                                      ' CREATE_USER = decode (' || l_create_user_n ||
                                      ',0,:CREATE_USER_in, NVL (:CREATE_USER_in, CREATE_USER)) ' || ',' ||
                                      ' CREATE_TIME = decode (' || l_create_time_n ||
                                      ',0,:CREATE_TIME_in, NVL (:CREATE_TIME_in, CREATE_TIME)) ' || ',' ||
                                      ' CREATE_INSTITUTION = decode (' || l_create_institution_n ||
                                      ',0,:CREATE_INSTITUTION_in, NVL (:CREATE_INSTITUTION_in, CREATE_INSTITUTION)) ' || ',' ||
                                      ' UPDATE_USER = decode (' || l_update_user_n ||
                                      ',0,:UPDATE_USER_in, NVL (:UPDATE_USER_in, UPDATE_USER)) ' || ',' ||
                                      ' UPDATE_TIME = decode (' || l_update_time_n ||
                                      ',0,:UPDATE_TIME_in, NVL (:UPDATE_TIME_in, UPDATE_TIME)) ' || ',' ||
                                      ' UPDATE_INSTITUTION = decode (' || l_update_institution_n ||
                                      ',0,:UPDATE_INSTITUTION_in, NVL (:UPDATE_INSTITUTION_in, UPDATE_INSTITUTION)) ' || ',' ||
                                      ' MEDICATION_SUBJECT = decode (' || l_medication_subject_n ||
                                      ',0,:MEDICATION_SUBJECT_in, NVL (:MEDICATION_SUBJECT_in, MEDICATION_SUBJECT)) ' || ',' ||
                                      ' FLG_OUTDATED = decode (' || l_flg_outdated_n ||
                                      ',0,:FLG_OUTDATED_in, NVL (:FLG_OUTDATED_in, FLG_OUTDATED)) ' || ',' ||
                                      ' ID_REF_GROUP = decode (' || l_id_ref_group_n ||
                                      ',0,:ID_REF_GROUP_in, NVL (:ID_REF_GROUP_in, ID_REF_GROUP)) ' || ',' ||
                                      ' RANK = decode (' || l_rank_n || ',0,:RANK_in, NVL (:RANK_in, RANK)) ' || ',' ||
                                      ' ID_DOC_AREA = decode (' || l_id_doc_area_n ||
                                      ',0,:ID_DOC_AREA_in, NVL (:ID_DOC_AREA_in, ID_DOC_AREA)) ' || ',' ||
                                      ' ID_GROUP_IMPORT = decode (' || l_id_group_import_n ||
                                      ',0,:ID_GROUP_IMPORT_in, NVL (:ID_GROUP_IMPORT_in, ID_GROUP_IMPORT)) ' || ',' ||
                                      ' CODE_DESC_GROUP = decode (' || l_code_desc_group_n ||
                                      ',0,:CODE_DESC_GROUP_in, NVL (:CODE_DESC_GROUP_in, CODE_DESC_GROUP)) ' || ',' ||
                                      ' DT_EXECUTION = decode (' || l_dt_execution_n ||
                                      ',0,:DT_EXECUTION_in, NVL (:DT_EXECUTION_in, DT_EXECUTION)) ' || ',' ||
                                      ' CODE_STATUS = decode (' || l_code_status_n ||
                                      ',0,:CODE_STATUS_in, NVL (:CODE_STATUS_in, CODE_STATUS)) ' || ',' ||
                                      ' FLG_SOS = decode (' || l_flg_sos_n ||
                                      ',0,:FLG_SOS_in, NVL (:FLG_SOS_in, FLG_SOS)) ' || ',' ||
                                      ' ID_SUB_GROUP_IMPORT = decode (' || l_id_sub_group_import_n ||
                                      ',0,:ID_SUB_GROUP_IMPORT_in, NVL (:ID_SUB_GROUP_IMPORT_in, ID_SUB_GROUP_IMPORT)) ' || ',' ||
                                      ' CODE_DESC_SUB_GROUP = decode (' || l_code_desc_sub_group_n ||
                                      ',0,:CODE_DESC_SUB_GROUP_in, NVL (:CODE_DESC_SUB_GROUP_in, CODE_DESC_SUB_GROUP)) ' || ',' ||
                                      ' ID_TASK_AGGREGATOR = decode (' || l_id_task_aggregator_n ||
                                      ',0,:ID_TASK_AGGREGATOR_in, NVL (:ID_TASK_AGGREGATOR_in, ID_TASK_AGGREGATOR)) ' || ',' ||
                                      ' UNIVERSAL_DESC_CLOB = decode (' || l_universal_desc_clob_n ||
                                      ',0,:UNIVERSAL_DESC_CLOB_in, NVL (:UNIVERSAL_DESC_CLOB_in, UNIVERSAL_DESC_CLOB)) ' || ',' ||
                                      ' ID_PARENT_TASK_REFID = decode (' || l_id_parent_task_refid_n ||
                                      ',0,:ID_PARENT_TASK_REFID_in, NVL (:ID_PARENT_TASK_REFID_in, ID_PARENT_TASK_REFID)) ' || ',' ||
                                      ' FLG_ONGOING = decode (' || l_flg_ongoing_n ||
                                      ',0,:FLG_ONGOING_in, NVL (:FLG_ONGOING_in, FLG_ONGOING)) ' || ',' ||
                                      ' FLG_NORMAL = decode (' || l_flg_normal_n ||
                                      ',0,:FLG_NORMAL_in, NVL (:FLG_NORMAL_in, FLG_NORMAL)) ' || ',' ||
                                      ' ID_PROF_EXEC = decode (' || l_id_prof_exec_n ||
                                      ',0,:ID_PROF_EXEC_in, NVL (:ID_PROF_EXEC_in, ID_PROF_EXEC)) ' || ',' ||
                                      ' DT_LAST_UPDATE = decode (' || l_dt_last_update_n ||
                                      ',0,:DT_LAST_UPDATE_in, NVL (:DT_LAST_UPDATE_in, DT_LAST_UPDATE)) ' || ',' ||
                                      ' FLG_HAS_COMMENTS = decode (' || l_flg_has_comments_n ||
                                      ',0,:FLG_HAS_COMMENTS_in, NVL (:FLG_HAS_COMMENTS_in, FLG_HAS_COMMENTS)) ' || ',' ||
                                      ' DT_LAST_EXECUTION = decode (' || l_dt_last_execution_n ||
                                      ',0,:DT_LAST_EXECUTION_in, NVL (:DT_LAST_EXECUTION_in, DT_LAST_EXECUTION)) ' || ',' ||
                                      ' ID_PARENT_COMMENTS = decode (' || l_id_parent_comments_n ||
                                      ',0,:ID_PARENT_COMMENTS_in, NVL (:ID_PARENT_COMMENTS_in, ID_PARENT_COMMENTS)) ' || ',' ||
                                      ' ID_PROF_REVIEW = decode (' || l_id_prof_review_n ||
                                      ',0,:ID_PROF_REVIEW_in, NVL (:ID_PROF_REVIEW_in, ID_PROF_REVIEW)) ' || ',' ||
                                      ' DT_REVIEW = decode (' || l_dt_review_n ||
                                      ',0,:DT_REVIEW_in, NVL (:DT_REVIEW_in, DT_REVIEW)) ' || ',' ||
                                      ' ID_TASK_NOTES = decode (' || l_id_task_notes_n ||
                                      ',0,:ID_TASK_NOTES_in, NVL (:ID_TASK_NOTES_in, ID_TASK_NOTES)) ' || ',' ||
                                      ' ID_SAMPLE_TYPE = decode (' || l_id_sample_type_n ||
                                      ',0,:ID_SAMPLE_TYPE_in, NVL (:ID_SAMPLE_TYPE_in, ID_SAMPLE_TYPE)) ' || ',' ||
                                      ' CODE_DESC_SAMPLE_TYPE = decode (' || l_code_desc_sample_type_n ||
                                      ',0,:CODE_DESC_SAMPLE_TYPE_in, NVL (:CODE_DESC_SAMPLE_TYPE_in, CODE_DESC_SAMPLE_TYPE)) ' || ',' ||
                                      ' FLG_TECHNICAL = decode (' || l_flg_technical_n ||
                                      ',0,:FLG_TECHNICAL_in, NVL (:FLG_TECHNICAL_in, FLG_TECHNICAL)) ' || ',' ||
                                      ' FLG_RELEVANT = decode (' || l_flg_relevant_n ||
                                      ',0,:FLG_RELEVANT_in, NVL (:FLG_RELEVANT_in, FLG_RELEVANT)) ' || ',' ||
                                      ' FLG_STAT = decode (' || l_flg_stat_n ||
                                      ',0,:FLG_STAT_in, NVL (:FLG_STAT_in, FLG_STAT)) ' || ',' ||
                                      ' ID_TASK_RELATED = decode (' || l_id_task_related_n ||
                                      ',0,:ID_TASK_RELATED_in, NVL (:ID_TASK_RELATED_in, ID_TASK_RELATED)) ' || ',' ||
                                      ' FLG_TYPE = decode (' || l_flg_type_n ||
                                      ',0,:FLG_TYPE_in, NVL (:FLG_TYPE_in, FLG_TYPE)) ' || ',' ||
                                      ' DT_RESULT = decode (' || l_dt_result_n ||
                                      ',0,:DT_RESULT_in, NVL (:DT_RESULT_in, DT_RESULT)) ' || ',' ||
                                      ' CODE_DESC_GROUP_PARENT = decode (' || l_code_desc_group_parent_n ||
                                      ',0,:CODE_DESC_GROUP_PARENT_in, NVL (:CODE_DESC_GROUP_PARENT_in, CODE_DESC_GROUP_PARENT)) ' || ',' ||
                                      ' INSTRUCTIONS_HASH = decode (' || l_instructions_hash_n ||
                                      ',0,:INSTRUCTIONS_HASH_in, NVL (:INSTRUCTIONS_HASH_in, INSTRUCTIONS_HASH)) ' ||
                                      ' where ' || nvl(where_in, '(1=1)') ||
                                      ' RETURNING ROWID BULK COLLECT INTO :l_rows_out';
        EXECUTE IMMEDIATE 'BEGIN ' || l_sql || '; END;'
            USING IN id_patient_in, id_episode_in, id_visit_in, id_institution_in, dt_req_in, id_prof_req_in, dt_begin_in, dt_end_in, flg_status_req_in, table_name_in, flg_show_method_in, flg_type_viewer_in, status_str_in, status_msg_in, status_icon_in, status_flg_in, code_description_in, dt_dg_last_update_in, create_user_in, create_time_in, create_institution_in, update_user_in, update_time_in, update_institution_in, medication_subject_in, flg_outdated_in, id_ref_group_in, rank_in, id_doc_area_in, id_group_import_in, code_desc_group_in, dt_execution_in, code_status_in, flg_sos_in, id_sub_group_import_in, code_desc_sub_group_in, id_task_aggregator_in, universal_desc_clob_in, id_parent_task_refid_in, flg_ongoing_in, flg_normal_in, id_prof_exec_in, dt_last_update_in, flg_has_comments_in, dt_last_execution_in, id_parent_comments_in, id_prof_review_in, dt_review_in, id_task_notes_in, id_sample_type_in, code_desc_sample_type_in, flg_technical_in, flg_relevant_in, flg_stat_in, id_task_related_in, flg_type_in, dt_result_in, code_desc_group_parent_in, instructions_hash_in, OUT l_rows_out;
        IF (rows_out IS NULL)
        THEN
            rows_out := table_varchar();
        END IF;
        rows_out := rows_out MULTISET UNION DISTINCT l_rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    --Update any/all columns by dynamic WHERE
    -- If you pass NULL, then the current column value is set to itself
    PROCEDURE upd
    (
        id_patient_in              IN task_timeline_ea.id_patient%TYPE DEFAULT NULL,
        id_patient_nin             IN BOOLEAN := TRUE,
        id_episode_in              IN task_timeline_ea.id_episode%TYPE DEFAULT NULL,
        id_episode_nin             IN BOOLEAN := TRUE,
        id_visit_in                IN task_timeline_ea.id_visit%TYPE DEFAULT NULL,
        id_visit_nin               IN BOOLEAN := TRUE,
        id_institution_in          IN task_timeline_ea.id_institution%TYPE DEFAULT NULL,
        id_institution_nin         IN BOOLEAN := TRUE,
        dt_req_in                  IN task_timeline_ea.dt_req%TYPE DEFAULT NULL,
        dt_req_nin                 IN BOOLEAN := TRUE,
        id_prof_req_in             IN task_timeline_ea.id_prof_req%TYPE DEFAULT NULL,
        id_prof_req_nin            IN BOOLEAN := TRUE,
        dt_begin_in                IN task_timeline_ea.dt_begin%TYPE DEFAULT NULL,
        dt_begin_nin               IN BOOLEAN := TRUE,
        dt_end_in                  IN task_timeline_ea.dt_end%TYPE DEFAULT NULL,
        dt_end_nin                 IN BOOLEAN := TRUE,
        flg_status_req_in          IN task_timeline_ea.flg_status_req%TYPE DEFAULT NULL,
        flg_status_req_nin         IN BOOLEAN := TRUE,
        table_name_in              IN task_timeline_ea.table_name%TYPE DEFAULT NULL,
        table_name_nin             IN BOOLEAN := TRUE,
        flg_show_method_in         IN task_timeline_ea.flg_show_method%TYPE DEFAULT NULL,
        flg_show_method_nin        IN BOOLEAN := TRUE,
        flg_type_viewer_in         IN task_timeline_ea.flg_type_viewer%TYPE DEFAULT NULL,
        flg_type_viewer_nin        IN BOOLEAN := TRUE,
        status_str_in              IN task_timeline_ea.status_str%TYPE DEFAULT NULL,
        status_str_nin             IN BOOLEAN := TRUE,
        status_msg_in              IN task_timeline_ea.status_msg%TYPE DEFAULT NULL,
        status_msg_nin             IN BOOLEAN := TRUE,
        status_icon_in             IN task_timeline_ea.status_icon%TYPE DEFAULT NULL,
        status_icon_nin            IN BOOLEAN := TRUE,
        status_flg_in              IN task_timeline_ea.status_flg%TYPE DEFAULT NULL,
        status_flg_nin             IN BOOLEAN := TRUE,
        code_description_in        IN task_timeline_ea.code_description%TYPE DEFAULT NULL,
        code_description_nin       IN BOOLEAN := TRUE,
        dt_dg_last_update_in       IN task_timeline_ea.dt_dg_last_update%TYPE DEFAULT NULL,
        dt_dg_last_update_nin      IN BOOLEAN := TRUE,
        create_user_in             IN task_timeline_ea.create_user%TYPE DEFAULT NULL,
        create_user_nin            IN BOOLEAN := TRUE,
        create_time_in             IN task_timeline_ea.create_time%TYPE DEFAULT NULL,
        create_time_nin            IN BOOLEAN := TRUE,
        create_institution_in      IN task_timeline_ea.create_institution%TYPE DEFAULT NULL,
        create_institution_nin     IN BOOLEAN := TRUE,
        update_user_in             IN task_timeline_ea.update_user%TYPE DEFAULT NULL,
        update_user_nin            IN BOOLEAN := TRUE,
        update_time_in             IN task_timeline_ea.update_time%TYPE DEFAULT NULL,
        update_time_nin            IN BOOLEAN := TRUE,
        update_institution_in      IN task_timeline_ea.update_institution%TYPE DEFAULT NULL,
        update_institution_nin     IN BOOLEAN := TRUE,
        medication_subject_in      IN task_timeline_ea.medication_subject%TYPE DEFAULT NULL,
        medication_subject_nin     IN BOOLEAN := TRUE,
        flg_outdated_in            IN task_timeline_ea.flg_outdated%TYPE DEFAULT NULL,
        flg_outdated_nin           IN BOOLEAN := TRUE,
        id_ref_group_in            IN task_timeline_ea.id_ref_group%TYPE DEFAULT NULL,
        id_ref_group_nin           IN BOOLEAN := TRUE,
        rank_in                    IN task_timeline_ea.rank%TYPE DEFAULT NULL,
        rank_nin                   IN BOOLEAN := TRUE,
        id_doc_area_in             IN task_timeline_ea.id_doc_area%TYPE DEFAULT NULL,
        id_doc_area_nin            IN BOOLEAN := TRUE,
        id_group_import_in         IN task_timeline_ea.id_group_import%TYPE DEFAULT NULL,
        id_group_import_nin        IN BOOLEAN := TRUE,
        code_desc_group_in         IN task_timeline_ea.code_desc_group%TYPE DEFAULT NULL,
        code_desc_group_nin        IN BOOLEAN := TRUE,
        dt_execution_in            IN task_timeline_ea.dt_execution%TYPE DEFAULT NULL,
        dt_execution_nin           IN BOOLEAN := TRUE,
        code_status_in             IN task_timeline_ea.code_status%TYPE DEFAULT NULL,
        code_status_nin            IN BOOLEAN := TRUE,
        flg_sos_in                 IN task_timeline_ea.flg_sos%TYPE DEFAULT NULL,
        flg_sos_nin                IN BOOLEAN := TRUE,
        id_sub_group_import_in     IN task_timeline_ea.id_sub_group_import%TYPE DEFAULT NULL,
        id_sub_group_import_nin    IN BOOLEAN := TRUE,
        code_desc_sub_group_in     IN task_timeline_ea.code_desc_sub_group%TYPE DEFAULT NULL,
        code_desc_sub_group_nin    IN BOOLEAN := TRUE,
        id_task_aggregator_in      IN task_timeline_ea.id_task_aggregator%TYPE DEFAULT NULL,
        id_task_aggregator_nin     IN BOOLEAN := TRUE,
        universal_desc_clob_in     IN task_timeline_ea.universal_desc_clob%TYPE DEFAULT NULL,
        universal_desc_clob_nin    IN BOOLEAN := TRUE,
        id_parent_task_refid_in    IN task_timeline_ea.id_parent_task_refid%TYPE DEFAULT NULL,
        id_parent_task_refid_nin   IN BOOLEAN := TRUE,
        flg_ongoing_in             IN task_timeline_ea.flg_ongoing%TYPE DEFAULT NULL,
        flg_ongoing_nin            IN BOOLEAN := TRUE,
        flg_normal_in              IN task_timeline_ea.flg_normal%TYPE DEFAULT NULL,
        flg_normal_nin             IN BOOLEAN := TRUE,
        id_prof_exec_in            IN task_timeline_ea.id_prof_exec%TYPE DEFAULT NULL,
        id_prof_exec_nin           IN BOOLEAN := TRUE,
        dt_last_update_in          IN task_timeline_ea.dt_last_update%TYPE DEFAULT NULL,
        dt_last_update_nin         IN BOOLEAN := TRUE,
        flg_has_comments_in        IN task_timeline_ea.flg_has_comments%TYPE DEFAULT NULL,
        flg_has_comments_nin       IN BOOLEAN := TRUE,
        dt_last_execution_in       IN task_timeline_ea.dt_last_execution%TYPE DEFAULT NULL,
        dt_last_execution_nin      IN BOOLEAN := TRUE,
        id_parent_comments_in      IN task_timeline_ea.id_parent_comments%TYPE DEFAULT NULL,
        id_parent_comments_nin     IN BOOLEAN := TRUE,
        id_prof_review_in          IN task_timeline_ea.id_prof_review%TYPE DEFAULT NULL,
        id_prof_review_nin         IN BOOLEAN := TRUE,
        dt_review_in               IN task_timeline_ea.dt_review%TYPE DEFAULT NULL,
        dt_review_nin              IN BOOLEAN := TRUE,
        id_task_notes_in           IN task_timeline_ea.id_task_notes%TYPE DEFAULT NULL,
        id_task_notes_nin          IN BOOLEAN := TRUE,
        id_sample_type_in          IN task_timeline_ea.id_sample_type%TYPE DEFAULT NULL,
        id_sample_type_nin         IN BOOLEAN := TRUE,
        code_desc_sample_type_in   IN task_timeline_ea.code_desc_sample_type%TYPE DEFAULT NULL,
        code_desc_sample_type_nin  IN BOOLEAN := TRUE,
        flg_technical_in           IN task_timeline_ea.flg_technical%TYPE DEFAULT NULL,
        flg_technical_nin          IN BOOLEAN := TRUE,
        flg_relevant_in            IN task_timeline_ea.flg_relevant%TYPE DEFAULT NULL,
        flg_relevant_nin           IN BOOLEAN := TRUE,
        flg_stat_in                IN task_timeline_ea.flg_stat%TYPE DEFAULT NULL,
        flg_stat_nin               IN BOOLEAN := TRUE,
        id_task_related_in         IN task_timeline_ea.id_task_related%TYPE DEFAULT NULL,
        id_task_related_nin        IN BOOLEAN := TRUE,
        flg_type_in                IN task_timeline_ea.flg_type%TYPE DEFAULT NULL,
        flg_type_nin               IN BOOLEAN := TRUE,
        dt_result_in               IN task_timeline_ea.dt_result%TYPE DEFAULT NULL,
        dt_result_nin              IN BOOLEAN := TRUE,
        code_desc_group_parent_in  IN task_timeline_ea.code_desc_group_parent%TYPE DEFAULT NULL,
        code_desc_group_parent_nin IN BOOLEAN := TRUE,
        instructions_hash_in       IN task_timeline_ea.instructions_hash%TYPE DEFAULT NULL,
        instructions_hash_nin      IN BOOLEAN := TRUE,
        where_in                   IN VARCHAR2,
        handle_error_in            IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(id_patient_in              => id_patient_in,
            id_patient_nin             => id_patient_nin,
            id_episode_in              => id_episode_in,
            id_episode_nin             => id_episode_nin,
            id_visit_in                => id_visit_in,
            id_visit_nin               => id_visit_nin,
            id_institution_in          => id_institution_in,
            id_institution_nin         => id_institution_nin,
            dt_req_in                  => dt_req_in,
            dt_req_nin                 => dt_req_nin,
            id_prof_req_in             => id_prof_req_in,
            id_prof_req_nin            => id_prof_req_nin,
            dt_begin_in                => dt_begin_in,
            dt_begin_nin               => dt_begin_nin,
            dt_end_in                  => dt_end_in,
            dt_end_nin                 => dt_end_nin,
            flg_status_req_in          => flg_status_req_in,
            flg_status_req_nin         => flg_status_req_nin,
            table_name_in              => table_name_in,
            table_name_nin             => table_name_nin,
            flg_show_method_in         => flg_show_method_in,
            flg_show_method_nin        => flg_show_method_nin,
            flg_type_viewer_in         => flg_type_viewer_in,
            flg_type_viewer_nin        => flg_type_viewer_nin,
            status_str_in              => status_str_in,
            status_str_nin             => status_str_nin,
            status_msg_in              => status_msg_in,
            status_msg_nin             => status_msg_nin,
            status_icon_in             => status_icon_in,
            status_icon_nin            => status_icon_nin,
            status_flg_in              => status_flg_in,
            status_flg_nin             => status_flg_nin,
            code_description_in        => code_description_in,
            code_description_nin       => code_description_nin,
            dt_dg_last_update_in       => dt_dg_last_update_in,
            dt_dg_last_update_nin      => dt_dg_last_update_nin,
            create_user_in             => create_user_in,
            create_user_nin            => create_user_nin,
            create_time_in             => create_time_in,
            create_time_nin            => create_time_nin,
            create_institution_in      => create_institution_in,
            create_institution_nin     => create_institution_nin,
            update_user_in             => update_user_in,
            update_user_nin            => update_user_nin,
            update_time_in             => update_time_in,
            update_time_nin            => update_time_nin,
            update_institution_in      => update_institution_in,
            update_institution_nin     => update_institution_nin,
            medication_subject_in      => medication_subject_in,
            medication_subject_nin     => medication_subject_nin,
            flg_outdated_in            => flg_outdated_in,
            flg_outdated_nin           => flg_outdated_nin,
            id_ref_group_in            => id_ref_group_in,
            id_ref_group_nin           => id_ref_group_nin,
            rank_in                    => rank_in,
            rank_nin                   => rank_nin,
            id_doc_area_in             => id_doc_area_in,
            id_doc_area_nin            => id_doc_area_nin,
            id_group_import_in         => id_group_import_in,
            id_group_import_nin        => id_group_import_nin,
            code_desc_group_in         => code_desc_group_in,
            code_desc_group_nin        => code_desc_group_nin,
            dt_execution_in            => dt_execution_in,
            dt_execution_nin           => dt_execution_nin,
            code_status_in             => code_status_in,
            code_status_nin            => code_status_nin,
            flg_sos_in                 => flg_sos_in,
            flg_sos_nin                => flg_sos_nin,
            id_sub_group_import_in     => id_sub_group_import_in,
            id_sub_group_import_nin    => id_sub_group_import_nin,
            code_desc_sub_group_in     => code_desc_sub_group_in,
            code_desc_sub_group_nin    => code_desc_sub_group_nin,
            id_task_aggregator_in      => id_task_aggregator_in,
            id_task_aggregator_nin     => id_task_aggregator_nin,
            universal_desc_clob_in     => universal_desc_clob_in,
            universal_desc_clob_nin    => universal_desc_clob_nin,
            id_parent_task_refid_in    => id_parent_task_refid_in,
            id_parent_task_refid_nin   => id_parent_task_refid_nin,
            flg_ongoing_in             => flg_ongoing_in,
            flg_ongoing_nin            => flg_ongoing_nin,
            flg_normal_in              => flg_normal_in,
            flg_normal_nin             => flg_normal_nin,
            id_prof_exec_in            => id_prof_exec_in,
            id_prof_exec_nin           => id_prof_exec_nin,
            dt_last_update_in          => dt_last_update_in,
            dt_last_update_nin         => dt_last_update_nin,
            flg_has_comments_in        => flg_has_comments_in,
            flg_has_comments_nin       => flg_has_comments_nin,
            dt_last_execution_in       => dt_last_execution_in,
            dt_last_execution_nin      => dt_last_execution_nin,
            id_parent_comments_in      => id_parent_comments_in,
            id_parent_comments_nin     => id_parent_comments_nin,
            id_prof_review_in          => id_prof_review_in,
            id_prof_review_nin         => id_prof_review_nin,
            dt_review_in               => dt_review_in,
            dt_review_nin              => dt_review_nin,
            id_task_notes_in           => id_task_notes_in,
            id_task_notes_nin          => id_task_notes_nin,
            id_sample_type_in          => id_sample_type_in,
            id_sample_type_nin         => id_sample_type_nin,
            code_desc_sample_type_in   => code_desc_sample_type_in,
            code_desc_sample_type_nin  => code_desc_sample_type_nin,
            flg_technical_in           => flg_technical_in,
            flg_technical_nin          => flg_technical_nin,
            flg_relevant_in            => flg_relevant_in,
            flg_relevant_nin           => flg_relevant_nin,
            flg_stat_in                => flg_stat_in,
            flg_stat_nin               => flg_stat_nin,
            id_task_related_in         => id_task_related_in,
            id_task_related_nin        => id_task_related_nin,
            flg_type_in                => flg_type_in,
            flg_type_nin               => flg_type_nin,
            dt_result_in               => dt_result_in,
            dt_result_nin              => dt_result_nin,
            code_desc_group_parent_in  => code_desc_group_parent_in,
            code_desc_group_parent_nin => code_desc_group_parent_nin,
            instructions_hash_in       => instructions_hash_in,
            instructions_hash_nin      => instructions_hash_nin,
            where_in                   => where_in,
            handle_error_in            => handle_error_in,
            rows_out                   => rows_out);
    END upd;

    --Update/insert columns (with rows_out)
    PROCEDURE upd_ins
    (
        id_tl_task_in             IN task_timeline_ea.id_tl_task%TYPE,
        id_task_refid_in          IN task_timeline_ea.id_task_refid%TYPE,
        id_patient_in             IN task_timeline_ea.id_patient%TYPE DEFAULT NULL,
        id_episode_in             IN task_timeline_ea.id_episode%TYPE DEFAULT NULL,
        id_visit_in               IN task_timeline_ea.id_visit%TYPE DEFAULT NULL,
        id_institution_in         IN task_timeline_ea.id_institution%TYPE DEFAULT NULL,
        dt_req_in                 IN task_timeline_ea.dt_req%TYPE DEFAULT NULL,
        id_prof_req_in            IN task_timeline_ea.id_prof_req%TYPE DEFAULT NULL,
        dt_begin_in               IN task_timeline_ea.dt_begin%TYPE DEFAULT NULL,
        dt_end_in                 IN task_timeline_ea.dt_end%TYPE DEFAULT NULL,
        flg_status_req_in         IN task_timeline_ea.flg_status_req%TYPE DEFAULT NULL,
        table_name_in             IN task_timeline_ea.table_name%TYPE DEFAULT NULL,
        flg_show_method_in        IN task_timeline_ea.flg_show_method%TYPE DEFAULT NULL,
        flg_type_viewer_in        IN task_timeline_ea.flg_type_viewer%TYPE DEFAULT NULL,
        status_str_in             IN task_timeline_ea.status_str%TYPE DEFAULT NULL,
        status_msg_in             IN task_timeline_ea.status_msg%TYPE DEFAULT NULL,
        status_icon_in            IN task_timeline_ea.status_icon%TYPE DEFAULT NULL,
        status_flg_in             IN task_timeline_ea.status_flg%TYPE DEFAULT NULL,
        code_description_in       IN task_timeline_ea.code_description%TYPE DEFAULT NULL,
        dt_dg_last_update_in      IN task_timeline_ea.dt_dg_last_update%TYPE DEFAULT NULL,
        create_user_in            IN task_timeline_ea.create_user%TYPE DEFAULT NULL,
        create_time_in            IN task_timeline_ea.create_time%TYPE DEFAULT NULL,
        create_institution_in     IN task_timeline_ea.create_institution%TYPE DEFAULT NULL,
        update_user_in            IN task_timeline_ea.update_user%TYPE DEFAULT NULL,
        update_time_in            IN task_timeline_ea.update_time%TYPE DEFAULT NULL,
        update_institution_in     IN task_timeline_ea.update_institution%TYPE DEFAULT NULL,
        medication_subject_in     IN task_timeline_ea.medication_subject%TYPE DEFAULT NULL,
        flg_outdated_in           IN task_timeline_ea.flg_outdated%TYPE DEFAULT NULL,
        id_ref_group_in           IN task_timeline_ea.id_ref_group%TYPE DEFAULT NULL,
        rank_in                   IN task_timeline_ea.rank%TYPE DEFAULT NULL,
        id_doc_area_in            IN task_timeline_ea.id_doc_area%TYPE DEFAULT NULL,
        id_group_import_in        IN task_timeline_ea.id_group_import%TYPE DEFAULT NULL,
        code_desc_group_in        IN task_timeline_ea.code_desc_group%TYPE DEFAULT NULL,
        dt_execution_in           IN task_timeline_ea.dt_execution%TYPE DEFAULT NULL,
        code_status_in            IN task_timeline_ea.code_status%TYPE DEFAULT NULL,
        flg_sos_in                IN task_timeline_ea.flg_sos%TYPE DEFAULT NULL,
        id_sub_group_import_in    IN task_timeline_ea.id_sub_group_import%TYPE DEFAULT NULL,
        code_desc_sub_group_in    IN task_timeline_ea.code_desc_sub_group%TYPE DEFAULT NULL,
        id_task_aggregator_in     IN task_timeline_ea.id_task_aggregator%TYPE DEFAULT NULL,
        universal_desc_clob_in    IN task_timeline_ea.universal_desc_clob%TYPE DEFAULT NULL,
        id_parent_task_refid_in   IN task_timeline_ea.id_parent_task_refid%TYPE DEFAULT NULL,
        flg_ongoing_in            IN task_timeline_ea.flg_ongoing%TYPE DEFAULT NULL,
        flg_normal_in             IN task_timeline_ea.flg_normal%TYPE DEFAULT NULL,
        id_prof_exec_in           IN task_timeline_ea.id_prof_exec%TYPE DEFAULT NULL,
        dt_last_update_in         IN task_timeline_ea.dt_last_update%TYPE DEFAULT NULL,
        flg_has_comments_in       IN task_timeline_ea.flg_has_comments%TYPE DEFAULT NULL,
        dt_last_execution_in      IN task_timeline_ea.dt_last_execution%TYPE DEFAULT NULL,
        id_parent_comments_in     IN task_timeline_ea.id_parent_comments%TYPE DEFAULT NULL,
        id_prof_review_in         IN task_timeline_ea.id_prof_review%TYPE DEFAULT NULL,
        dt_review_in              IN task_timeline_ea.dt_review%TYPE DEFAULT NULL,
        id_task_notes_in          IN task_timeline_ea.id_task_notes%TYPE DEFAULT NULL,
        id_sample_type_in         IN task_timeline_ea.id_sample_type%TYPE DEFAULT NULL,
        code_desc_sample_type_in  IN task_timeline_ea.code_desc_sample_type%TYPE DEFAULT NULL,
        flg_technical_in          IN task_timeline_ea.flg_technical%TYPE DEFAULT NULL,
        flg_relevant_in           IN task_timeline_ea.flg_relevant%TYPE DEFAULT NULL,
        flg_stat_in               IN task_timeline_ea.flg_stat%TYPE DEFAULT NULL,
        id_task_related_in        IN task_timeline_ea.id_task_related%TYPE DEFAULT NULL,
        flg_type_in               IN task_timeline_ea.flg_type%TYPE DEFAULT NULL,
        dt_result_in              IN task_timeline_ea.dt_result%TYPE DEFAULT NULL,
        code_desc_group_parent_in IN task_timeline_ea.code_desc_group_parent%TYPE DEFAULT NULL,
        instructions_hash_in      IN task_timeline_ea.instructions_hash%TYPE DEFAULT NULL,
        handle_error_in           IN BOOLEAN := FALSE,
        rows_out                  IN OUT table_varchar
    ) IS
    BEGIN
        upd(id_tl_task_in             => id_tl_task_in,
            id_task_refid_in          => id_task_refid_in,
            id_patient_in             => id_patient_in,
            id_episode_in             => id_episode_in,
            id_visit_in               => id_visit_in,
            id_institution_in         => id_institution_in,
            dt_req_in                 => dt_req_in,
            id_prof_req_in            => id_prof_req_in,
            dt_begin_in               => dt_begin_in,
            dt_end_in                 => dt_end_in,
            flg_status_req_in         => flg_status_req_in,
            table_name_in             => table_name_in,
            flg_show_method_in        => flg_show_method_in,
            flg_type_viewer_in        => flg_type_viewer_in,
            status_str_in             => status_str_in,
            status_msg_in             => status_msg_in,
            status_icon_in            => status_icon_in,
            status_flg_in             => status_flg_in,
            code_description_in       => code_description_in,
            dt_dg_last_update_in      => dt_dg_last_update_in,
            create_user_in            => create_user_in,
            create_time_in            => create_time_in,
            create_institution_in     => create_institution_in,
            update_user_in            => update_user_in,
            update_time_in            => update_time_in,
            update_institution_in     => update_institution_in,
            medication_subject_in     => medication_subject_in,
            flg_outdated_in           => flg_outdated_in,
            id_ref_group_in           => id_ref_group_in,
            rank_in                   => rank_in,
            id_doc_area_in            => id_doc_area_in,
            id_group_import_in        => id_group_import_in,
            code_desc_group_in        => code_desc_group_in,
            dt_execution_in           => dt_execution_in,
            code_status_in            => code_status_in,
            flg_sos_in                => flg_sos_in,
            id_sub_group_import_in    => id_sub_group_import_in,
            code_desc_sub_group_in    => code_desc_sub_group_in,
            id_task_aggregator_in     => id_task_aggregator_in,
            universal_desc_clob_in    => universal_desc_clob_in,
            id_parent_task_refid_in   => id_parent_task_refid_in,
            flg_ongoing_in            => flg_ongoing_in,
            flg_normal_in             => flg_normal_in,
            id_prof_exec_in           => id_prof_exec_in,
            dt_last_update_in         => dt_last_update_in,
            flg_has_comments_in       => flg_has_comments_in,
            dt_last_execution_in      => dt_last_execution_in,
            id_parent_comments_in     => id_parent_comments_in,
            id_prof_review_in         => id_prof_review_in,
            dt_review_in              => dt_review_in,
            id_task_notes_in          => id_task_notes_in,
            id_sample_type_in         => id_sample_type_in,
            code_desc_sample_type_in  => code_desc_sample_type_in,
            flg_technical_in          => flg_technical_in,
            flg_relevant_in           => flg_relevant_in,
            flg_stat_in               => flg_stat_in,
            id_task_related_in        => id_task_related_in,
            flg_type_in               => flg_type_in,
            dt_result_in              => dt_result_in,
            code_desc_group_parent_in => code_desc_group_parent_in,
            instructions_hash_in      => instructions_hash_in,
            handle_error_in           => handle_error_in,
            rows_out                  => rows_out);
        IF SQL%ROWCOUNT = 0
        THEN
            ins(id_tl_task_in             => id_tl_task_in,
                id_task_refid_in          => id_task_refid_in,
                id_patient_in             => id_patient_in,
                id_episode_in             => id_episode_in,
                id_visit_in               => id_visit_in,
                id_institution_in         => id_institution_in,
                dt_req_in                 => dt_req_in,
                id_prof_req_in            => id_prof_req_in,
                dt_begin_in               => dt_begin_in,
                dt_end_in                 => dt_end_in,
                flg_status_req_in         => flg_status_req_in,
                table_name_in             => table_name_in,
                flg_show_method_in        => flg_show_method_in,
                flg_type_viewer_in        => flg_type_viewer_in,
                status_str_in             => status_str_in,
                status_msg_in             => status_msg_in,
                status_icon_in            => status_icon_in,
                status_flg_in             => status_flg_in,
                code_description_in       => code_description_in,
                dt_dg_last_update_in      => dt_dg_last_update_in,
                create_user_in            => create_user_in,
                create_time_in            => create_time_in,
                create_institution_in     => create_institution_in,
                update_user_in            => update_user_in,
                update_time_in            => update_time_in,
                update_institution_in     => update_institution_in,
                medication_subject_in     => medication_subject_in,
                flg_outdated_in           => flg_outdated_in,
                id_ref_group_in           => id_ref_group_in,
                rank_in                   => rank_in,
                id_doc_area_in            => id_doc_area_in,
                id_group_import_in        => id_group_import_in,
                code_desc_group_in        => code_desc_group_in,
                dt_execution_in           => dt_execution_in,
                code_status_in            => code_status_in,
                flg_sos_in                => flg_sos_in,
                id_sub_group_import_in    => id_sub_group_import_in,
                code_desc_sub_group_in    => code_desc_sub_group_in,
                id_task_aggregator_in     => id_task_aggregator_in,
                universal_desc_clob_in    => universal_desc_clob_in,
                id_parent_task_refid_in   => id_parent_task_refid_in,
                flg_ongoing_in            => flg_ongoing_in,
                flg_normal_in             => flg_normal_in,
                id_prof_exec_in           => id_prof_exec_in,
                dt_last_update_in         => dt_last_update_in,
                flg_has_comments_in       => flg_has_comments_in,
                dt_last_execution_in      => dt_last_execution_in,
                id_parent_comments_in     => id_parent_comments_in,
                id_prof_review_in         => id_prof_review_in,
                dt_review_in              => dt_review_in,
                id_task_notes_in          => id_task_notes_in,
                id_sample_type_in         => id_sample_type_in,
                code_desc_sample_type_in  => code_desc_sample_type_in,
                flg_technical_in          => flg_technical_in,
                flg_relevant_in           => flg_relevant_in,
                flg_stat_in               => flg_stat_in,
                id_task_related_in        => id_task_related_in,
                flg_type_in               => flg_type_in,
                dt_result_in              => dt_result_in,
                code_desc_group_parent_in => code_desc_group_parent_in,
                instructions_hash_in      => instructions_hash_in,
                handle_error_in           => handle_error_in,
                rows_out                  => rows_out);
        END IF;
    END upd_ins;

    --Update/insert columns (without rows_out)
    PROCEDURE upd_ins
    (
        id_tl_task_in             IN task_timeline_ea.id_tl_task%TYPE,
        id_task_refid_in          IN task_timeline_ea.id_task_refid%TYPE,
        id_patient_in             IN task_timeline_ea.id_patient%TYPE DEFAULT NULL,
        id_episode_in             IN task_timeline_ea.id_episode%TYPE DEFAULT NULL,
        id_visit_in               IN task_timeline_ea.id_visit%TYPE DEFAULT NULL,
        id_institution_in         IN task_timeline_ea.id_institution%TYPE DEFAULT NULL,
        dt_req_in                 IN task_timeline_ea.dt_req%TYPE DEFAULT NULL,
        id_prof_req_in            IN task_timeline_ea.id_prof_req%TYPE DEFAULT NULL,
        dt_begin_in               IN task_timeline_ea.dt_begin%TYPE DEFAULT NULL,
        dt_end_in                 IN task_timeline_ea.dt_end%TYPE DEFAULT NULL,
        flg_status_req_in         IN task_timeline_ea.flg_status_req%TYPE DEFAULT NULL,
        table_name_in             IN task_timeline_ea.table_name%TYPE DEFAULT NULL,
        flg_show_method_in        IN task_timeline_ea.flg_show_method%TYPE DEFAULT NULL,
        flg_type_viewer_in        IN task_timeline_ea.flg_type_viewer%TYPE DEFAULT NULL,
        status_str_in             IN task_timeline_ea.status_str%TYPE DEFAULT NULL,
        status_msg_in             IN task_timeline_ea.status_msg%TYPE DEFAULT NULL,
        status_icon_in            IN task_timeline_ea.status_icon%TYPE DEFAULT NULL,
        status_flg_in             IN task_timeline_ea.status_flg%TYPE DEFAULT NULL,
        code_description_in       IN task_timeline_ea.code_description%TYPE DEFAULT NULL,
        dt_dg_last_update_in      IN task_timeline_ea.dt_dg_last_update%TYPE DEFAULT NULL,
        create_user_in            IN task_timeline_ea.create_user%TYPE DEFAULT NULL,
        create_time_in            IN task_timeline_ea.create_time%TYPE DEFAULT NULL,
        create_institution_in     IN task_timeline_ea.create_institution%TYPE DEFAULT NULL,
        update_user_in            IN task_timeline_ea.update_user%TYPE DEFAULT NULL,
        update_time_in            IN task_timeline_ea.update_time%TYPE DEFAULT NULL,
        update_institution_in     IN task_timeline_ea.update_institution%TYPE DEFAULT NULL,
        medication_subject_in     IN task_timeline_ea.medication_subject%TYPE DEFAULT NULL,
        flg_outdated_in           IN task_timeline_ea.flg_outdated%TYPE DEFAULT NULL,
        id_ref_group_in           IN task_timeline_ea.id_ref_group%TYPE DEFAULT NULL,
        rank_in                   IN task_timeline_ea.rank%TYPE DEFAULT NULL,
        id_doc_area_in            IN task_timeline_ea.id_doc_area%TYPE DEFAULT NULL,
        id_group_import_in        IN task_timeline_ea.id_group_import%TYPE DEFAULT NULL,
        code_desc_group_in        IN task_timeline_ea.code_desc_group%TYPE DEFAULT NULL,
        dt_execution_in           IN task_timeline_ea.dt_execution%TYPE DEFAULT NULL,
        code_status_in            IN task_timeline_ea.code_status%TYPE DEFAULT NULL,
        flg_sos_in                IN task_timeline_ea.flg_sos%TYPE DEFAULT NULL,
        id_sub_group_import_in    IN task_timeline_ea.id_sub_group_import%TYPE DEFAULT NULL,
        code_desc_sub_group_in    IN task_timeline_ea.code_desc_sub_group%TYPE DEFAULT NULL,
        id_task_aggregator_in     IN task_timeline_ea.id_task_aggregator%TYPE DEFAULT NULL,
        universal_desc_clob_in    IN task_timeline_ea.universal_desc_clob%TYPE DEFAULT NULL,
        id_parent_task_refid_in   IN task_timeline_ea.id_parent_task_refid%TYPE DEFAULT NULL,
        flg_ongoing_in            IN task_timeline_ea.flg_ongoing%TYPE DEFAULT NULL,
        flg_normal_in             IN task_timeline_ea.flg_normal%TYPE DEFAULT NULL,
        id_prof_exec_in           IN task_timeline_ea.id_prof_exec%TYPE DEFAULT NULL,
        dt_last_update_in         IN task_timeline_ea.dt_last_update%TYPE DEFAULT NULL,
        flg_has_comments_in       IN task_timeline_ea.flg_has_comments%TYPE DEFAULT NULL,
        dt_last_execution_in      IN task_timeline_ea.dt_last_execution%TYPE DEFAULT NULL,
        id_parent_comments_in     IN task_timeline_ea.id_parent_comments%TYPE DEFAULT NULL,
        id_prof_review_in         IN task_timeline_ea.id_prof_review%TYPE DEFAULT NULL,
        dt_review_in              IN task_timeline_ea.dt_review%TYPE DEFAULT NULL,
        id_task_notes_in          IN task_timeline_ea.id_task_notes%TYPE DEFAULT NULL,
        id_sample_type_in         IN task_timeline_ea.id_sample_type%TYPE DEFAULT NULL,
        code_desc_sample_type_in  IN task_timeline_ea.code_desc_sample_type%TYPE DEFAULT NULL,
        flg_technical_in          IN task_timeline_ea.flg_technical%TYPE DEFAULT NULL,
        flg_relevant_in           IN task_timeline_ea.flg_relevant%TYPE DEFAULT NULL,
        flg_stat_in               IN task_timeline_ea.flg_stat%TYPE DEFAULT NULL,
        id_task_related_in        IN task_timeline_ea.id_task_related%TYPE DEFAULT NULL,
        flg_type_in               IN task_timeline_ea.flg_type%TYPE DEFAULT NULL,
        dt_result_in              IN task_timeline_ea.dt_result%TYPE DEFAULT NULL,
        code_desc_group_parent_in IN task_timeline_ea.code_desc_group_parent%TYPE DEFAULT NULL,
        instructions_hash_in      IN task_timeline_ea.instructions_hash%TYPE DEFAULT NULL,
        handle_error_in           IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd_ins(id_tl_task_in,
                id_task_refid_in,
                id_patient_in,
                id_episode_in,
                id_visit_in,
                id_institution_in,
                dt_req_in,
                id_prof_req_in,
                dt_begin_in,
                dt_end_in,
                flg_status_req_in,
                table_name_in,
                flg_show_method_in,
                flg_type_viewer_in,
                status_str_in,
                status_msg_in,
                status_icon_in,
                status_flg_in,
                code_description_in,
                dt_dg_last_update_in,
                create_user_in,
                create_time_in,
                create_institution_in,
                update_user_in,
                update_time_in,
                update_institution_in,
                medication_subject_in,
                flg_outdated_in,
                id_ref_group_in,
                rank_in,
                id_doc_area_in,
                id_group_import_in,
                code_desc_group_in,
                dt_execution_in,
                code_status_in,
                flg_sos_in,
                id_sub_group_import_in,
                code_desc_sub_group_in,
                id_task_aggregator_in,
                universal_desc_clob_in,
                id_parent_task_refid_in,
                flg_ongoing_in,
                flg_normal_in,
                id_prof_exec_in,
                dt_last_update_in,
                flg_has_comments_in,
                dt_last_execution_in,
                id_parent_comments_in,
                id_prof_review_in,
                dt_review_in,
                id_task_notes_in,
                id_sample_type_in,
                code_desc_sample_type_in,
                flg_technical_in,
                flg_relevant_in,
                flg_stat_in,
                id_task_related_in,
                flg_type_in,
                dt_result_in,
                code_desc_group_parent_in,
                instructions_hash_in,
                handle_error_in,
                rows_out);
    END upd_ins;

    --Update by record (with rows_out)
    PROCEDURE upd
    (
        rec_in          IN task_timeline_ea%ROWTYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        IN OUT table_varchar
    ) IS
    BEGIN
        upd(id_tl_task_in             => rec_in.id_tl_task,
            id_task_refid_in          => rec_in.id_task_refid,
            id_patient_in             => rec_in.id_patient,
            id_episode_in             => rec_in.id_episode,
            id_visit_in               => rec_in.id_visit,
            id_institution_in         => rec_in.id_institution,
            dt_req_in                 => rec_in.dt_req,
            id_prof_req_in            => rec_in.id_prof_req,
            dt_begin_in               => rec_in.dt_begin,
            dt_end_in                 => rec_in.dt_end,
            flg_status_req_in         => rec_in.flg_status_req,
            table_name_in             => rec_in.table_name,
            flg_show_method_in        => rec_in.flg_show_method,
            flg_type_viewer_in        => rec_in.flg_type_viewer,
            status_str_in             => rec_in.status_str,
            status_msg_in             => rec_in.status_msg,
            status_icon_in            => rec_in.status_icon,
            status_flg_in             => rec_in.status_flg,
            code_description_in       => rec_in.code_description,
            dt_dg_last_update_in      => rec_in.dt_dg_last_update,
            create_user_in            => rec_in.create_user,
            create_time_in            => rec_in.create_time,
            create_institution_in     => rec_in.create_institution,
            update_user_in            => rec_in.update_user,
            update_time_in            => rec_in.update_time,
            update_institution_in     => rec_in.update_institution,
            medication_subject_in     => rec_in.medication_subject,
            flg_outdated_in           => rec_in.flg_outdated,
            id_ref_group_in           => rec_in.id_ref_group,
            rank_in                   => rec_in.rank,
            id_doc_area_in            => rec_in.id_doc_area,
            id_group_import_in        => rec_in.id_group_import,
            code_desc_group_in        => rec_in.code_desc_group,
            dt_execution_in           => rec_in.dt_execution,
            code_status_in            => rec_in.code_status,
            flg_sos_in                => rec_in.flg_sos,
            id_sub_group_import_in    => rec_in.id_sub_group_import,
            code_desc_sub_group_in    => rec_in.code_desc_sub_group,
            id_task_aggregator_in     => rec_in.id_task_aggregator,
            universal_desc_clob_in    => rec_in.universal_desc_clob,
            id_parent_task_refid_in   => rec_in.id_parent_task_refid,
            flg_ongoing_in            => rec_in.flg_ongoing,
            flg_normal_in             => rec_in.flg_normal,
            id_prof_exec_in           => rec_in.id_prof_exec,
            dt_last_update_in         => rec_in.dt_last_update,
            flg_has_comments_in       => rec_in.flg_has_comments,
            dt_last_execution_in      => rec_in.dt_last_execution,
            id_parent_comments_in     => rec_in.id_parent_comments,
            id_prof_review_in         => rec_in.id_prof_review,
            dt_review_in              => rec_in.dt_review,
            id_task_notes_in          => rec_in.id_task_notes,
            id_sample_type_in         => rec_in.id_sample_type,
            code_desc_sample_type_in  => rec_in.code_desc_sample_type,
            flg_technical_in          => rec_in.flg_technical,
            flg_relevant_in           => rec_in.flg_relevant,
            flg_stat_in               => rec_in.flg_stat,
            id_task_related_in        => rec_in.id_task_related,
            flg_type_in               => rec_in.flg_type,
            dt_result_in              => rec_in.dt_result,
            code_desc_group_parent_in => rec_in.code_desc_group_parent,
            instructions_hash_in      => rec_in.instructions_hash,
            handle_error_in           => handle_error_in,
            rows_out                  => rows_out);
    END upd;

    --Update by record (without rows_out)
    PROCEDURE upd
    (
        rec_in          IN task_timeline_ea%ROWTYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(id_tl_task_in             => rec_in.id_tl_task,
            id_task_refid_in          => rec_in.id_task_refid,
            id_patient_in             => rec_in.id_patient,
            id_episode_in             => rec_in.id_episode,
            id_visit_in               => rec_in.id_visit,
            id_institution_in         => rec_in.id_institution,
            dt_req_in                 => rec_in.dt_req,
            id_prof_req_in            => rec_in.id_prof_req,
            dt_begin_in               => rec_in.dt_begin,
            dt_end_in                 => rec_in.dt_end,
            flg_status_req_in         => rec_in.flg_status_req,
            table_name_in             => rec_in.table_name,
            flg_show_method_in        => rec_in.flg_show_method,
            flg_type_viewer_in        => rec_in.flg_type_viewer,
            status_str_in             => rec_in.status_str,
            status_msg_in             => rec_in.status_msg,
            status_icon_in            => rec_in.status_icon,
            status_flg_in             => rec_in.status_flg,
            code_description_in       => rec_in.code_description,
            dt_dg_last_update_in      => rec_in.dt_dg_last_update,
            create_user_in            => rec_in.create_user,
            create_time_in            => rec_in.create_time,
            create_institution_in     => rec_in.create_institution,
            update_user_in            => rec_in.update_user,
            update_time_in            => rec_in.update_time,
            update_institution_in     => rec_in.update_institution,
            medication_subject_in     => rec_in.medication_subject,
            flg_outdated_in           => rec_in.flg_outdated,
            id_ref_group_in           => rec_in.id_ref_group,
            rank_in                   => rec_in.rank,
            id_doc_area_in            => rec_in.id_doc_area,
            id_group_import_in        => rec_in.id_group_import,
            code_desc_group_in        => rec_in.code_desc_group,
            dt_execution_in           => rec_in.dt_execution,
            code_status_in            => rec_in.code_status,
            flg_sos_in                => rec_in.flg_sos,
            id_sub_group_import_in    => rec_in.id_sub_group_import,
            code_desc_sub_group_in    => rec_in.code_desc_sub_group,
            id_task_aggregator_in     => rec_in.id_task_aggregator,
            universal_desc_clob_in    => rec_in.universal_desc_clob,
            id_parent_task_refid_in   => rec_in.id_parent_task_refid,
            flg_ongoing_in            => rec_in.flg_ongoing,
            flg_normal_in             => rec_in.flg_normal,
            id_prof_exec_in           => rec_in.id_prof_exec,
            dt_last_update_in         => rec_in.dt_last_update,
            flg_has_comments_in       => rec_in.flg_has_comments,
            dt_last_execution_in      => rec_in.dt_last_execution,
            id_parent_comments_in     => rec_in.id_parent_comments,
            id_prof_review_in         => rec_in.id_prof_review,
            dt_review_in              => rec_in.dt_review,
            id_task_notes_in          => rec_in.id_task_notes,
            id_sample_type_in         => rec_in.id_sample_type,
            code_desc_sample_type_in  => rec_in.code_desc_sample_type,
            flg_technical_in          => rec_in.flg_technical,
            flg_relevant_in           => rec_in.flg_relevant,
            flg_stat_in               => rec_in.flg_stat,
            id_task_related_in        => rec_in.id_task_related,
            flg_type_in               => rec_in.flg_type,
            dt_result_in              => rec_in.dt_result,
            code_desc_group_parent_in => rec_in.code_desc_group_parent,
            instructions_hash_in      => rec_in.instructions_hash,
            handle_error_in           => handle_error_in,
            rows_out                  => rows_out);
    END upd;

    --Update with collection (with rows_out)
    PROCEDURE upd
    (
        col_in            IN task_timeline_ea_tc,
        ignore_if_null_in IN BOOLEAN := TRUE,
        handle_error_in   IN BOOLEAN := FALSE,
        rows_out          IN OUT table_varchar
    ) IS
        l_id_tl_task             id_tl_task_cc;
        l_id_task_refid          id_task_refid_cc;
        l_id_patient             id_patient_cc;
        l_id_episode             id_episode_cc;
        l_id_visit               id_visit_cc;
        l_id_institution         id_institution_cc;
        l_dt_req                 dt_req_cc;
        l_id_prof_req            id_prof_req_cc;
        l_dt_begin               dt_begin_cc;
        l_dt_end                 dt_end_cc;
        l_flg_status_req         flg_status_req_cc;
        l_table_name             table_name_cc;
        l_flg_show_method        flg_show_method_cc;
        l_flg_type_viewer        flg_type_viewer_cc;
        l_status_str             status_str_cc;
        l_status_msg             status_msg_cc;
        l_status_icon            status_icon_cc;
        l_status_flg             status_flg_cc;
        l_code_description       code_description_cc;
        l_dt_dg_last_update      dt_dg_last_update_cc;
        l_create_user            create_user_cc;
        l_create_time            create_time_cc;
        l_create_institution     create_institution_cc;
        l_update_user            update_user_cc;
        l_update_time            update_time_cc;
        l_update_institution     update_institution_cc;
        l_medication_subject     medication_subject_cc;
        l_flg_outdated           flg_outdated_cc;
        l_id_ref_group           id_ref_group_cc;
        l_rank                   rank_cc;
        l_id_doc_area            id_doc_area_cc;
        l_id_group_import        id_group_import_cc;
        l_code_desc_group        code_desc_group_cc;
        l_dt_execution           dt_execution_cc;
        l_code_status            code_status_cc;
        l_flg_sos                flg_sos_cc;
        l_id_sub_group_import    id_sub_group_import_cc;
        l_code_desc_sub_group    code_desc_sub_group_cc;
        l_id_task_aggregator     id_task_aggregator_cc;
        l_universal_desc_clob    universal_desc_clob_cc;
        l_id_parent_task_refid   id_parent_task_refid_cc;
        l_flg_ongoing            flg_ongoing_cc;
        l_flg_normal             flg_normal_cc;
        l_id_prof_exec           id_prof_exec_cc;
        l_dt_last_update         dt_last_update_cc;
        l_flg_has_comments       flg_has_comments_cc;
        l_dt_last_execution      dt_last_execution_cc;
        l_id_parent_comments     id_parent_comments_cc;
        l_id_prof_review         id_prof_review_cc;
        l_dt_review              dt_review_cc;
        l_id_task_notes          id_task_notes_cc;
        l_id_sample_type         id_sample_type_cc;
        l_code_desc_sample_type  code_desc_sample_type_cc;
        l_flg_technical          flg_technical_cc;
        l_flg_relevant           flg_relevant_cc;
        l_flg_stat               flg_stat_cc;
        l_id_task_related        id_task_related_cc;
        l_flg_type               flg_type_cc;
        l_dt_result              dt_result_cc;
        l_code_desc_group_parent code_desc_group_parent_cc;
        l_instructions_hash      instructions_hash_cc;
    BEGIN
        FOR i IN col_in.first .. col_in.last
        LOOP
            l_id_tl_task(i) := col_in(i).id_tl_task;
            l_id_task_refid(i) := col_in(i).id_task_refid;
            l_id_patient(i) := col_in(i).id_patient;
            l_id_episode(i) := col_in(i).id_episode;
            l_id_visit(i) := col_in(i).id_visit;
            l_id_institution(i) := col_in(i).id_institution;
            l_dt_req(i) := col_in(i).dt_req;
            l_id_prof_req(i) := col_in(i).id_prof_req;
            l_dt_begin(i) := col_in(i).dt_begin;
            l_dt_end(i) := col_in(i).dt_end;
            l_flg_status_req(i) := col_in(i).flg_status_req;
            l_table_name(i) := col_in(i).table_name;
            l_flg_show_method(i) := col_in(i).flg_show_method;
            l_flg_type_viewer(i) := col_in(i).flg_type_viewer;
            l_status_str(i) := col_in(i).status_str;
            l_status_msg(i) := col_in(i).status_msg;
            l_status_icon(i) := col_in(i).status_icon;
            l_status_flg(i) := col_in(i).status_flg;
            l_code_description(i) := col_in(i).code_description;
            l_dt_dg_last_update(i) := col_in(i).dt_dg_last_update;
            l_create_user(i) := col_in(i).create_user;
            l_create_time(i) := col_in(i).create_time;
            l_create_institution(i) := col_in(i).create_institution;
            l_update_user(i) := col_in(i).update_user;
            l_update_time(i) := col_in(i).update_time;
            l_update_institution(i) := col_in(i).update_institution;
            l_medication_subject(i) := col_in(i).medication_subject;
            l_flg_outdated(i) := col_in(i).flg_outdated;
            l_id_ref_group(i) := col_in(i).id_ref_group;
            l_rank(i) := col_in(i).rank;
            l_id_doc_area(i) := col_in(i).id_doc_area;
            l_id_group_import(i) := col_in(i).id_group_import;
            l_code_desc_group(i) := col_in(i).code_desc_group;
            l_dt_execution(i) := col_in(i).dt_execution;
            l_code_status(i) := col_in(i).code_status;
            l_flg_sos(i) := col_in(i).flg_sos;
            l_id_sub_group_import(i) := col_in(i).id_sub_group_import;
            l_code_desc_sub_group(i) := col_in(i).code_desc_sub_group;
            l_id_task_aggregator(i) := col_in(i).id_task_aggregator;
            l_universal_desc_clob(i) := col_in(i).universal_desc_clob;
            l_id_parent_task_refid(i) := col_in(i).id_parent_task_refid;
            l_flg_ongoing(i) := col_in(i).flg_ongoing;
            l_flg_normal(i) := col_in(i).flg_normal;
            l_id_prof_exec(i) := col_in(i).id_prof_exec;
            l_dt_last_update(i) := col_in(i).dt_last_update;
            l_flg_has_comments(i) := col_in(i).flg_has_comments;
            l_dt_last_execution(i) := col_in(i).dt_last_execution;
            l_id_parent_comments(i) := col_in(i).id_parent_comments;
            l_id_prof_review(i) := col_in(i).id_prof_review;
            l_dt_review(i) := col_in(i).dt_review;
            l_id_task_notes(i) := col_in(i).id_task_notes;
            l_id_sample_type(i) := col_in(i).id_sample_type;
            l_code_desc_sample_type(i) := col_in(i).code_desc_sample_type;
            l_flg_technical(i) := col_in(i).flg_technical;
            l_flg_relevant(i) := col_in(i).flg_relevant;
            l_flg_stat(i) := col_in(i).flg_stat;
            l_id_task_related(i) := col_in(i).id_task_related;
            l_flg_type(i) := col_in(i).flg_type;
            l_dt_result(i) := col_in(i).dt_result;
            l_code_desc_group_parent(i) := col_in(i).code_desc_group_parent;
            l_instructions_hash(i) := col_in(i).instructions_hash;
        END LOOP;
        IF nvl(ignore_if_null_in, FALSE)
        THEN
            -- Set any columns to their current values
            -- if incoming value is NULL.
            -- Put WHEN clause on column-level triggers!
            FORALL i IN col_in.first .. col_in.last
                UPDATE task_timeline_ea
                   SET id_patient             = nvl(l_id_patient(i), id_patient),
                       id_episode             = nvl(l_id_episode(i), id_episode),
                       id_visit               = nvl(l_id_visit(i), id_visit),
                       id_institution         = nvl(l_id_institution(i), id_institution),
                       dt_req                 = nvl(l_dt_req(i), dt_req),
                       id_prof_req            = nvl(l_id_prof_req(i), id_prof_req),
                       dt_begin               = nvl(l_dt_begin(i), dt_begin),
                       dt_end                 = nvl(l_dt_end(i), dt_end),
                       flg_status_req         = nvl(l_flg_status_req(i), flg_status_req),
                       table_name             = nvl(l_table_name(i), table_name),
                       flg_show_method        = nvl(l_flg_show_method(i), flg_show_method),
                       flg_type_viewer        = nvl(l_flg_type_viewer(i), flg_type_viewer),
                       status_str             = nvl(l_status_str(i), status_str),
                       status_msg             = nvl(l_status_msg(i), status_msg),
                       status_icon            = nvl(l_status_icon(i), status_icon),
                       status_flg             = nvl(l_status_flg(i), status_flg),
                       code_description       = nvl(l_code_description(i), code_description),
                       dt_dg_last_update      = nvl(l_dt_dg_last_update(i), dt_dg_last_update),
                       create_user            = nvl(l_create_user(i), create_user),
                       create_time            = nvl(l_create_time(i), create_time),
                       create_institution     = nvl(l_create_institution(i), create_institution),
                       update_user            = nvl(l_update_user(i), update_user),
                       update_time            = nvl(l_update_time(i), update_time),
                       update_institution     = nvl(l_update_institution(i), update_institution),
                       medication_subject     = nvl(l_medication_subject(i), medication_subject),
                       flg_outdated           = nvl(l_flg_outdated(i), flg_outdated),
                       id_ref_group           = nvl(l_id_ref_group(i), id_ref_group),
                       rank                   = nvl(l_rank(i), rank),
                       id_doc_area            = nvl(l_id_doc_area(i), id_doc_area),
                       id_group_import        = nvl(l_id_group_import(i), id_group_import),
                       code_desc_group        = nvl(l_code_desc_group(i), code_desc_group),
                       dt_execution           = nvl(l_dt_execution(i), dt_execution),
                       code_status            = nvl(l_code_status(i), code_status),
                       flg_sos                = nvl(l_flg_sos(i), flg_sos),
                       id_sub_group_import    = nvl(l_id_sub_group_import(i), id_sub_group_import),
                       code_desc_sub_group    = nvl(l_code_desc_sub_group(i), code_desc_sub_group),
                       id_task_aggregator     = nvl(l_id_task_aggregator(i), id_task_aggregator),
                       universal_desc_clob    = nvl(l_universal_desc_clob(i), universal_desc_clob),
                       id_parent_task_refid   = nvl(l_id_parent_task_refid(i), id_parent_task_refid),
                       flg_ongoing            = nvl(l_flg_ongoing(i), flg_ongoing),
                       flg_normal             = nvl(l_flg_normal(i), flg_normal),
                       id_prof_exec           = nvl(l_id_prof_exec(i), id_prof_exec),
                       dt_last_update         = nvl(l_dt_last_update(i), dt_last_update),
                       flg_has_comments       = nvl(l_flg_has_comments(i), flg_has_comments),
                       dt_last_execution      = nvl(l_dt_last_execution(i), dt_last_execution),
                       id_parent_comments     = nvl(l_id_parent_comments(i), id_parent_comments),
                       id_prof_review         = nvl(l_id_prof_review(i), id_prof_review),
                       dt_review              = nvl(l_dt_review(i), dt_review),
                       id_task_notes          = nvl(l_id_task_notes(i), id_task_notes),
                       id_sample_type         = nvl(l_id_sample_type(i), id_sample_type),
                       code_desc_sample_type  = nvl(l_code_desc_sample_type(i), code_desc_sample_type),
                       flg_technical          = nvl(l_flg_technical(i), flg_technical),
                       flg_relevant           = nvl(l_flg_relevant(i), flg_relevant),
                       flg_stat               = nvl(l_flg_stat(i), flg_stat),
                       id_task_related        = nvl(l_id_task_related(i), id_task_related),
                       flg_type               = nvl(l_flg_type(i), flg_type),
                       dt_result              = nvl(l_dt_result(i), dt_result),
                       code_desc_group_parent = nvl(l_code_desc_group_parent(i), code_desc_group_parent),
                       instructions_hash      = nvl(l_instructions_hash(i), instructions_hash)
                 WHERE id_tl_task = l_id_tl_task(i)
                   AND id_task_refid = l_id_task_refid(i)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        ELSE
            FORALL i IN col_in.first .. col_in.last
                UPDATE task_timeline_ea
                   SET id_patient             = l_id_patient(i),
                       id_episode             = l_id_episode(i),
                       id_visit               = l_id_visit(i),
                       id_institution         = l_id_institution(i),
                       dt_req                 = l_dt_req(i),
                       id_prof_req            = l_id_prof_req(i),
                       dt_begin               = l_dt_begin(i),
                       dt_end                 = l_dt_end(i),
                       flg_status_req         = l_flg_status_req(i),
                       table_name             = l_table_name(i),
                       flg_show_method        = l_flg_show_method(i),
                       flg_type_viewer        = l_flg_type_viewer(i),
                       status_str             = l_status_str(i),
                       status_msg             = l_status_msg(i),
                       status_icon            = l_status_icon(i),
                       status_flg             = l_status_flg(i),
                       code_description       = l_code_description(i),
                       dt_dg_last_update      = l_dt_dg_last_update(i),
                       create_user            = l_create_user(i),
                       create_time            = l_create_time(i),
                       create_institution     = l_create_institution(i),
                       update_user            = l_update_user(i),
                       update_time            = l_update_time(i),
                       update_institution     = l_update_institution(i),
                       medication_subject     = l_medication_subject(i),
                       flg_outdated           = l_flg_outdated(i),
                       id_ref_group           = l_id_ref_group(i),
                       rank                   = l_rank(i),
                       id_doc_area            = l_id_doc_area(i),
                       id_group_import        = l_id_group_import(i),
                       code_desc_group        = l_code_desc_group(i),
                       dt_execution           = l_dt_execution(i),
                       code_status            = l_code_status(i),
                       flg_sos                = l_flg_sos(i),
                       id_sub_group_import    = l_id_sub_group_import(i),
                       code_desc_sub_group    = l_code_desc_sub_group(i),
                       id_task_aggregator     = l_id_task_aggregator(i),
                       universal_desc_clob    = l_universal_desc_clob(i),
                       id_parent_task_refid   = l_id_parent_task_refid(i),
                       flg_ongoing            = l_flg_ongoing(i),
                       flg_normal             = l_flg_normal(i),
                       id_prof_exec           = l_id_prof_exec(i),
                       dt_last_update         = l_dt_last_update(i),
                       flg_has_comments       = l_flg_has_comments(i),
                       dt_last_execution      = l_dt_last_execution(i),
                       id_parent_comments     = l_id_parent_comments(i),
                       id_prof_review         = l_id_prof_review(i),
                       dt_review              = l_dt_review(i),
                       id_task_notes          = l_id_task_notes(i),
                       id_sample_type         = l_id_sample_type(i),
                       code_desc_sample_type  = l_code_desc_sample_type(i),
                       flg_technical          = l_flg_technical(i),
                       flg_relevant           = l_flg_relevant(i),
                       flg_stat               = l_flg_stat(i),
                       id_task_related        = l_id_task_related(i),
                       flg_type               = l_flg_type(i),
                       dt_result              = l_dt_result(i),
                       code_desc_group_parent = l_code_desc_group_parent(i),
                       instructions_hash      = l_instructions_hash(i)
                 WHERE id_tl_task = l_id_tl_task(i)
                   AND id_task_refid = l_id_task_refid(i)
                RETURNING ROWID BULK COLLECT INTO rows_out;
        END IF;
    
    EXCEPTION
        WHEN e_forall_error THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                FOR indx IN 1 .. SQL%bulk_exceptions.count
                LOOP
                    pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
                END LOOP;
            END IF;
        WHEN OTHERS THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END upd;

    --Update with collection (without rows_out)
    PROCEDURE upd
    (
        col_in            IN task_timeline_ea_tc,
        ignore_if_null_in IN BOOLEAN := TRUE,
        handle_error_in   IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        upd(col_in, ignore_if_null_in, handle_error_in, rows_out);
    END upd;

    --Dynamic update string
    FUNCTION dynupdstr
    (
        colname_in IN all_tab_columns.column_name%TYPE,
        where_in   IN VARCHAR2 := NULL
    ) RETURN VARCHAR2 IS
    BEGIN
        RETURN 'BEGIN UPDATE task_timeline_ea
SET ' || colname_in || ' = :value
 WHERE ' || nvl(where_in, '1=1') || ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;';
    END dynupdstr;

    -- Use Native Dynamic SQL increment a single NUMBER column
    -- for all rows specified by the dynamic WHERE clause (with rows_out)
    PROCEDURE increment_onecol
    (
        colname_in         IN all_tab_columns.column_name%TYPE,
        where_in           IN VARCHAR2,
        increment_value_in IN NUMBER DEFAULT 1,
        handle_error_in    IN BOOLEAN := FALSE,
        rows_out           OUT table_varchar
    ) IS
    BEGIN
        EXECUTE IMMEDIATE 'BEGIN UPDATE task_timeline_ea
SET ' || colname_in || '=' || colname_in || '+' || nvl(increment_value_in, 1) || ' WHERE ' ||
                          nvl(where_in, '1=1') || ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;'
            USING OUT rows_out;
    END increment_onecol;

    -- Use Native Dynamic SQL increment a single NUMBER column
    -- for all rows specified by the dynamic WHERE clause (without rows_out)
    PROCEDURE increment_onecol
    (
        colname_in         IN all_tab_columns.column_name%TYPE,
        where_in           IN VARCHAR2,
        increment_value_in IN NUMBER DEFAULT 1,
        handle_error_in    IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        EXECUTE IMMEDIATE 'UPDATE task_timeline_ea
SET ' || colname_in || '=' || colname_in || '+' || nvl(increment_value_in, 1) || ' WHERE ' ||
                          nvl(where_in, '1=1');
    END increment_onecol;

    -- Delete one row by primary key
    PROCEDURE del
    (
        id_tl_task_in    IN task_timeline_ea.id_tl_task%TYPE,
        id_task_refid_in IN task_timeline_ea.id_task_refid%TYPE,
        handle_error_in  IN BOOLEAN := FALSE,
        rows_out         OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM task_timeline_ea
         WHERE id_tl_task = id_tl_task_in
           AND id_task_refid = id_task_refid_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del;

    -- Delete one row by primary key
    PROCEDURE del
    (
        id_tl_task_in    IN task_timeline_ea.id_tl_task%TYPE,
        id_task_refid_in IN task_timeline_ea.id_task_refid%TYPE,
        handle_error_in  IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del(id_tl_task_in    => id_tl_task_in,
            id_task_refid_in => id_task_refid_in,
            handle_error_in  => handle_error_in,
            rows_out         => rows_out);
    END del;

    -- Delete all rows for this TTEA_DA_FK foreign key value
    PROCEDURE del_ttea_da_fk
    (
        id_doc_area_in  IN task_timeline_ea.id_doc_area%TYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM task_timeline_ea
         WHERE id_doc_area = id_doc_area_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ttea_da_fk;

    -- Delete all rows for this TTEA_EPI_FK foreign key value
    PROCEDURE del_ttea_epi_fk
    (
        id_episode_in   IN task_timeline_ea.id_episode%TYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM task_timeline_ea
         WHERE id_episode = id_episode_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ttea_epi_fk;

    -- Delete all rows for this TTEA_INS_FK foreign key value
    PROCEDURE del_ttea_ins_fk
    (
        id_institution_in IN task_timeline_ea.id_institution%TYPE,
        handle_error_in   IN BOOLEAN := FALSE,
        rows_out          OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM task_timeline_ea
         WHERE id_institution = id_institution_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ttea_ins_fk;

    -- Delete all rows for this TTEA_PAT_FK foreign key value
    PROCEDURE del_ttea_pat_fk
    (
        id_patient_in   IN task_timeline_ea.id_patient%TYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM task_timeline_ea
         WHERE id_patient = id_patient_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ttea_pat_fk;

    -- Delete all rows for this TTEA_PROFE_FK foreign key value
    PROCEDURE del_ttea_profe_fk
    (
        id_prof_exec_in IN task_timeline_ea.id_prof_exec%TYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM task_timeline_ea
         WHERE id_prof_exec = id_prof_exec_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ttea_profe_fk;

    -- Delete all rows for this TTEA_PROFR_FK foreign key value
    PROCEDURE del_ttea_profr_fk
    (
        id_prof_review_in IN task_timeline_ea.id_prof_review%TYPE,
        handle_error_in   IN BOOLEAN := FALSE,
        rows_out          OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM task_timeline_ea
         WHERE id_prof_review = id_prof_review_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ttea_profr_fk;

    -- Delete all rows for this TTEA_PROF_FK foreign key value
    PROCEDURE del_ttea_prof_fk
    (
        id_prof_req_in  IN task_timeline_ea.id_prof_req%TYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM task_timeline_ea
         WHERE id_prof_req = id_prof_req_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ttea_prof_fk;

    -- Delete all rows for this TTEA_TT_FK foreign key value
    PROCEDURE del_ttea_tt_fk
    (
        id_tl_task_in   IN task_timeline_ea.id_tl_task%TYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM task_timeline_ea
         WHERE id_tl_task = id_tl_task_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ttea_tt_fk;

    -- Delete all rows for this TTEA_VIS_FK foreign key value
    PROCEDURE del_ttea_vis_fk
    (
        id_visit_in     IN task_timeline_ea.id_visit%TYPE,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        DELETE FROM task_timeline_ea
         WHERE id_visit = id_visit_in
        RETURNING ROWID BULK COLLECT INTO rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_ttea_vis_fk;

    -- Delete all rows for this TTEA_DA_FK foreign key value
    PROCEDURE del_ttea_da_fk
    (
        id_doc_area_in  IN task_timeline_ea.id_doc_area%TYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ttea_da_fk(id_doc_area_in => id_doc_area_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_ttea_da_fk;

    -- Delete all rows for this TTEA_EPI_FK foreign key value
    PROCEDURE del_ttea_epi_fk
    (
        id_episode_in   IN task_timeline_ea.id_episode%TYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ttea_epi_fk(id_episode_in => id_episode_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_ttea_epi_fk;

    -- Delete all rows for this TTEA_INS_FK foreign key value
    PROCEDURE del_ttea_ins_fk
    (
        id_institution_in IN task_timeline_ea.id_institution%TYPE,
        handle_error_in   IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ttea_ins_fk(id_institution_in => id_institution_in,
                        handle_error_in   => handle_error_in,
                        rows_out          => rows_out);
    END del_ttea_ins_fk;

    -- Delete all rows for this TTEA_PAT_FK foreign key value
    PROCEDURE del_ttea_pat_fk
    (
        id_patient_in   IN task_timeline_ea.id_patient%TYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ttea_pat_fk(id_patient_in => id_patient_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_ttea_pat_fk;

    -- Delete all rows for this TTEA_PROFE_FK foreign key value
    PROCEDURE del_ttea_profe_fk
    (
        id_prof_exec_in IN task_timeline_ea.id_prof_exec%TYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ttea_profe_fk(id_prof_exec_in => id_prof_exec_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_ttea_profe_fk;

    -- Delete all rows for this TTEA_PROFR_FK foreign key value
    PROCEDURE del_ttea_profr_fk
    (
        id_prof_review_in IN task_timeline_ea.id_prof_review%TYPE,
        handle_error_in   IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ttea_profr_fk(id_prof_review_in => id_prof_review_in,
                          handle_error_in   => handle_error_in,
                          rows_out          => rows_out);
    END del_ttea_profr_fk;

    -- Delete all rows for this TTEA_PROF_FK foreign key value
    PROCEDURE del_ttea_prof_fk
    (
        id_prof_req_in  IN task_timeline_ea.id_prof_req%TYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ttea_prof_fk(id_prof_req_in => id_prof_req_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_ttea_prof_fk;

    -- Delete all rows for this TTEA_TT_FK foreign key value
    PROCEDURE del_ttea_tt_fk
    (
        id_tl_task_in   IN task_timeline_ea.id_tl_task%TYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ttea_tt_fk(id_tl_task_in => id_tl_task_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_ttea_tt_fk;

    -- Delete all rows for this TTEA_VIS_FK foreign key value
    PROCEDURE del_ttea_vis_fk
    (
        id_visit_in     IN task_timeline_ea.id_visit%TYPE,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
        rows_out table_varchar;
    BEGIN
        del_ttea_vis_fk(id_visit_in => id_visit_in, handle_error_in => handle_error_in, rows_out => rows_out);
    END del_ttea_vis_fk;

    -- Deletions using dynamic SQL
    FUNCTION dyndelstr(where_in IN VARCHAR2) RETURN VARCHAR2 IS
    BEGIN
        IF where_in IS NULL
        THEN
            RETURN 'DELETE FROM task_timeline_ea';
        ELSE
            RETURN 'DELETE FROM task_timeline_ea WHERE ' || where_in;
        END IF;
    END dyndelstr;
    -- Delete all rows specified by dynamic WHERE clause
    PROCEDURE del_by
    (
        where_clause_in IN VARCHAR2,
        handle_error_in IN BOOLEAN := FALSE,
        rows_out        OUT table_varchar
    ) IS
    BEGIN
        EXECUTE IMMEDIATE 'BEGIN ' || dyndelstr(where_clause_in) ||
                          ' RETURNING ROWID BULK COLLECT INTO :rows_out; END;'
            USING OUT rows_out;
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_by;

    -- Delete all rows specified by dynamic WHERE clause
    PROCEDURE del_by
    (
        where_clause_in IN VARCHAR2,
        handle_error_in IN BOOLEAN := FALSE
    ) IS
    BEGIN
        EXECUTE IMMEDIATE dyndelstr(where_clause_in);
    
    EXCEPTION
        WHEN e_null_column_value
             OR e_existing_fky_reference
             OR e_check_constraint_failure
             OR e_no_parent_key
             OR e_child_record_found
             OR e_forall_error
             OR e_integ_constraint_failure THEN
            IF NOT handle_error_in
            THEN
                RAISE;
            ELSE
                pk_alertlog.log_error('DML error ignored: ' || SQLCODE || ': ' || SQLERRM);
            END IF;
        
    END del_by;

    -- Initialize a record with default values for columns in the table (prc)
    PROCEDURE initrec(task_timeline_ea_inout IN OUT task_timeline_ea%ROWTYPE) IS
    BEGIN
        task_timeline_ea_inout.id_tl_task             := NULL;
        task_timeline_ea_inout.id_task_refid          := NULL;
        task_timeline_ea_inout.id_patient             := NULL;
        task_timeline_ea_inout.id_episode             := NULL;
        task_timeline_ea_inout.id_visit               := NULL;
        task_timeline_ea_inout.id_institution         := NULL;
        task_timeline_ea_inout.dt_req                 := NULL;
        task_timeline_ea_inout.id_prof_req            := NULL;
        task_timeline_ea_inout.dt_begin               := NULL;
        task_timeline_ea_inout.dt_end                 := NULL;
        task_timeline_ea_inout.flg_status_req         := NULL;
        task_timeline_ea_inout.table_name             := NULL;
        task_timeline_ea_inout.flg_show_method        := NULL;
        task_timeline_ea_inout.flg_type_viewer        := NULL;
        task_timeline_ea_inout.status_str             := NULL;
        task_timeline_ea_inout.status_msg             := NULL;
        task_timeline_ea_inout.status_icon            := NULL;
        task_timeline_ea_inout.status_flg             := NULL;
        task_timeline_ea_inout.code_description       := NULL;
        task_timeline_ea_inout.dt_dg_last_update      := NULL;
        task_timeline_ea_inout.create_user            := NULL;
        task_timeline_ea_inout.create_time            := NULL;
        task_timeline_ea_inout.create_institution     := NULL;
        task_timeline_ea_inout.update_user            := NULL;
        task_timeline_ea_inout.update_time            := NULL;
        task_timeline_ea_inout.update_institution     := NULL;
        task_timeline_ea_inout.medication_subject     := NULL;
        task_timeline_ea_inout.flg_outdated           := NULL;
        task_timeline_ea_inout.id_ref_group           := NULL;
        task_timeline_ea_inout.rank                   := NULL;
        task_timeline_ea_inout.id_doc_area            := NULL;
        task_timeline_ea_inout.id_group_import        := NULL;
        task_timeline_ea_inout.code_desc_group        := NULL;
        task_timeline_ea_inout.dt_execution           := NULL;
        task_timeline_ea_inout.code_status            := NULL;
        task_timeline_ea_inout.flg_sos                := NULL;
        task_timeline_ea_inout.id_sub_group_import    := NULL;
        task_timeline_ea_inout.code_desc_sub_group    := NULL;
        task_timeline_ea_inout.id_task_aggregator     := NULL;
        task_timeline_ea_inout.universal_desc_clob    := NULL;
        task_timeline_ea_inout.id_parent_task_refid   := NULL;
        task_timeline_ea_inout.flg_ongoing            := NULL;
        task_timeline_ea_inout.flg_normal             := NULL;
        task_timeline_ea_inout.id_prof_exec           := NULL;
        task_timeline_ea_inout.dt_last_update         := NULL;
        task_timeline_ea_inout.flg_has_comments       := NULL;
        task_timeline_ea_inout.dt_last_execution      := NULL;
        task_timeline_ea_inout.id_parent_comments     := NULL;
        task_timeline_ea_inout.id_prof_review         := NULL;
        task_timeline_ea_inout.dt_review              := NULL;
        task_timeline_ea_inout.id_task_notes          := NULL;
        task_timeline_ea_inout.id_sample_type         := NULL;
        task_timeline_ea_inout.code_desc_sample_type  := NULL;
        task_timeline_ea_inout.flg_technical          := NULL;
        task_timeline_ea_inout.flg_relevant           := NULL;
        task_timeline_ea_inout.flg_stat               := NULL;
        task_timeline_ea_inout.id_task_related        := NULL;
        task_timeline_ea_inout.flg_type               := NULL;
        task_timeline_ea_inout.dt_result              := NULL;
        task_timeline_ea_inout.code_desc_group_parent := NULL;
        task_timeline_ea_inout.instructions_hash      := NULL;
    END initrec;

    -- Initialize a record with default values for columns in the table (fnc)
    FUNCTION initrec RETURN task_timeline_ea%ROWTYPE IS
        l_task_timeline_ea task_timeline_ea%ROWTYPE;
    BEGIN
        RETURN l_task_timeline_ea;
    END initrec;

    --get data from rowid
    FUNCTION get_data_rowid(rows_in IN table_varchar) RETURN task_timeline_ea_tc IS
        data task_timeline_ea_tc;
    BEGIN
        SELECT *
          BULK COLLECT
          INTO data
          FROM task_timeline_ea
         WHERE ROWID IN (SELECT /*+ OPT_ESTIMATE(TABLE t ROWS=1) */
                          *
                           FROM TABLE(rows_in) t);
        RETURN data;
    END get_data_rowid;

    --get data from rowid (pragma autonomous transacion)
    FUNCTION get_data_rowid_pat(rows_in IN table_varchar) RETURN task_timeline_ea_tc IS
        data task_timeline_ea_tc;
        PRAGMA AUTONOMOUS_TRANSACTION;
    BEGIN
        data := get_data_rowid(rows_in);
        COMMIT;
        RETURN data;
    
    EXCEPTION
        WHEN OTHERS THEN
            pk_alert_exceptions.raise_error(error_name_in => 'get_data_rowid_pat');
            ROLLBACK;
        
    END get_data_rowid_pat;

BEGIN
    NULL;
END ts_task_timeline_ea;
/
