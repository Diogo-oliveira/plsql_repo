CREATE OR REPLACE VIEW V_ADM_PATIENT_APPOINTMENTS AS
SELECT t1.sel_type,
       t1.sel_sub_type,
       t1.event_type,
       t1.id_event_type,
       t1.id_patient,
       t1.age,
       t1.num_clin_record,
       t1.id_episode,
       t1.id_dept,
       t1.id_clinical_service,
       t1.id_professional,
       t1.id_exam_cat,
       t1.id_exam,
       t1.dt_schedule_tstz,
       t1.notes,
       t1.dt_begin_tstz,
       t1.id_exam_req,
       t1.id_exam_req_det,
       t1.flg_status_req_det,
       t1.dt_req_tstz,
       t1.id_prof_req,
       t1.id_institution,
       t1.id_schedule,
       t1.flg_req_origin_module,
       t1.gender,
       t1.name,
       t1.id_room,
       t1.comb_name,
       t1.id_combination_spec,
       t1.id_external_request,
       t1.id_workflow,
       t1.flg_type,
       t1.flg_status,
       t1.id_speciality,
       t1.id_inst_orig,
       t1.id_inst_dest,
       t1.id_dep_clin_serv,
       t1.decision_urg_level,
       t1.id_prof_redirected,
       t1.id_prof_status,
       t1.id_external_sys,
       t1.dt_status_tstz,
       t1.id_consult_req,
       t1.id_instit_requests,
       t1.dt_last_update,
       t1.dt_consult_req_tstz,
       t1.id_reason,
       t1.flg_reason_type,
       t1.id_prof_dest,
       t1.dt_scheduled_tstz,
       t1.dt_begin_event,
       t1.status_str,
       t1.status_msg,
       t1.status_icon,
       t1.status_flg,
       t1.epis_id_dep_clin_serv,
       t1.id_epis_type,
       t1.id_epis_type_so,
       t1.reason_for_visit,
       t1.id_sch_event,
       t1.dt_end_event,
       t1.id_inst_requested,
       t1.flg_contact_type,
       t1.flg_type_of_external_resource,
       t1.id_prof_requested,
       t1.reason_visit,
       t1.id_prof_orig,
       t1.id_combination_events,
       t1.rank,
       t1.dt_suggest_begin,
       t1.flg_single_visit,
       nvl2(t1.rank, 'ExtendIcon', '') dependency_icon,
       t1.comb_count,
       t1.order_date
  FROM v_adm_patient_appointments_01 t1;
