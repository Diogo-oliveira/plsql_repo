CREATE OR REPLACE VIEW V_INPGRID_OPINION AS
SELECT 
vin.id_episode,
vin.id_visit,
vin.id_patient,
vin.flg_status_e,
vin.flg_ehr,
vin.id_epis_type,
vin.id_first_nurse_resp,
vin.id_professional,
vin.id_institution,
vin.dt_begin_tstz,
vin.dt_cancel_tstz,
vin.id_bed,
vin.desc_bed,
vin.code_bed,
vin.bed_rank,
vin.desc_room_abbreviation,
vin.code_abbreviation,
vin.code_room,
vin.room_rank,
vin.desc_room,
vin.id_room,
vin.abbreviation,
vin.code_department,
vin.id_department,
vin.dep_rank,
vin.id_dep_clin_serv,
vin.gender,
vin.dt_birth,
vin.dt_deceased,
vin.age,
vin.dt_first_obs_tstz,
vin.allocated,
vin.status_rank,
vin.flg_status_ei,
vin.flg_disch_status,
vin.dt_med_tstz,
vin.id_clinical_service,
vin.identity_code,
vin.dt_admission,
vin.id_prev_episode,
vin.dt_pend_tstz
from V_ALL_PATIENTS_INP_GRID vin
join V_INPGRID_OPINION_base vop on vop.id_episode = vin.id_episode
;
